"use strict";(self.webpackChunkBrightmoon=self.webpackChunkBrightmoon||[]).push([[179],{2011:(gt,Re,N)=>{N.d(Re,{Dh:()=>pe,GT:()=>ve,cc:()=>De,hO:()=>Oe,on:()=>W,pX:()=>ge,xv:()=>ye});var u=N(4650),B=N(127),P=N(880);gt=N.hmd(gt);const ne=["ngOnDestroy"],ge=(le,ot,Ye,Fe={})=>new Proxy(le,{get:(Pe,Ce)=>Ye.runOutsideAngular(()=>{var Ke;if(le[Ce])return!(null===(Ke=Fe?.spy)||void 0===Ke)&&Ke.get&&Fe.spy.get(Ce,le[Ce]),le[Ce];if(ne.indexOf(Ce)>-1)return()=>{};const te=ot.toPromise().then(ae=>{const we=ae&&ae[Ce];return"function"==typeof we?we.bind(ae):we&&we.then?we.then(J=>Ye.run(()=>J)):Ye.run(()=>we)});return new Proxy(()=>{},{get:(ae,we)=>te[we],apply:(ae,we,J)=>te.then(X=>{var he;const oe=X&&X(...J);return!(null===(he=Fe?.spy)||void 0===he)&&he.apply&&Fe.spy.apply(Ce,J,oe),oe})})})}),ve=(le,ot)=>{ot.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Fe=>{Object.defineProperty(le.prototype,Fe,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Fe))})})};class de{constructor(ot){return ot}}const pe=new u.OlP("angularfire2.app.options"),ye=new u.OlP("angularfire2.app.name");function W(le,ot,Ye){const Pe="object"==typeof Ye&&Ye||{};Pe.name=Pe.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const Ke=B.Z.apps.filter(te=>te&&te.name===Pe.name)[0]||ot.runOutsideAngular(()=>B.Z.initializeApp(le,Pe));try{JSON.stringify(le)!==JSON.stringify(Ke.options)&&z("error",`${Ke.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(Ke)}const z=(le,...ot)=>{(0,u.X6Q)()&&typeof console<"u"&&console[le](...ot)},Q={provide:de,useFactory:W,deps:[pe,u.R0b,[new u.FiY,ye]]};let Oe=(()=>{class le{constructor(Ye){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",u.q4F.full,Ye.toString())}static initializeApp(Ye,Fe){return{ngModule:le,providers:[{provide:pe,useValue:Ye},{provide:ye,useValue:Fe}]}}}return le.\u0275fac=function(Ye){return new(Ye||le)(u.LFG(u.Lbi))},le.\u0275mod=u.oAB({type:le}),le.\u0275inj=u.cJS({providers:[Q]}),le})();function De(le,ot,Ye,Fe,Pe){const[,Ce,Ke]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===le)||[];if(Ce)return function Te(le,ot){try{return le.toString()===ot.toString()}catch{return le===ot}}(Pe,Ke)||(be("error",`${ot} was already initialized on the ${Ye} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Pe,was:Ke})),Ce;{const te=Fe();return globalThis.\u0275AngularfireInstanceCache.push([le,te,Pe]),te}}const Je=!!gt.hot,be=(le,...ot)=>{(0,u.X6Q)()&&typeof console<"u"&&console[le](...ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(gt,Re,N)=>{N.d(Re,{q4:()=>Qo,iC:()=>mi,HU:()=>Is,vb:()=>Nl,JM:()=>lu,nk:()=>Hn,u3:()=>Lt});var u=N(4650),B=N(5867),P=N(5861),ne=N(9681),ge=N(2090),ve=N(4859),de=N(1877);N(2833);const ye="@firebase/remote-config",W="0.3.13",De=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mt{constructor(L,K,fe,$e){this.client=L,this.storage=K,this.storageCache=fe,this.logger=$e}isCachedDataFresh(L,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-K,$e=fe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${$e}.`),$e}fetch(L){var K=this;return(0,P.Z)(function*(){const[fe,$e]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if($e&&K.isCachedDataFresh(L.cacheMaxAgeMillis,fe))return $e;L.eTag=$e&&$e.eTag;const Qe=yield K.client.fetch(L),bt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qe.status&&bt.push(K.storage.setLastSuccessfulFetchResponse(Qe)),yield Promise.all(bt),Qe})()}}function Xt(V=navigator){return V.languages&&V.languages[0]||V.language}class Rt{constructor(L,K,fe,$e,Qe,bt){this.firebaseInstallations=L,this.sdkVersion=K,this.namespace=fe,this.projectId=$e,this.apiKey=Qe,this.appId=bt}fetch(L){var K=this;return(0,P.Z)(function*(){var fe,$e,Qe;const[bt,Yt]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),Ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Nt={sdk_version:K.sdkVersion,app_instance_id:bt,app_instance_id_token:Yt,app_id:K.appId,language_code:Xt()},On={method:"POST",headers:zn,body:JSON.stringify(Nt)},Eo=fetch(Ot,On),Co=new Promise((Jo,_i)=>{L.signal.addEventListener(()=>{const or=new Error("The operation was aborted.");or.name="AbortError",_i(or)})});let Tr;try{yield Promise.race([Eo,Co]),Tr=yield Eo}catch(Jo){let _i="fetch-client-network";throw"AbortError"===(null===(fe=Jo)||void 0===fe?void 0:fe.name)&&(_i="fetch-timeout"),De.create(_i,{originalErrorMessage:null===($e=Jo)||void 0===$e?void 0:$e.message})}let to=Tr.status;const da=Tr.headers.get("ETag")||void 0;let Ja,Io;if(200===Tr.status){let Jo;try{Jo=yield Tr.json()}catch(_i){throw De.create("fetch-client-parse",{originalErrorMessage:null===(Qe=_i)||void 0===Qe?void 0:Qe.message})}Ja=Jo.entries,Io=Jo.state}if("INSTANCE_STATE_UNSPECIFIED"===Io?to=500:"NO_CHANGE"===Io?to=304:("NO_TEMPLATE"===Io||"EMPTY_CONFIG"===Io)&&(Ja={}),304!==to&&200!==to)throw De.create("fetch-status",{httpStatus:to});return{status:to,eTag:da,config:Ja}})()}}class Nn{constructor(L,K){this.client=L,this.storage=K}fetch(L){var K=this;return(0,P.Z)(function*(){const fe=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(L,fe)})()}attemptFetch(L,{throttleEndTimeMillis:K,backoffCount:fe}){var $e=this;return(0,P.Z)(function*(){yield function qe(V,L){return new Promise((K,fe)=>{const $e=Math.max(L-Date.now(),0),Qe=setTimeout(K,$e);V.addEventListener(()=>{clearTimeout(Qe),fe(De.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,K);try{const Qe=yield $e.client.fetch(L);return yield $e.storage.deleteThrottleMetadata(),Qe}catch(Qe){if(!function ln(V){if(!(V instanceof ge.ZR&&V.customData))return!1;const L=Number(V.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Qe))throw Qe;const bt={throttleEndTimeMillis:Date.now()+(0,ge.$s)(fe),backoffCount:fe+1};return yield $e.storage.setThrottleMetadata(bt),$e.attemptFetch(L,bt)}})()}}class Ut{constructor(L,K,fe,$e,Qe){this.app=L,this._client=K,this._storageCache=fe,this._storage=$e,this._logger=Qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Et(V,L){var K;const fe=V.target.error||void 0;return De.create(L,{originalErrorMessage:fe&&(null===(K=fe)||void 0===K?void 0:K.message)})}const In="app_namespace_store";class er{constructor(L,K,fe,$e=function kn(){return new Promise((V,L)=>{var K;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=$e=>{L(Et($e,"storage-open"))},fe.onsuccess=$e=>{V($e.target.result)},fe.onupgradeneeded=$e=>{0===$e.oldVersion&&$e.target.result.createObjectStore(In,{keyPath:"compositeKey"})}}catch(fe){L(De.create("storage-open",{originalErrorMessage:null===(K=fe)||void 0===K?void 0:K.message}))}})}()){this.appId=L,this.appName=K,this.namespace=fe,this.openDbPromise=$e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var K=this;return(0,P.Z)(function*(){const fe=yield K.openDbPromise;return new Promise(($e,Qe)=>{var bt;const Ie=fe.transaction([In],"readonly").objectStore(In),Ot=K.createCompositeKey(L);try{const zn=Ie.get(Ot);zn.onerror=Nt=>{Qe(Et(Nt,"storage-get"))},zn.onsuccess=Nt=>{const On=Nt.target.result;$e(On?On.value:void 0)}}catch(zn){Qe(De.create("storage-get",{originalErrorMessage:null===(bt=zn)||void 0===bt?void 0:bt.message}))}})})()}set(L,K){var fe=this;return(0,P.Z)(function*(){const $e=yield fe.openDbPromise;return new Promise((Qe,bt)=>{var Yt;const Ot=$e.transaction([In],"readwrite").objectStore(In),zn=fe.createCompositeKey(L);try{const Nt=Ot.put({compositeKey:zn,value:K});Nt.onerror=On=>{bt(Et(On,"storage-set"))},Nt.onsuccess=()=>{Qe()}}catch(Nt){bt(De.create("storage-set",{originalErrorMessage:null===(Yt=Nt)||void 0===Yt?void 0:Yt.message}))}})})()}delete(L){var K=this;return(0,P.Z)(function*(){const fe=yield K.openDbPromise;return new Promise(($e,Qe)=>{var bt;const Ie=fe.transaction([In],"readwrite").objectStore(In),Ot=K.createCompositeKey(L);try{const zn=Ie.delete(Ot);zn.onerror=Nt=>{Qe(Et(Nt,"storage-delete"))},zn.onsuccess=()=>{$e()}}catch(zn){Qe(De.create("storage-delete",{originalErrorMessage:null===(bt=zn)||void 0===bt?void 0:bt.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class Or{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,P.Z)(function*(){const K=L.storage.getLastFetchStatus(),fe=L.storage.getLastSuccessfulFetchTimestampMillis(),$e=L.storage.getActiveConfig(),Qe=yield K;Qe&&(L.lastFetchStatus=Qe);const bt=yield fe;bt&&(L.lastSuccessfulFetchTimestampMillis=bt);const Yt=yield $e;Yt&&(L.activeConfig=Yt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function $r(){return et.apply(this,arguments)}function et(){return(et=(0,P.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function jn(){(0,ne._registerComponent)(new ve.wA("remote-config",function V(L,{instanceIdentifier:K}){const fe=L.getProvider("app").getImmediate(),$e=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw De.create("registration-window");if(!(0,ge.hl)())throw De.create("indexed-db-unavailable");const{projectId:Qe,apiKey:bt,appId:Yt}=fe.options;if(!Qe)throw De.create("registration-project-id");if(!bt)throw De.create("registration-api-key");if(!Yt)throw De.create("registration-app-id");const Ie=new er(Yt,fe.name,K=K||"firebase"),Ot=new Or(Ie),zn=new de.Yd(ye);zn.logLevel=de.in.ERROR;const Nt=new Rt($e,ne.SDK_VERSION,K,Qe,bt,Yt),On=new Nn(Nt,Ie),Eo=new mt(On,Ie,Ot,zn),Co=new Ut(fe,Eo,Ot,Ie,zn);return function Ke(V){const L=(0,ge.m9)(V);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Co),Co},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(ye,W),(0,ne.registerVersion)(ye,W,"esm2017")}();var fn=N(8766);const Fn="/firebase-messaging-sw.js",dn="/firebase-cloud-messaging-push-scope",tr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yn="google.c.a.c_id",vn="google.c.a.c_l",rn="google.c.a.ts",dt="google.c.a.e";var ht=(()=>{return(V=ht||(ht={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",ht;var V})();function bn(V){const L=new Uint8Array(V);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nr(V){const K=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(K),$e=new Uint8Array(fe.length);for(let Qe=0;Qe<fe.length;++Qe)$e[Qe]=fe.charCodeAt(Qe);return $e}const rr="fcm_token_details_db",ur="fcm_token_object_Store";function kt(V){return _r.apply(this,arguments)}function _r(){return _r=(0,P.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qe=>Qe.name).includes(rr))return null;let L=null;return(yield(0,fn.X3)(rr,5,{upgrade:(fe=(0,P.Z)(function*($e,Qe,bt,Yt){var Ie;if(Qe<2||!$e.objectStoreNames.contains(ur))return;const Ot=Yt.objectStore(ur),zn=yield Ot.index("fcmSenderId").get(V);if(yield Ot.clear(),zn)if(2===Qe){const Nt=zn;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;L={token:Nt.fcmToken,createTime:null!==(Ie=Nt.createTime)&&void 0!==Ie?Ie:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:bn(Nt.vapidKey)}}}else if(3===Qe){const Nt=zn;L={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:bn(Nt.auth),p256dh:bn(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:bn(Nt.vapidKey)}}}else if(4===Qe){const Nt=zn;L={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:bn(Nt.auth),p256dh:bn(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:bn(Nt.vapidKey)}}}}),function(Qe,bt,Yt,Ie){return fe.apply(this,arguments)})})).close(),yield(0,fn.Lj)(rr),yield(0,fn.Lj)("fcm_vapid_details_db"),yield(0,fn.Lj)("undefined"),jt(L)?L:null;var fe}),_r.apply(this,arguments)}function jt(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:L}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const Xe="firebase-messaging-store";let Me=null;function rt(){return Me||(Me=(0,fn.X3)("firebase-messaging-database",1,{upgrade:(V,L)=>{0===L&&V.createObjectStore(Xe)}})),Me}function yt(V){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,P.Z)(function*(V){const L=R(V),fe=yield(yield rt()).transaction(Xe).objectStore(Xe).get(L);if(fe)return fe;{const $e=yield kt(V.appConfig.senderId);if($e)return yield Ht(V,$e),$e}})).apply(this,arguments)}function Ht(V,L){return G.apply(this,arguments)}function G(){return(G=(0,P.Z)(function*(V,L){const K=R(V),$e=(yield rt()).transaction(Xe,"readwrite");return yield $e.objectStore(Xe).put(L,K),yield $e.done,L})).apply(this,arguments)}function j(V){return O.apply(this,arguments)}function O(){return(O=(0,P.Z)(function*(V){const L=R(V),fe=(yield rt()).transaction(Xe,"readwrite");yield fe.objectStore(Xe).delete(L),yield fe.done})).apply(this,arguments)}function R({appConfig:V}){return V.appId}const k=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $(V,L){return ce.apply(this,arguments)}function ce(){return(ce=(0,P.Z)(function*(V,L){var K;const fe=yield Gt(V),$e=Bt(L),Qe={method:"POST",headers:fe,body:JSON.stringify($e)};let bt;try{bt=yield(yield fetch(ct(V.appConfig),Qe)).json()}catch(Yt){throw k.create("token-subscribe-failed",{errorInfo:null===(K=Yt)||void 0===K?void 0:K.toString()})}if(bt.error)throw k.create("token-subscribe-failed",{errorInfo:bt.error.message});if(!bt.token)throw k.create("token-subscribe-no-token");return bt.token})).apply(this,arguments)}function Le(V,L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(V,L){var K;const fe=yield Gt(V),$e=Bt(L.subscriptionOptions),Qe={method:"PATCH",headers:fe,body:JSON.stringify($e)};let bt;try{bt=yield(yield fetch(`${ct(V.appConfig)}/${L.token}`,Qe)).json()}catch(Yt){throw k.create("token-update-failed",{errorInfo:null===(K=Yt)||void 0===K?void 0:K.toString()})}if(bt.error)throw k.create("token-update-failed",{errorInfo:bt.error.message});if(!bt.token)throw k.create("token-update-no-token");return bt.token})).apply(this,arguments)}function me(V,L){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(V,L){var K;const $e={method:"DELETE",headers:yield Gt(V)};try{const bt=yield(yield fetch(`${ct(V.appConfig)}/${L}`,$e)).json();if(bt.error)throw k.create("token-unsubscribe-failed",{errorInfo:bt.error.message})}catch(Qe){throw k.create("token-unsubscribe-failed",{errorInfo:null===(K=Qe)||void 0===K?void 0:K.toString()})}})).apply(this,arguments)}function ct({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function Gt(V){return It.apply(this,arguments)}function It(){return(It=(0,P.Z)(function*({appConfig:V,installations:L}){const K=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Bt({p256dh:V,auth:L,endpoint:K,vapidKey:fe}){const $e={web:{endpoint:K,auth:L,p256dh:V}};return fe!==tr&&($e.web.applicationPubKey=fe),$e}const Xr=6048e5;function Tn(V){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*(V){const L=yield zt(V.swRegistration,V.vapidKey),K={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:L.endpoint,auth:bn(L.getKey("auth")),p256dh:bn(L.getKey("p256dh"))},fe=yield yt(V.firebaseDependencies);if(fe){if(xn(fe.subscriptionOptions,K))return Date.now()>=fe.createTime+Xr?ee(V,{token:fe.token,createTime:Date.now(),subscriptionOptions:K}):fe.token;try{yield me(V.firebaseDependencies,fe.token)}catch($e){console.warn($e)}return ze(V.firebaseDependencies,K)}return ze(V.firebaseDependencies,K)})).apply(this,arguments)}function Qi(V){return vt.apply(this,arguments)}function vt(){return(vt=(0,P.Z)(function*(V){const L=yield yt(V.firebaseDependencies);L&&(yield me(V.firebaseDependencies,L.token),yield j(V.firebaseDependencies));const K=yield V.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function ee(V,L){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(V,L){try{const K=yield Le(V.firebaseDependencies,L),fe=Object.assign(Object.assign({},L),{token:K,createTime:Date.now()});return yield Ht(V.firebaseDependencies,fe),K}catch(K){throw yield Qi(V),K}})).apply(this,arguments)}function ze(V,L){return ft.apply(this,arguments)}function ft(){return(ft=(0,P.Z)(function*(V,L){const fe={token:yield $(V,L),createTime:Date.now(),subscriptionOptions:L};return yield Ht(V,fe),fe.token})).apply(this,arguments)}function zt(V,L){return cn.apply(this,arguments)}function cn(){return(cn=(0,P.Z)(function*(V,L){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nr(L)})})).apply(this,arguments)}function xn(V,L){return L.vapidKey===V.vapidKey&&L.endpoint===V.endpoint&&L.auth===V.auth&&L.p256dh===V.p256dh}function An(V){const L={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function Pr(V,L){if(!L.notification)return;V.notification={};const K=L.notification.title;K&&(V.notification.title=K);const fe=L.notification.body;fe&&(V.notification.body=fe);const $e=L.notification.image;$e&&(V.notification.image=$e)}(L,V),function Nr(V,L){!L.data||(V.data=L.data)}(L,V),function pn(V,L){var K,fe,$e,Qe,bt;if(!(L.fcmOptions||null!==(K=L.notification)&&void 0!==K&&K.click_action))return;V.fcmOptions={};const Yt=null!==($e=null===(fe=L.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==$e?$e:null===(Qe=L.notification)||void 0===Qe?void 0:Qe.click_action;Yt&&(V.fcmOptions.link=Yt);const Ie=null===(bt=L.fcmOptions)||void 0===bt?void 0:bt.analytics_label;Ie&&(V.fcmOptions.analyticsLabel=Ie)}(L,V),L}function Rl(V){return"object"==typeof V&&!!V&&yn in V}function vs(V,L){const K=[];for(let fe=0;fe<V.length;fe++)K.push(V.charAt(fe)),fe<L.length&&K.push(L.charAt(fe));return K.join("")}function mo(V){return k.create("missing-app-config-values",{valueName:V})}vs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oi{constructor(L,K,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $e=function bs(V){if(!V||!V.options)throw mo("App Configuration Object");if(!V.name)throw mo("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:K}=V;for(const fe of L)if(!K[fe])throw mo(fe);return{appName:V.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:$e,installations:K,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Ji(V){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,P.Z)(function*(V){var L;try{V.swRegistration=yield navigator.serviceWorker.register(Fn,{scope:dn}),V.swRegistration.update().catch(()=>{})}catch(K){throw k.create("failed-service-worker-registration",{browserErrorMessage:null===(L=K)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function ir(V,L){return Za.apply(this,arguments)}function Za(){return(Za=(0,P.Z)(function*(V,L){if(!L&&!V.swRegistration&&(yield Ji(V)),L||!V.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw k.create("invalid-sw-registration");V.swRegistration=L}})).apply(this,arguments)}function br(V,L){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,P.Z)(function*(V,L){L?V.vapidKey=L:V.vapidKey||(V.vapidKey=tr)})).apply(this,arguments)}function qo(){return(qo=(0,P.Z)(function*(V,L){if(!navigator)throw k.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw k.create("permission-blocked");return yield br(V,L?.vapidKey),yield ir(V,L?.serviceWorkerRegistration),Tn(V)})).apply(this,arguments)}function Ko(V,L,K){return si.apply(this,arguments)}function si(){return(si=(0,P.Z)(function*(V,L,K){const fe=oa(L);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:K[yn],message_name:K[vn],message_time:K[rn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oa(V){switch(V){case ht.NOTIFICATION_CLICKED:return"notification_open";case ht.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ws(){return(ws=(0,P.Z)(function*(V,L){const K=L.data;if(!K.isFirebaseMessaging)return;V.onMessageHandler&&K.messageType===ht.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(An(K)):V.onMessageHandler.next(An(K)));const fe=K.data;Rl(fe)&&"1"===fe[dt]&&(yield Ko(V,K.messageType,fe))})).apply(this,arguments)}const Yo="@firebase/messaging",ai=V=>{const L=new oi(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Zh(V,L){return ws.apply(this,arguments)}(L,K)),L},Wh=V=>{const L=V.getProvider("messaging").getImmediate();return{getToken:fe=>function Xi(V,L){return qo.apply(this,arguments)}(L,fe)}};function kl(){return sa.apply(this,arguments)}function sa(){return(sa=(0,P.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pi(){(0,ne._registerComponent)(new ve.wA("messaging",ai,"PUBLIC")),(0,ne._registerComponent)(new ve.wA("messaging-internal",Wh,"PRIVATE")),(0,ne.registerVersion)(Yo,"0.9.18"),(0,ne.registerVersion)(Yo,"0.9.18","esm2017")}();var cu=N(6148),Wa=N(4408),qg=N(7565);const Dr=new class uu extends qg.v{}(class ca extends Wa.o{constructor(L,K){super(L,K),this.scheduler=L,this.work=K}schedule(L,K=0){return K>0?super.schedule(L,K):(this.delay=K,this.state=L,this.scheduler.flush(this),this)}execute(L,K){return K>0||this.closed?super.execute(L,K):this._execute(L,K)}requestAsyncId(L,K,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(L,K,fe):(L.flush(this),0)}});var _o=N(4986),qa=N(9751),Ka=N(8505),ua=N(9468),Ya=N(5363);const Qo=new u.GfV("7.4.1"),la="__angularfire_symbol__analyticsIsSupportedValue",Ni="__angularfire_symbol__analyticsIsSupported",Qa="__angularfire_symbol__remoteConfigIsSupportedValue",Lr="__angularfire_symbol__remoteConfigIsSupported",yo="__angularfire_symbol__messagingIsSupportedValue",Hr="__angularfire_symbol__messagingIsSupported";globalThis[Ni]||(globalThis[Ni]=(0,cu.Gb)().then(V=>globalThis[la]=V).catch(()=>globalThis[la]=!1)),globalThis[Hr]||(globalThis[Hr]=kl().then(V=>globalThis[yo]=V).catch(()=>globalThis[yo]=!1)),globalThis[Lr]||(globalThis[Lr]=$r().then(V=>globalThis[Qa]=V).catch(()=>globalThis[Qa]=!1));const Hn={async:()=>globalThis[Ni],sync:()=>{const V=globalThis[la];if(void 0===V)throw new Error((V=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${V} in the constructor, first ensure that ${V} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${V})\`.`)("Analytics"));return V}};function lu(V,L,K){if(L){if(1===L.length)return L[0];const Qe=L.filter(bt=>bt.app===K);if(1===Qe.length)return Qe[0]}return K.container.getProvider(V).getImmediate({optional:!0})}const Nl=(V,L)=>{const K=L?[L]:(0,B.C6)(),fe=[];return K.forEach($e=>{$e.container.getProvider(V).instances.forEach(bt=>{fe.includes(bt)||fe.push(bt)})}),fe};function Ei(){}class Vr{constructor(L,K=Dr){this.zone=L,this.delegate=K}now(){return this.delegate.now()}schedule(L,K,fe){const $e=this.zone;return this.delegate.schedule(function(bt){$e.runGuarded(()=>{L.apply(this,[bt])})},K,fe)}}class du{constructor(L){this.zone=L,this.task=null}call(L,K){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ei,{},Ei,Ei)),K.pipe((0,Ka.b)({next:fe,complete:fe,error:fe})).subscribe(L).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Is=(()=>{class V{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new Vr(Zone.current)),this.insideAngular=K.run(()=>new Vr(Zone.current,_o.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(K){return new(K||V)(u.LFG(u.R0b))},V.\u0275prov=u.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function zr(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function gn(V){return zr().ngZone.runOutsideAngular(()=>V())}function bo(V){return zr().ngZone.run(()=>V())}function mi(V){return zr(),function Ds(V){return function(K){return(K=K.lift(new du(V.ngZone))).pipe((0,ua.R)(V.outsideAngular),(0,Ya.Q)(V.insideAngular))}}(zr())(V)}const Ts=(V,L)=>function(){const fe=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),bo(()=>V.apply(void 0,fe))},Lt=(V,L)=>function(){let K;const fe=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof fe[Qe]&&(L&&(K||(K=bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ei,{},Ei,Ei)))),fe[Qe]=Ts(fe[Qe],K));const $e=gn(()=>V.apply(this,fe));if(!L){if($e instanceof qa.y){const Qe=zr();return $e.pipe((0,ua.R)(Qe.outsideAngular),(0,Ya.Q)(Qe.insideAngular))}return bo(()=>$e)}return $e instanceof qa.y?$e.pipe(mi):$e instanceof Promise?bo(()=>new Promise((Qe,bt)=>$e.then(Yt=>bo(()=>Qe(Yt)),Yt=>bo(()=>bt(Yt))))):"function"==typeof $e&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),$e.apply(this,arguments)}:bo(()=>$e)}},9934:(gt,Re,N)=>{N.d(Re,{$:()=>Qe,A:()=>z,B:()=>De,G:()=>Ee,H:()=>xn,J:()=>Pi,L:()=>G,M:()=>uu,N:()=>qa,P:()=>pm,Q:()=>Ka,R:()=>db,T:()=>ua,U:()=>_o,V:()=>Ni,W:()=>Qa,X:()=>Kg,Y:()=>Ds,Z:()=>Lt,_:()=>L,a:()=>es,a0:()=>zn,a1:()=>On,a2:()=>Co,a3:()=>to,a4:()=>Ja,a5:()=>Jo,a6:()=>or,a7:()=>no,a8:()=>ec,a9:()=>Xo,aA:()=>pc,aB:()=>Bi,aC:()=>dr,aD:()=>id,aE:()=>vt,aI:()=>fa,aL:()=>Qo,aa:()=>cb,ab:()=>Fl,ac:()=>Vl,af:()=>Jg,ag:()=>Xg,ah:()=>ef,ak:()=>Ei,al:()=>im,an:()=>om,ao:()=>nf,ap:()=>ct,aq:()=>we,ar:()=>xe,as:()=>Le,at:()=>Ye,au:()=>Ea,av:()=>ji,aw:()=>Fe,ax:()=>te,ay:()=>X,az:()=>j,b:()=>Ms,c:()=>lr,d:()=>mf,e:()=>td,f:()=>yr,g:()=>_f,h:()=>ei,i:()=>Eu,j:()=>ko,k:()=>ld,l:()=>Vi,m:()=>oo,n:()=>bm,o:()=>pe,r:()=>So,s:()=>ro,u:()=>ff,v:()=>nc});var u=N(5861),B=N(2090),P=N(9681),ne=N(1877),ge=N(655),ve=N(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const De=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Te=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),le=new ne.Yd("@firebase/auth");function ot(v,...p){le.logLevel<=ne.in.ERROR&&le.error(`Auth (${P.SDK_VERSION}): ${v}`,...p)}function Ye(v,...p){throw Ke(v,...p)}function Fe(v,...p){return Ke(v,...p)}function Pe(v,p,m){const w=Object.assign(Object.assign({},Te()),{[p]:m});return new B.LL("auth","Firebase",w).create(p,{appName:v.name})}function Ce(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ye(v,"argument-error"),Pe(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return Je.create(v,...p)}function te(v,p,...m){if(!v)throw Ke(p,...m)}function ae(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ot(p),new Error(p)}function we(v,p){v||ae(p)}const J=new Map;function X(v){we(v instanceof Function,"Expected a class definition");let p=J.get(v);return p?(we(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,J.set(v,p),p)}function He(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function je(){return"http:"===mt()||"https:"===mt()}function mt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class qe{constructor(p,m){this.shortDelay=p,this.longDelay=m,we(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(v,p){we(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Nn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},en=new qe(3e4,6e4);function Ut(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Et(v,p,m,w){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(v,p,m,w,S={}){return kr(v,S,(0,u.Z)(function*(){let F={},re={};w&&("GET"===p?re=w:F={body:JSON.stringify(w)});const ke=(0,B.xO)(Object.assign({key:v.config.apiKey},re)).slice(1),st=yield v._getAdditionalHeaders();return st["Content-Type"]="application/json",v.languageCode&&(st["X-Firebase-Locale"]=v.languageCode),Nn.fetch()(Or(v,v.config.apiHost,m,ke),Object.assign({method:p,headers:st,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function kr(v,p,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},an),p);try{const S=new jn(v),F=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const re=yield F.json();if("needConfirmation"in re)throw $n(v,"account-exists-with-different-credential",re);if(F.ok&&!("errorMessage"in re))return re;{const ke=F.ok?re.errorMessage:re.error.message,[st,Tt]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw $n(v,"credential-already-in-use",re);if("EMAIL_EXISTS"===st)throw $n(v,"email-already-in-use",re);if("USER_DISABLED"===st)throw $n(v,"user-disabled",re);const nn=w[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Pe(v,nn,Tt);Ye(v,nn)}}catch(S){if(S instanceof B.ZR)throw S;Ye(v,"network-request-failed")}})).apply(this,arguments)}function kn(v,p,m,w){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(v,p,m,w,S={}){const F=yield Et(v,p,m,w,S);return"mfaPendingCredential"in F&&Ye(v,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Or(v,p,m,w){const S=`${p}${m}?${w}`;return v.config.emulator?ln(v.config,S):`${v.config.apiScheme}://${S}`}class jn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Fe(this.auth,"network-request-failed")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=Fe(v,p,w);return S.customData._tokenResponse=m,S}function $r(){return($r=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function et(v,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fn(v,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function tr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function vn(){return(vn=(0,u.Z)(function*(v,p=!1){const m=(0,B.m9)(v),w=yield m.getIdToken(p),S=dt(w);te(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const F="object"==typeof S.firebase?S.firebase:void 0,re=F?.sign_in_provider;return{claims:S,token:w,authTime:tr(rn(S.auth_time)),issuedAtTime:tr(rn(S.iat)),expirationTime:tr(rn(S.exp)),signInProvider:re||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function rn(v){return 1e3*Number(v)}function dt(v){var p;const[m,w,S]=v.split(".");if(void 0===m||void 0===w||void 0===S)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,B.tV)(w);return F?JSON.parse(F):(ot("Failed to decode base64 JWT payload"),null)}catch(F){return ot("Caught error parsing JWT payload as JSON",null===(p=F)||void 0===p?void 0:p.toString()),null}}function ht(v,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof B.ZR&&nr(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function nr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class rr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,u.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Dt{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ur(v){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),S=yield ht(v,Fn(m,{idToken:w}));te(S?.users.length,m,"internal-error");const F=S.users[0];v._notifyReloadListener(F);const re=null!==(p=F.providerUserInfo)&&void 0!==p&&p.length?Dn(F.providerUserInfo):[],ke=Zn(v.providerData,re),nn=!!v.isAnonymous&&!(v.email&&F.passwordHash||ke?.length),wn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ke,metadata:new Dt(F.createdAt,F.lastLoginAt),isAnonymous:nn};Object.assign(v,wn)})).apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(v){const p=(0,B.m9)(v);yield ur(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Zn(v,p){return[...v.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function Dn(v){return v.map(p=>{var{providerId:m}=p,w=(0,ge._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Me(){return(Me=(0,u.Z)(function*(v,p){const m=yield kr(v,{},(0,u.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:F}=v.config,re=Or(v,S,"/v1/token",`key=${F}`),ke=yield v._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",Nn.fetch()(re,{method:"POST",headers:ke,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(typeof p.idToken<"u","internal-error"),te(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function lt(v){const p=dt(v);return te(p,"internal-error"),te(typeof p.exp<"u","internal-error"),te(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,u.Z)(function*(){return te(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:F,expiresIn:re}=yield function Xe(v,p){return Me.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(S,F,Number(re))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:S,expirationTime:F}=m,re=new rt;return w&&(te("string"==typeof w,"internal-error",{appName:p}),re.refreshToken=w),S&&(te("string"==typeof S,"internal-error",{appName:p}),re.accessToken=S),F&&(te("number"==typeof F,"internal-error",{appName:p}),re.expirationTime=F),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return ae("not implemented")}}function yt(v,p){te("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Ct{constructor(p){var{uid:m,auth:w,stsTokenManager:S}=p,F=(0,ge._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Dt(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const w=yield ht(m,m.stsTokenManager.getToken(m.auth,p));return te(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function yn(v){return vn.apply(this,arguments)}(this,p)}reload(){return function _r(v){return jt.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Ct(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield ur(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield ht(p,function mr(v,p){return $r.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,S,F,re,ke,st,Tt,nn;const wn=null!==(w=m.displayName)&&void 0!==w?w:void 0,Gr=null!==(S=m.email)&&void 0!==S?S:void 0,Di=null!==(F=m.phoneNumber)&&void 0!==F?F:void 0,Ru=null!==(re=m.photoURL)&&void 0!==re?re:void 0,ku=null!==(ke=m.tenantId)&&void 0!==ke?ke:void 0,Ou=null!==(st=m._redirectEventId)&&void 0!==st?st:void 0,Bs=null!==(Tt=m.createdAt)&&void 0!==Tt?Tt:void 0,If=null!==(nn=m.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:gd,emailVerified:Pu,isAnonymous:yc,providerData:vc,stsTokenManager:as}=m;te(gd&&as,p,"internal-error");const wm=rt.fromJSON(this.name,as);te("string"==typeof gd,p,"internal-error"),yt(wn,p.name),yt(Gr,p.name),te("boolean"==typeof Pu,p,"internal-error"),te("boolean"==typeof yc,p,"internal-error"),yt(Di,p.name),yt(Ru,p.name),yt(ku,p.name),yt(Ou,p.name),yt(Bs,p.name),yt(If,p.name);const Gn=new Ct({uid:gd,auth:p,email:Gr,emailVerified:Pu,displayName:wn,isAnonymous:yc,photoURL:Ru,phoneNumber:Di,tenantId:ku,stsTokenManager:wm,createdAt:Bs,lastLoginAt:If});return vc&&Array.isArray(vc)&&(Gn.providerData=vc.map(Em=>Object.assign({},Em))),Ou&&(Gn._redirectEventId=Ou),Gn}static _fromIdTokenResponse(p,m,w=!1){return(0,u.Z)(function*(){const S=new rt;S.updateFromServerResponse(m);const F=new Ct({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield ur(F),F})()}}const G=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,u.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,u.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,u.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function j(v,p,m){return`firebase:${v}:${p}:${m}`}class O{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:S,name:F}=this.auth;this.fullUserKey=j(this.userKey,S.apiKey,F),this.fullPersistenceKey=j("persistence",S.apiKey,F),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Ct._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,u.Z)(function*(){if(!m.length)return new O(X(G),p,w);const S=(yield Promise.all(m.map(function(){var Tt=(0,u.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let F=S[0]||X(G);const re=j(w,p.config.apiKey,p.name);let ke=null;for(const Tt of m)try{const nn=yield Tt._get(re);if(nn){const wn=Ct._fromJSON(p,nn);Tt!==F&&(ke=wn),F=Tt;break}}catch{}const st=S.filter(Tt=>Tt._shouldAllowMigration);return F._shouldAllowMigration&&st.length?(F=st[0],ke&&(yield F._set(re,ke.toJSON())),yield Promise.all(m.map(function(){var Tt=(0,u.Z)(function*(nn){if(nn!==F)try{yield nn._remove(re)}catch{}});return function(nn){return Tt.apply(this,arguments)}}())),new O(F,p,w)):new O(F,p,w)})()}}function R(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ce(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(D(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ze(p))return"Blackberry";if(me(p))return"Webos";if(k(p))return"Safari";if((p.includes("chrome/")||$(p))&&!p.includes("edge/"))return"Chrome";if(Le(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function D(v=(0,B.z$)()){return/firefox\//i.test(v)}function k(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function $(v=(0,B.z$)()){return/crios\//i.test(v)}function ce(v=(0,B.z$)()){return/iemobile/i.test(v)}function Le(v=(0,B.z$)()){return/android/i.test(v)}function Ze(v=(0,B.z$)()){return/blackberry/i.test(v)}function me(v=(0,B.z$)()){return/webos/i.test(v)}function xe(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function ct(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Bt(v=(0,B.z$)()){return xe(v)||Le(v)||me(v)||Ze(v)||/windows phone/i.test(v)||ce(v)}function Tn(v,p=[]){let m;switch(v){case"Browser":m=R((0,B.z$)());break;case"Worker":m=`${R((0,B.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${w}`}class ki{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=F=>new Promise((re,ke)=>{try{re(p(F))}catch(st){ke(st)}});w.onAbort=m,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){var w;if(m.auth.currentUser===p)return;const S=[];try{for(const F of m.queue)yield F(p),F.onAbort&&S.push(F.onAbort)}catch(F){S.reverse();for(const re of S)try{re()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=F)||void 0===w?void 0:w.message})}})()}}class Qi{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ee(this),this.idTokenSubscription=new ee(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=X(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,F;if(!w._deleted&&(w.persistenceManager=yield O.create(w,p),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(F=w.currentUser)||void 0===F?void 0:F.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var w;const S=yield m.assertedPersistence.getCurrentUser();let F=S,re=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ke=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,st=F?._redirectEventId,Tt=yield m.tryRedirectSignIn(p);(!ke||ke===st)&&Tt?.user&&(F=Tt.user,re=!0)}if(!F)return m.directlySetCurrentUser(null);if(!F._redirectEventId){if(re)try{yield m.beforeStateQueue.runMiddleware(F)}catch(ke){F=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ke))}return F?m.reloadAndSetCurrentUserOrClear(F):m.directlySetCurrentUser(null)}return te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===F._redirectEventId?m.directlySetCurrentUser(F):m.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){var w;try{yield ur(p)}catch(S){if("auth/network-request-failed"!==(null===(w=S)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const w=p?(0,B.m9)(p):null;return w&&te(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return p&&te(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(X(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,u.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&X(p)||m._popupRedirectResolver;te(w,m,"argument-error"),m.redirectPersistenceManager=yield O.create(m,[X(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,S){if(this._deleted)return()=>{};const F="function"==typeof m?m:m.next.bind(m),re=this._isInitialized?Promise.resolve():this._initializationPromise;return te(re,this,"internal-error"),re.then(()=>F(this.currentUser)),"function"==typeof m?p.addObserver(m,w,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function vt(v){return(0,B.m9)(v)}class ee{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ee(v,p,m){const w=vt(v);te(w._canInitEmulator,w,"emulator-config-failed"),te(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!m?.disableWarnings,F=ze(p),{host:re,port:ke}=function ft(v){const p=ze(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const F=S[1];return{host:F,port:zt(w.substr(F.length+1))}}{const[F,re]=w.split(":");return{host:F,port:zt(re)}}}(p);w.config.emulator={url:`${F}//${re}${null===ke?"":`:${ke}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:re,port:ke,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function cn(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ze(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function zt(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class xn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ae("not implemented")}_getIdTokenResponse(p){return ae("not implemented")}_linkToIdToken(p,m){return ae("not implemented")}_getReauthenticationResolver(p){return ae("not implemented")}}function An(v,p){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:resetPassword",Ut(v,p))})).apply(this,arguments)}function Nr(v,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rl(v,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:update",Ut(v,p))})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(v,p){return kn(v,"POST","/v1/accounts:signInWithPassword",Ut(v,p))})).apply(this,arguments)}function oi(v,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:sendOobCode",Ut(v,p))})).apply(this,arguments)}function Oi(v,p){return ir.apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(v,p){return oi(v,p)})).apply(this,arguments)}function Za(v,p){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(v,p){return oi(v,p)})).apply(this,arguments)}function Fr(v,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(v,p){return oi(v,p)})).apply(this,arguments)}function qo(v,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(v,p){return oi(v,p)})).apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(v,p){return kn(v,"POST","/v1/accounts:signInWithEmailLink",Ut(v,p))})).apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*(v,p){return kn(v,"POST","/v1/accounts:signInWithEmailLink",Ut(v,p))})).apply(this,arguments)}class Yo extends xn{constructor(p,m,w,S=null){super("password",w),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Yo(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Yo(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function bs(v,p){return mo.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function si(v,p){return oa.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ye(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return Nr(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Zh(v,p){return ws.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ye(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function eo(v,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(v,p){return kn(v,"POST","/v1/accounts:signInWithIdp",Ut(v,p))})).apply(this,arguments)}class Pi extends xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Pi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ye("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=m,F=(0,ge._T)(m,["providerId","signInMethod"]);if(!w||!S)return null;const re=new Pi(w,S);return re.idToken=F.idToken||void 0,re.accessToken=F.accessToken||void 0,re.secret=F.secret,re.nonce=F.nonce,re.pendingToken=F.pendingToken||null,re}_getIdTokenResponse(p){return eo(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,eo(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,eo(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function kl(v,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:sendVerificationCode",Ut(v,p))})).apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(v,p){return kn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ut(v,p))})).apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(v,p){const m=yield kn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ut(v,p));if(m.temporaryProof)throw $n(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Wg={USER_NOT_FOUND:"user-not-found"};function Pl(){return(Pl=(0,u.Z)(function*(v,p){return kn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ut(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Wg)})).apply(this,arguments)}class Es extends xn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Es({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Es({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function qh(v,p){return aa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Kh(v,p){return Ol.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function au(v,p){return Pl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:F}=p;return w||m||S||F?new Es({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:F}):null}}class ca{constructor(p){var m,w,S,F,re,ke;const st=(0,B.zd)((0,B.pd)(p)),Tt=null!==(m=st.apiKey)&&void 0!==m?m:null,nn=null!==(w=st.oobCode)&&void 0!==w?w:null,wn=function cu(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=st.mode)&&void 0!==S?S:null);te(Tt&&nn&&wn,"argument-error"),this.apiKey=Tt,this.operation=wn,this.code=nn,this.continueUrl=null!==(F=st.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(re=st.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(ke=st.tenantId)&&void 0!==ke?ke:null}static parseLink(p){const m=function Wa(v){const p=(0,B.zd)((0,B.pd)(v)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||m||p||v}(p);try{return new ca(m)}catch{return null}}}let uu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return Yo._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=ca.parseLink(w);return te(S,"argument-error"),Yo._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Dr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Cs extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class _o extends Cs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return te("providerId"in m&&"signInMethod"in m,"argument-error"),Pi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),Pi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return _o.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return _o.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:F,nonce:re,providerId:ke}=p;if(!w&&!S&&!m&&!F||!ke)return null;try{return new _o(ke)._credential({idToken:m,accessToken:w,nonce:re,pendingToken:F})}catch{return null}}}let qa=(()=>{class v extends Cs{constructor(){super("facebook.com")}static credential(m){return Pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ka=(()=>{class v extends Cs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return v.credential(w,S)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ua=(()=>{class v extends Cs{constructor(){super("github.com")}static credential(m){return Pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Qo extends xn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return eo(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,eo(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,eo(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:F}=m;return w&&S&&F&&w===S?new Qo(w,F):null}static _create(p,m){return new Qo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ni extends Dr{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ni.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ni.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Qo.fromJSON(p);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Qo._create(w,m)}catch{return null}}}let Qa=(()=>{class v extends Cs{constructor(){super("twitter.com")}static credential(m,w){return Pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return v.credential(w,S)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Lr(v,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(v,p){return kn(v,"POST","/v1/accounts:signUp",Ut(v,p))})).apply(this,arguments)}class Hr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,S=!1){return(0,u.Z)(function*(){const F=yield Ct._fromIdTokenResponse(p,w,S),re=vo(w);return new Hr({user:F,providerId:re,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=vo(w);return new Hr({user:p,providerId:S,_tokenResponse:w,operationType:m})})()}}function vo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Kg(v){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,u.Z)(function*(v){var p;const m=vt(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Hr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Lr(m,{returnSecureToken:!0}),S=yield Hr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Hn extends B.ZR{constructor(p,m,w,S){var F;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Hn.prototype),this.customData={appName:p.name,tenantId:null!==(F=p.tenantId)&&void 0!==F?F:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,S){return new Hn(p,m,w,S)}}function lu(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Hn._fromErrorAndOperation(v,F,p,w):F})}function Nl(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Ei(v,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v);yield zr(!0,m,p);const{providerUserInfo:w}=yield et(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Nl(w||[]);return m.providerData=m.providerData.filter(F=>S.has(F.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function du(v,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(v,p,m=!1){const w=yield ht(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Hr._forOperation(v,"link",w)})).apply(this,arguments)}function zr(v,p,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(v,p,m){yield ur(p);const S=!1===v?"provider-already-linked":"no-such-provider";te(Nl(p.providerData).has(m)===v,p.auth,S)})).apply(this,arguments)}function bo(v,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(v,p,m=!1){var w;const{auth:S}=v,F="reauthenticate";try{const re=yield ht(v,lu(S,F,p,v),m);te(re.idToken,S,"internal-error");const ke=dt(re.idToken);te(ke,S,"internal-error");const{sub:st}=ke;return te(v.uid===st,S,"user-mismatch"),Hr._forOperation(v,F,re)}catch(re){throw"auth/user-not-found"===(null===(w=re)||void 0===w?void 0:w.code)&&Ye(S,"user-mismatch"),re}})).apply(this,arguments)}function Qh(v,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(v,p,m=!1){const w="signIn",S=yield lu(v,w,p),F=yield Hr._fromIdTokenResponse(v,w,S);return m||(yield v._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Ds(v,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(v,p){return Qh(vt(v),p)})).apply(this,arguments)}function Lt(v,p){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v);return yield zr(!1,m,p.providerId),du(m,p)})).apply(this,arguments)}function L(v,p){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(v,p){return bo((0,B.m9)(v),p)})).apply(this,arguments)}function fe(v,p){return $e.apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(v,p){return kn(v,"POST","/v1/accounts:signInWithCustomToken",Ut(v,p))})).apply(this,arguments)}function Qe(v,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(v,p){const m=vt(v),w=yield fe(m,{token:p,returnSecureToken:!0}),S=yield Hr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Yt{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ie._fromServerResponse(p,m):Ye(p,"internal-error")}}class Ie extends Yt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ie(m)}}function Ot(v,p,m){var w;te((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),te(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function zn(v,p,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),S={requestType:"PASSWORD_RESET",email:p};m&&Ot(w,S,m),yield Za(w,S)})).apply(this,arguments)}function On(v,p,m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(v,p,m){yield An((0,B.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Co(v,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(v,p){yield Rl((0,B.m9)(v),{oobCode:p})})).apply(this,arguments)}function to(v,p){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v),w=yield An(m,{oobCode:p}),S=w.requestType;switch(te(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(w.mfaInfo,m,"internal-error");default:te(w.email,m,"internal-error")}let F=null;return w.mfaInfo&&(F=Yt._fromServerResponse(vt(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:F},operation:S}})).apply(this,arguments)}function Ja(v,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(v,p){const{data:m}=yield to((0,B.m9)(v),p);return m.email})).apply(this,arguments)}function Jo(v,p,m){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(v,p,m){const w=vt(v),S=yield Lr(w,{returnSecureToken:!0,email:p,password:m}),F=yield Hr._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(F.user),F})).apply(this,arguments)}function or(v,p,m){return Ds((0,B.m9)(v),uu.credential(p,m))}function no(v,p,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};te(m.handleCodeInApp,w,"argument-error"),m&&Ot(w,S,m),yield Fr(w,S)})).apply(this,arguments)}function ec(v,p){return"EMAIL_SIGNIN"===ca.parseLink(p)?.operation}function Xo(v,p,m){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),S=uu.credentialWithLink(p,m||He());return te(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ds(w,S)})).apply(this,arguments)}function Yg(v,p){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:createAuthUri",Ut(v,p))})).apply(this,arguments)}function cb(v,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(v,p){const w={identifier:p,continueUri:je()?He():"http://localhost"},{signinMethods:S}=yield Yg((0,B.m9)(v),w);return S||[]})).apply(this,arguments)}function Fl(v,p){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ot(m.auth,S,p);const{email:F}=yield Oi(m.auth,S);F!==v.email&&(yield v.reload())})).apply(this,arguments)}function Vl(v,p,m){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Ot(w.auth,F,m);const{email:re}=yield qo(w.auth,F);re!==v.email&&(yield v.reload())})).apply(this,arguments)}function Qg(v,p){return fu.apply(this,arguments)}function fu(){return(fu=(0,u.Z)(function*(v,p){return Et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Jg(v,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,B.m9)(v),F={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},re=yield ht(w,Qg(w.auth,F));w.displayName=re.displayName||null,w.photoURL=re.photoUrl||null;const ke=w.providerData.find(({providerId:st})=>"password"===st);ke&&(ke.displayName=w.displayName,ke.photoURL=w.photoURL),yield w._updateTokensIfNecessary(re)})).apply(this,arguments)}function Xg(v,p){return ha((0,B.m9)(v),p,null)}function ef(v,p){return ha((0,B.m9)(v),null,p)}function ha(v,p,m){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(v,p,m){const{auth:w}=v,F={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(F.email=p),m&&(F.password=m);const re=yield ht(v,Nr(w,F));yield v._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Wn{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Do extends Wn{constructor(p,m,w,S){super(p,m,w),this.username=S}}class qn extends Wn{constructor(p,m){super(p,"facebook.com",m)}}class tm extends Do{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class nm extends Wn{constructor(p,m){super(p,"google.com",m)}}class rm extends Do{constructor(p,m,w){super(p,"twitter.com",m,w)}}function im(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function em(v){var p,m;if(!v)return null;const{providerId:w}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},F=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const re=null===(m=null===(p=dt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(re)return new Wn(F,"anonymous"!==re&&"custom"!==re?re:null)}if(!w)return null;switch(w){case"facebook.com":return new qn(F,S);case"github.com":return new tm(F,S);case"google.com":return new nm(F,S);case"twitter.com":return new rm(F,S,v.screenName||null);case"custom":case"anonymous":return new Wn(F,null);default:return new Wn(F,w,S)}}(m)}function nc(v,p,m,w){return(0,B.m9)(v).onAuthStateChanged(p,m,w)}class Ci{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Ci("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ci("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ci._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Ci._fromIdtoken(p.multiFactorSession.idToken)}return null}}class zl{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=vt(p),S=m.customData._serverResponse,F=(S.mfaInfo||[]).map(ke=>Yt._fromServerResponse(w,ke));te(S.mfaPendingCredential,w,"internal-error");const re=Ci._fromMfaPendingCredential(S.mfaPendingCredential);return new zl(re,F,function(){var ke=(0,u.Z)(function*(st){const Tt=yield st._process(w,re);delete S.mfaInfo,delete S.mfaPendingCredential;const nn=Object.assign(Object.assign({},S),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(m.operationType){case"signIn":const wn=yield Hr._fromIdTokenResponse(w,m.operationType,nn);return yield w._updateCurrentUser(wn.user),wn;case"reauthenticate":return te(m.user,w,"internal-error"),Hr._forOperation(m.user,m.operationType,nn);default:Ye(w,"internal-error")}});return function(st){return ke.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}function om(v,p){var m;const w=(0,B.m9)(v),S=p;return te(p.customData.operationType,w,"argument-error"),te(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),zl._fromError(w,S)}function rc(v,p){return Et(v,"POST","/v2/accounts/mfaEnrollment:start",Ut(v,p))}class mu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Yt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new mu(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ci._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,u.Z)(function*(){const S=p,F=yield w.getSession(),re=yield ht(w.user,S._process(w.user.auth,F,m));return yield w.user._updateTokensIfNecessary(re),w.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){var w;const S="string"==typeof p?p:p.uid,F=yield m.user.getIdToken(),re=yield ht(m.user,function gu(v,p){return Et(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(v,p))}(m.user.auth,{idToken:F,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ke})=>ke!==S),yield m.user._updateTokensIfNecessary(re);try{yield m.user.reload()}catch(ke){if("auth/user-token-expired"!==(null===(w=ke)||void 0===w?void 0:w.code))throw ke}})()}}const sm=new WeakMap;function nf(v){const p=(0,B.m9)(v);return sm.has(p)||sm.set(p,mu._fromUser(p)),sm.get(p)}const To="__sak";class Zl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(To,"1"),this.storage.removeItem(To),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ms=(()=>{class v extends Zl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wl(){const v=(0,B.z$)();return k(v)||xe(v)}()&&function Xr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),F=this.localCache[w];S!==F&&m(w,F,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ke,st,Tt)=>{this.notifyListeners(ke,Tt)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(S);if(m.newValue!==ke)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const F=()=>{const ke=this.storage.getItem(S);!w&&this.localCache[S]===ke||this.notifyListeners(S,ke)},re=this.storage.getItem(S);!function It(){return(0,B.w1)()&&10===document.documentMode}()||re===m.newValue||m.newValue===m.oldValue?F():setTimeout(F,10)}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const F of Array.from(S))F(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,F=this;return(0,u.Z)(function*(){yield S().call(F,m,w),F.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,u.Z)(function*(){const F=yield w().call(S,m);return S.localCache[m]=JSON.stringify(F),F})()}_remove(m){var w=()=>super._remove,S=this;return(0,u.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),es=(()=>{class v extends Zl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let _u=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(F=>F.isListeningto(m));if(w)return w;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,u.Z)(function*(){const S=m,{eventId:F,eventType:re,data:ke}=S.data,st=w.handlersMap[re];if(!st?.size)return;S.ports[0].postMessage({status:"ack",eventId:F,eventType:re});const Tt=Array.from(st).map(function(){var wn=(0,u.Z)(function*(Gr){return Gr(S.origin,ke)});return function(Gr){return wn.apply(this,arguments)}}()),nn=yield function ql(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(Tt);S.ports[0].postMessage({status:"done",eventId:F,eventType:re,response:nn})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function fa(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class um{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var S=this;return(0,u.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let re,ke;return new Promise((st,Tt)=>{const nn=fa("",20);F.port1.start();const wn=setTimeout(()=>{Tt(new Error("unsupported_event"))},w);ke={messageChannel:F,onMessage(Gr){const Di=Gr;if(Di.data.eventId===nn)switch(Di.data.status){case"ack":clearTimeout(wn),re=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),st(Di.data.response);break;default:clearTimeout(wn),clearTimeout(re),Tt(new Error("invalid_response"))}}},S.handlers.add(ke),F.port1.addEventListener("message",ke.onMessage),S.target.postMessage({eventType:p,eventId:nn,data:m},[F.port2])}).finally(()=>{ke&&S.removeMessageHandler(ke)})})()}}function wr(){return window}function Li(){return typeof wr().WorkerGlobalScope<"u"&&"function"==typeof wr().importScripts}function xs(){return(xs=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oc="firebaseLocalStorageDb",ac="firebaseLocalStorage",vu="fbase_key";class pa{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function bu(v,p){return v.transaction([ac],p?"readwrite":"readonly").objectStore(ac)}function cf(){const v=indexedDB.open(oc,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(ac,{keyPath:vu})}catch(S){m(S)}}),v.addEventListener("success",(0,u.Z)(function*(){const w=v.result;w.objectStoreNames.contains(ac)?p(w):(w.close(),yield function af(){const v=indexedDB.deleteDatabase(oc);return new pa(v).toPromise()}(),p(yield cf()))}))})}function cc(v,p,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(v,p,m){const w=bu(v,!0).put({[vu]:p,value:m});return new pa(w).toPromise()})).apply(this,arguments)}function wu(){return(wu=(0,u.Z)(function*(v,p){const m=bu(v,!1).get(p),w=yield new pa(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function uf(v,p){const m=bu(v,!0).delete(p);return new pa(m).toPromise()}const Eu=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield cf()),m.db})()}_withRetries(m){var w=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const F=yield w._openDb();return yield m(F)}catch(F){if(S++>3)throw F;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Li()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=_u._getInstance(function yu(){return Li()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(S,F){return{keyProcessed:(yield m._poll()).includes(F.key)}});return function(S,F){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(S,F){return["keyChanged"]});return function(S,F){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function lm(){return xs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new um(m.activeServiceWorker);const F=yield m.sender._send("ping",{},800);!F||(null===(w=F[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=F[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Kl(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield cf();return yield cc(m,To,"1"),yield uf(m,To),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(F=>cc(F,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,u.Z)(function*(){const S=yield w._withRetries(F=>function dm(v,p){return wu.apply(this,arguments)}(F,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(S=>uf(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const w=yield m._withRetries(re=>{const ke=bu(re,!1).getAll();return new pa(ke).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],F=new Set;for(const{fbase_key:re,value:ke}of w)F.add(re),JSON.stringify(m.localCache[re])!==JSON.stringify(ke)&&(m.notifyListeners(re,ke),S.push(re));for(const re of Object.keys(m.localCache))m.localCache[re]&&!F.has(re)&&(m.notifyListeners(re,null),S.push(re));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const F of Array.from(S))F(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function hm(v,p){return Et(v,"POST","/v2/accounts/mfaSignIn:start",Ut(v,p))}function Rs(){return(Rs=(0,u.Z)(function*(v){return(yield Et(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ga(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=S=>{const F=Fe("internal-error");F.customData=S,m(F)},w.type="text/javascript",w.charset="UTF-8",function lc(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Yl(v){return`__${v}${Math.floor(1e6*Math.random())}`}const hf=1e12;class ub{constructor(p){this.auth=p,this.counter=hf,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Ln(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||hf;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||hf))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var w;return null===(w=m._widgets.get(p||hf))||void 0===w||w.execute(),""})()}}class Ln{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;te(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function lb(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fm=Yl("rcb"),kC=new qe(3e4,6e4);class PC{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=wr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return te(function NC(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(wr().grecaptcha):new Promise((w,S)=>{const F=wr().setTimeout(()=>{S(Fe(p,"network-request-failed"))},kC.get());wr()[fm]=()=>{wr().clearTimeout(F),delete wr()[fm];const ke=wr().grecaptcha;if(!ke)return void S(Fe(p,"internal-error"));const st=ke.render;ke.render=(Tt,nn)=>{const wn=st(Tt,nn);return this.counter++,wn},this.hostLanguage=m,w(ke)},ga(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:fm,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(F),S(Fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=wr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class FC{load(p){return(0,u.Z)(function*(){return new ub(p)})()}clearedOneInstance(){}}const hc="recaptcha",LC={theme:"light",type:"image"};class db{constructor(p,m=Object.assign({},LC),w){this.parameters=m,this.type=hc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vt(w),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;te(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FC:new PC,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(F=>{const re=ke=>{!ke||(p.tokenChangeListeners.delete(re),F(ke))};p.tokenChangeListeners.add(re),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=wr()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){te(je()&&!Li(),p.auth,"internal-error"),yield function Ar(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Iu(v){return Rs.apply(this,arguments)}(p.auth);te(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sn{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Es._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ro(v,p,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(v,p,m){const w=vt(v),S=yield Er(w,p,(0,B.m9)(m));return new Sn(S,F=>Ds(w,F))})).apply(this,arguments)}function Vi(v,p,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);yield zr(!1,w,"phone");const S=yield Er(w.auth,p,(0,B.m9)(m));return new Sn(S,F=>Lt(w,F))})).apply(this,arguments)}function So(v,p,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),S=yield Er(w.auth,p,(0,B.m9)(m));return new Sn(S,F=>L(w,F))})).apply(this,arguments)}function Er(v,p,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(v,p,m){var w;const S=yield m.verify();try{let F;if(te("string"==typeof S,v,"argument-error"),te(m.type===hc,v,"argument-error"),F="string"==typeof p?{phoneNumber:p}:p,"session"in F){const re=F.session;if("phoneNumber"in F)return te("enroll"===re.type,v,"internal-error"),(yield rc(v,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{te("signin"===re.type,v,"internal-error");const ke=(null===(w=F.multiFactorHint)||void 0===w?void 0:w.uid)||F.multiFactorUid;return te(ke,v,"missing-multi-factor-info"),(yield hm(v,{mfaPendingCredential:re.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield kl(v,{phoneNumber:F.phoneNumber,recaptchaToken:S});return re}}finally{m._reset()}})).apply(this,arguments)}function ff(v,p){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,u.Z)(function*(v,p){yield du((0,B.m9)(v),p)})).apply(this,arguments)}let pm=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=vt(m)}verifyPhoneNumber(m,w){return Er(this.auth,m,(0,B.m9)(w))}static credential(m,w){return Es._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?Es._fromTokenResponse(w,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ps(v,p){return p?X(p):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class pf extends xn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return eo(p,this._buildIdpRequest())}_linkToIdToken(p,m){return eo(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return eo(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ma(v){return Qh(v.auth,new pf(v),v.bypassAuthState)}function _t(v){const{auth:p,user:m}=v;return te(m,p,"internal-error"),bo(m,new pf(v),v.bypassAuthState)}function Jl(v){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(v){const{auth:p,user:m}=v;return te(m,p,"internal-error"),du(m,new pf(v),v.bypassAuthState)})).apply(this,arguments)}class gf{constructor(p,m,w,S,F=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(F){p.reject(F)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:F,tenantId:re,error:ke,type:st}=p;if(ke)return void m.reject(ke);const Tt={auth:m.auth,requestUri:w,sessionId:S,tenantId:re||void 0,postBody:F||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(st)(Tt))}catch(nn){m.reject(nn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ma;case"linkViaPopup":case"linkViaRedirect":return Jl;case"reauthViaPopup":case"reauthViaRedirect":return _t;default:Ye(this.auth,"internal-error")}}resolve(p){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xl=new qe(2e3,1e4);function lr(v,p,m){return ed.apply(this,arguments)}function ed(){return(ed=(0,u.Z)(function*(v,p,m){const w=vt(v);Ce(v,p,Dr);const S=Ps(w,m);return new fc(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function td(v,p,m){return nd.apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ce(w.auth,p,Dr);const S=Ps(w.auth,m);return new fc(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function mf(v,p,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ce(w.auth,p,Dr);const S=Ps(w.auth,m);return new fc(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let fc=(()=>{class v extends gf{constructor(m,w,S,F,re){super(m,w,F,re),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const w=yield m.execute();return te(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,u.Z)(function*(){we(1===m.filter.length,"Popup operations only handle one event");const w=fa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Xl.get())};m()}}return v.currentPopupAction=null,v})();const Mo=new Map;class _a extends gf{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let w=Mo.get(m.auth._key());if(!w){try{const F=(yield function rd(v,p){return is.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(F)}catch(S){w=()=>Promise.reject(S)}Mo.set(m.auth._key(),w)}return m.bypassAuthState||Mo.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function is(){return(is=(0,u.Z)(function*(v,p){const m=ss(p),w=os(v);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function Fs(v,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(v,p){return os(v)._set(ss(p),"true")})).apply(this,arguments)}function id(){Mo.clear()}function dr(v,p){Mo.set(v._key(),p)}function os(v){return X(v._redirectPersistence)}function ss(v){return j("pendingRedirect",v.config.apiKey,v.name)}function yr(v,p,m){return function Pn(v,p,m){return Ro.apply(this,arguments)}(v,p,m)}function Ro(){return(Ro=(0,u.Z)(function*(v,p,m){const w=vt(v);Ce(v,p,Dr);const S=Ps(w,m);return yield Fs(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function ei(v,p,m){return function Cr(v,p,m){return io.apply(this,arguments)}(v,p,m)}function io(){return(io=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ce(w.auth,p,Dr);const S=Ps(w.auth,m);yield Fs(S,w.auth);const F=yield ya(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",F)})).apply(this,arguments)}function _f(v,p,m){return function gm(v,p,m){return Ui.apply(this,arguments)}(v,p,m)}function Ui(){return(Ui=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ce(w.auth,p,Dr);const S=Ps(w.auth,m);yield zr(!1,w,p.providerId),yield Fs(S,w.auth);const F=yield ya(w);return S._openRedirect(w.auth,p,"linkViaRedirect",F)})).apply(this,arguments)}function ko(v,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(v,p){return yield vt(v)._initializationPromise,Bi(v,p,!1)})).apply(this,arguments)}function Bi(v,p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(v,p,m=!1){const w=vt(v),S=Ps(w,p),re=yield new _a(w,S,m).execute();return re&&!m&&(delete re.user._redirectEventId,yield w._persistUserIfCurrent(re.user),yield w._setRedirectUser(null,p)),re})).apply(this,arguments)}function ya(v){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(v){const p=fa(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class pc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function tn(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tu(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Tu(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Fe(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(p))}saveEventToCache(p){this.cachedEventUids.add(Du(p)),this.lastProcessedEventTime=Date.now()}}function Du(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Tu({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function ji(v){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,u.Z)(function*(v,p={}){return Et(v,"GET","/v1/projects",p)})).apply(this,arguments)}const wa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hb=/^https?/;function Ii(){return(Ii=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield ji(v);for(const m of p)try{if(mm(m))return}catch{}Ye(v,"unauthorized-domain")})).apply(this,arguments)}function mm(v){const p=He(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const re=new URL(v);return""===re.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&re.hostname===w}if(!hb.test(m))return!1;if(wa.test(v))return w===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const vf=new qe(3e4,6e4);function od(){const v=wr().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Yn=null;function Oo(v){return Yn=Yn||function fb(v){return new Promise((p,m)=>{var w,S,F;function re(){od(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{od(),m(Fe(v,"network-request-failed"))},timeout:vf.get()})}if(null!==(S=null===(w=wr().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(F=wr().gapi)||void 0===F||!F.load){const ke=Yl("iframefcb");return wr()[ke]=()=>{gapi.load?re():m(Fe(v,"network-request-failed"))},ga(`https://apis.google.com/js/api.js?onload=${ke}`).catch(st=>m(st))}re()}}).catch(p=>{throw Yn=null,p})}(v),Yn}const sd=new qe(5e3,15e3),ad={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_m=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cd(v){const p=v.config;te(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?ln(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:P.SDK_VERSION},S=_m.get(v.config.apiHost);S&&(w.eid=S);const F=v._getFrameworks();return F.length&&(w.fw=F.join(",")),`${m}?${(0,B.xO)(w).slice(1)}`}function Au(){return Au=(0,u.Z)(function*(v){const p=yield Oo(v),m=wr().gapi;return te(m,v,"internal-error"),p.open({where:document.body,url:cd(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ad,dontclear:!0},w=>new Promise(function(){var S=(0,u.Z)(function*(F,re){yield w.restyle({setHideOnLeave:!1});const ke=Fe(v,"network-request-failed"),st=wr().setTimeout(()=>{re(ke)},sd.get());function Tt(){wr().clearTimeout(st),F(w)}w.ping(Tt).then(Tt,()=>{re(ke)})});return function(F,re){return S.apply(this,arguments)}}()))}),Au.apply(this,arguments)}const gc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ea(v,p,m,w,S,F){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const re={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:P.SDK_VERSION,eventId:S};if(p instanceof Dr){p.setDefaultLanguage(v.languageCode),re.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(re.customParameters=JSON.stringify(p.getCustomParameters()));for(const[st,Tt]of Object.entries(F||{}))re[st]=Tt}if(p instanceof Cs){const st=p.getScopes().filter(Tt=>""!==Tt);st.length>0&&(re.scopes=st.join(","))}v.tenantId&&(re.tid=v.tenantId);const ke=re;for(const st of Object.keys(ke))void 0===ke[st]&&delete ke[st];return`${function Cf({config:v}){return v.emulator?ln(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(ke).slice(1)}`}const Ca="webStorageSupport",ld=class _c{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=es,this._completeRedirectFn=Bi,this._overrideRedirectResult=dr}_openPopup(p,m,w,S){var F=this;return(0,u.Z)(function*(){var re;we(null===(re=F.eventManagers[p._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const ke=Ea(p,m,w,He(),S);return function Mu(v,p,m,w=500,S=600){const F=Math.max((window.screen.availHeight-S)/2,0).toString(),re=Math.max((window.screen.availWidth-w)/2,0).toString();let ke="";const st=Object.assign(Object.assign({},gc),{width:w.toString(),height:S.toString(),top:F,left:re}),Tt=(0,B.z$)().toLowerCase();m&&(ke=$(Tt)?"_blank":m),D(Tt)&&(p=p||"http://localhost",st.scrollbars="yes");const nn=Object.entries(st).reduce((Gr,[Di,Ru])=>`${Gr}${Di}=${Ru},`,"");if(function Gt(v=(0,B.z$)()){var p;return xe(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Tt)&&"_self"!==ke)return function No(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ke),new mc(null);const wn=window.open(p||"",ke,nn);te(wn,v,"popup-blocked");try{wn.focus()}catch{}return new mc(wn)}(p,ke,fa())})()}_openRedirect(p,m,w,S){var F=this;return(0,u.Z)(function*(){return yield F._originValidation(p),function sf(v){wr().location.href=v}(Ea(p,m,w,He(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:F}=this.eventManagers[m];return S?Promise.resolve(S):(we(F,"If manager is not set, promise should be"),F)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const w=yield function wf(v){return Au.apply(this,arguments)}(p),S=new pc(p);return w.register("authEvent",F=>(te(F?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ca,{type:Ca},S=>{var F;const re=null===(F=S?.[0])||void 0===F?void 0:F[Ca];void 0!==re&&m(!!re),Ye(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yf(v){return Ii.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Bt()||k()||xe()}};class dd extends class xu{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new dd(p)}_finalizeEnroll(p,m,w){return function Gl(v,p){return Et(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Cu(v,p){return Et(v,"POST","/v2/accounts/mfaSignIn:finalize",Ut(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oo=(()=>{class v{constructor(){}static assertion(m){return dd._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Fo="@firebase/auth";class ym{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var S;p((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fd=(0,B.Pz)("authIdTokenMaxAge")||300;let pd=null;const vm=v=>function(){var p=(0,u.Z)(function*(m){const w=m&&(yield m.getIdTokenResult()),S=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(S&&S>fd)return;const F=w?.token;pd!==F&&(pd=F,yield fetch(v,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function bm(v=(0,P.getApp)()){const p=(0,P._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function he(v,p){const m=(0,P._getProvider)(v,"auth");if(m.isInitialized()){const S=m.getImmediate(),F=m.getOptions();if((0,B.vZ)(F,p??{}))return S;Ye(S,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:ld,persistence:[Eu,Ms,es]}),w=(0,B.Pz)("authTokenSyncURL");if(w){const F=vm(w);(function tc(v,p,m){(0,B.m9)(v).beforeAuthStateChanged(p,m)})(m,F,()=>F(m.currentUser)),function pu(v,p,m,w){(0,B.m9)(v).onIdTokenChanged(p,m,w)}(m,re=>F(re))}const S=(0,B.q4)("auth");return S&&Ee(m,`http://${S}`),m}!function mb(v){(0,P._registerComponent)(new ve.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:F,authDomain:re}=w.options;return((ke,st)=>{te(F&&!F.includes(":"),"invalid-api-key",{appName:ke.name}),te(!re?.includes(":"),"argument-error",{appName:ke.name});const Tt={apiKey:F,authDomain:re,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tn(v)},nn=new Qi(ke,st,Tt);return function oe(v,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(X);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(nn,m),nn})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ve.wA("auth-internal",p=>{const m=vt(p.getProvider("auth").getImmediate());return new ym(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Fo,"0.20.9",function gb(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(Fo,"0.20.9","esm2017")}("Browser")},2090:(gt,Re,N)=>{N.d(Re,{$s:()=>rt,BH:()=>Rt,G6:()=>Ce,L:()=>pe,LL:()=>an,P0:()=>je,Pz:()=>Xt,Sg:()=>qe,UG:()=>Te,US:()=>ve,ZB:()=>z,ZR:()=>Nn,aH:()=>mt,b$:()=>le,eu:()=>te,hl:()=>Ke,jU:()=>Je,m9:()=>Ht,ne:()=>vn,pd:()=>vr,q4:()=>He,r3:()=>jn,ru:()=>be,tV:()=>ye,uI:()=>De,vZ:()=>et,w1:()=>Ye,xO:()=>dn,xb:()=>mr,z$:()=>Oe,zI:()=>ae,zd:()=>tr});const ne=function(G){const j=[];let O=0;for(let R=0;R<G.length;R++){let D=G.charCodeAt(R);D<128?j[O++]=D:D<2048?(j[O++]=D>>6|192,j[O++]=63&D|128):55296==(64512&D)&&R+1<G.length&&56320==(64512&G.charCodeAt(R+1))?(D=65536+((1023&D)<<10)+(1023&G.charCodeAt(++R)),j[O++]=D>>18|240,j[O++]=D>>12&63|128,j[O++]=D>>6&63|128,j[O++]=63&D|128):(j[O++]=D>>12|224,j[O++]=D>>6&63|128,j[O++]=63&D|128)}return j},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let D=0;D<G.length;D+=3){const k=G[D],$=D+1<G.length,ce=$?G[D+1]:0,Le=D+2<G.length,Ze=Le?G[D+2]:0;let ct=(15&ce)<<2|Ze>>6,Gt=63&Ze;Le||(Gt=64,$||(ct=64)),R.push(O[k>>2],O[(3&k)<<4|ce>>4],O[ct],O[Gt])}return R.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(ne(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let O=0,R=0;for(;O<G.length;){const D=G[O++];if(D<128)j[R++]=String.fromCharCode(D);else if(D>191&&D<224){const k=G[O++];j[R++]=String.fromCharCode((31&D)<<6|63&k)}else if(D>239&&D<365){const Le=((7&D)<<18|(63&G[O++])<<12|(63&G[O++])<<6|63&G[O++])-65536;j[R++]=String.fromCharCode(55296+(Le>>10)),j[R++]=String.fromCharCode(56320+(1023&Le))}else{const k=G[O++],$=G[O++];j[R++]=String.fromCharCode((15&D)<<12|(63&k)<<6|63&$)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const O=j?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let D=0;D<G.length;){const k=O[G.charAt(D++)],ce=D<G.length?O[G.charAt(D)]:0;++D;const Ze=D<G.length?O[G.charAt(D)]:64;++D;const xe=D<G.length?O[G.charAt(D)]:64;if(++D,null==k||null==ce||null==Ze||null==xe)throw Error();R.push(k<<2|ce>>4),64!==Ze&&(R.push(ce<<4&240|Ze>>2),64!==xe&&R.push(Ze<<6&192|xe))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},pe=function(G){return function(G){const j=ne(G);return ve.encodeByteArray(j,!0)}(G).replace(/\./g,"")},ye=function(G){try{return ve.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function z(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const O in j)!j.hasOwnProperty(O)||!Q(O)||(G[O]=z(G[O],j[O]));return G}function Q(G){return"__proto__"!==G}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return"object"==typeof self&&self.self===self}function be(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const G=Oe();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ce(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){return"object"==typeof indexedDB}function te(){return new Promise((G,j)=>{try{let O=!0;const R="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(R);D.onsuccess=()=>{D.result.close(),O||self.indexedDB.deleteDatabase(R),G(!0)},D.onupgradeneeded=()=>{O=!1},D.onerror=()=>{var k;j((null===(k=D.error)||void 0===k?void 0:k.message)||"")}}catch(O){j(O)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const oe=()=>function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;const G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),j=G&&ye(G[1]);return j&&JSON.parse(j)})(),He=G=>{var j,O;return null===(O=null===(j=oe())||void 0===j?void 0:j.emulatorHosts)||void 0===O?void 0:O[G]},je=G=>{const j=He(G);if(!j)return;const O=j.lastIndexOf(":");if(O<=0||O+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const R=parseInt(j.substring(O+1),10);return"["===j[0]?[j.substring(1,O-1),R]:[j.substring(0,O),R]},mt=()=>{var G;return null===(G=oe())||void 0===G?void 0:G.config},Xt=G=>{var j;return null===(j=oe())||void 0===j?void 0:j[`_${G}`]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,O)=>{this.resolve=j,this.reject=O})}wrapCallback(j){return(O,R)=>{O?this.reject(O):this.resolve(R),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(O):j(O,R))}}}function qe(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=j||"demo-project",D=G.iat||0,k=G.sub||G.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:D,exp:D+3600,auth_time:D,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},G);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify($)),""].join(".")}class Nn extends Error{constructor(j,O,R){super(O),this.code=j,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}}class an{constructor(j,O,R){this.service=j,this.serviceName=O,this.errors=R}create(j,...O){const R=O[0]||{},D=`${this.service}/${j}`,k=this.errors[j],$=k?function en(G,j){return G.replace(Ut,(O,R)=>{const D=j[R];return null!=D?String(D):`<${R}?>`})}(k,R):"Error";return new Nn(D,`${this.serviceName}: ${$} (${D}).`,R)}}const Ut=/\{\$([^}]+)}/g;function jn(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function mr(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function et(G,j){if(G===j)return!0;const O=Object.keys(G),R=Object.keys(j);for(const D of O){if(!R.includes(D))return!1;const k=G[D],$=j[D];if(fn(k)&&fn($)){if(!et(k,$))return!1}else if(k!==$)return!1}for(const D of R)if(!O.includes(D))return!1;return!0}function fn(G){return null!==G&&"object"==typeof G}function dn(G){const j=[];for(const[O,R]of Object.entries(G))Array.isArray(R)?R.forEach(D=>{j.push(encodeURIComponent(O)+"="+encodeURIComponent(D))}):j.push(encodeURIComponent(O)+"="+encodeURIComponent(R));return j.length?"&"+j.join("&"):""}function tr(G){const j={};return G.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[D,k]=R.split("=");j[decodeURIComponent(D)]=decodeURIComponent(k)}}),j}function vr(G){const j=G.indexOf("?");if(!j)return"";const O=G.indexOf("#",j);return G.substring(j,O>0?O:void 0)}function vn(G,j){const O=new rn(G,j);return O.subscribe.bind(O)}class rn{constructor(j,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{j(this)}).catch(R=>{this.error(R)})}next(j){this.forEachObserver(O=>{O.next(j)})}error(j){this.forEachObserver(O=>{O.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,O,R){let D;if(void 0===j&&void 0===O&&void 0===R)throw new Error("Missing Observer.");D=function lt(G,j){if("object"!=typeof G||null===G)return!1;for(const O of j)if(O in G&&"function"==typeof G[O])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:O,complete:R},void 0===D.next&&(D.next=ht),void 0===D.error&&(D.error=ht),void 0===D.complete&&(D.complete=ht);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?D.error(this.finalError):D.complete()}catch{}}),this.observers.push(D),k}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,j)}sendOne(j,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{O(this.observers[j])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ht(){}function rt(G,j=1e3,O=2){const R=j*Math.pow(O,G),D=Math.round(.5*R*(Math.random()-.5)*2);return Math.min(144e5,R+D)}function Ht(G){return G&&G._delegate?G._delegate:G}},8202:(gt,Re,N)=>{var u=N(4650);let B=null;function P(){return B}const de=new u.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ye(){return(0,u.LFG)(z)}()},providedIn:"platform"}),n})();const W=new u.OlP("Location Initialized");let z=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Q()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Q()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Oe(){return new z((0,u.LFG)(de))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function De(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ot)},providedIn:"root"}),n})();const le=new u.OlP("appBaseHref");let ot=(()=>{class n extends be{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return De(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Je(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const d=this.prepareExternalUrl(o+Je(c));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){const d=this.prepareExternalUrl(o+Je(c));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(le,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ye=(()=>{class n extends be{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=De(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let d=this.prepareExternalUrl(o+Je(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){let d=this.prepareExternalUrl(o+Je(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(le,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Te(Ke(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Je(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Je,n.joinWithSlash=De,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(u.LFG(be))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Pe(){return new Fe((0,u.LFG)(be))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}class mo{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,c,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new mo(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const g=r.get(c);r.move(g,d),Ji(g,o)}});for(let o=0,c=r.length;o<c;o++){const g=r.get(o).context;g.index=o,g.count=c,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ji(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ji(n,e){n.context.$implicit=e.item}let ir=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Za,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){br("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){br("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Za{constructor(){this.$implicit=null,this.ngIf=null}}function br(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let la=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ni="browser";function vo(n){return"server"===n}let lu=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Nl((0,u.LFG)(de),window)}),n})();class Nl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Vr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ei(this.window.history)||Ei(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ei(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ha extends class ef extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){B||(B=n)}(new ha)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function em(){return As=As||document.querySelector("base"),As?As.getAttribute("href"):null}();return null==t?null:function Do(n){Wn=Wn||document.createElement("a"),Wn.setAttribute("href",n);const e=Wn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){As=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Nr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Wn,As=null;const qn=new u.OlP("TRANSITION_ID"),nm=[{provide:u.ip1,useFactory:function tm(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=P(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[qn,de,u.zs3],multi:!0}];let im=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const jl=new u.OlP("EventManagerPlugins");let pu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const d=o[c];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jl),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class tc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=P().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let nc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ss=(()=>{class n extends nc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach($l),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($l))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function $l(n){P().remove(n)}const Hl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tf=/%COMP%/g;function gu(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?gu(n,o,t):(o=o.replace(tf,n),t.push(o))}return t}function mu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let nf=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new To(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new rf(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new am(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=gu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pu),u.LFG(Ss),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class To{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Hl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ic(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ic(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=Hl[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Hl[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mu(r)):this.eventManager.addEventListener(e,t,mu(r))}}function ic(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class rf extends To{constructor(e,t,r,o){super(e),this.component=r;const c=gu(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function rc(n){return"_ngcontent-%COMP%".replace(tf,n)}(o+"-"+r.id),this.hostAttr=function Gl(n){return"_nghost-%COMP%".replace(tf,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class am extends To{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=gu(o.id,o.styles,[]);for(let d=0;d<c.length;d++){const g=document.createElement("style");g.textContent=c[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ms=(()=>{class n extends tc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const cm=["alt","control","meta","shift"],es={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ql={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _u=(()=>{class n extends tc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,c.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let d="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),d="code."),cm.forEach(C=>{const T=r.indexOf(C);T>-1&&(r.splice(T,1),d+=C+".")}),d+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=o,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let o=es[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(o=t.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cm.forEach(d=>{d!==o&&(0,ql[d])(t)&&(c+=d+".")}),c+=o,c===r)}static eventCallback(t,r,o){return c=>{n.matchEventFullKeyCode(c,t)&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const oc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Ni},{provide:u.g9A,useValue:function lm(){ha.makeCurrent()},multi:!0},{provide:de,useFactory:function Kl(){return(0,u.RDi)(document),document},deps:[]}]),sc=new u.OlP(""),ac=[{provide:u.rWj,useClass:class rm{addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,d=!1;const g=function(y){d=d||y,c--,0==c&&r(d)};o.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],vu=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function xs(){return new u.qLn},deps:[]},{provide:jl,useClass:Ms,multi:!0,deps:[de,u.R0b,u.Lbi]},{provide:jl,useClass:_u,multi:!0,deps:[de]},{provide:nf,useClass:nf,deps:[pu,Ss,u.AFp]},{provide:u.FYo,useExisting:nf},{provide:nc,useExisting:Ss},{provide:Ss,useClass:Ss,deps:[de]},{provide:pu,useClass:pu,deps:[jl,u.R0b]},{provide:class Is{},useClass:im,deps:[]},[]];let pa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:qn,useExisting:u.AFp},nm]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sc,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...vu,...ac],imports:[la,u.hGG]}),n})(),Ao=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function cc(){return new Ao((0,u.LFG)(de))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Sn=N(8996),ro=N(3269);function pt(...n){const e=(0,ro.yG)(n);return(0,Sn.D)(n,e)}var Vi=N(7579);class Un extends Vi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ks=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Er=N(9751);const{isArray:Os}=Array,{getPrototypeOf:ff,prototype:Ql,keys:pm}=Object;function Ps(n){if(1===n.length){const e=n[0];if(Os(e))return{args:e,keys:null};if(function pf(n){return n&&"object"==typeof n&&ff(n)===Ql}(e)){const t=pm(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ma=N(4671),_t=N(4004);const{isArray:Jl}=Array;function gf(n){return(0,_t.U)(e=>function ns(n,e){return Jl(e)?n(...e):n(e)}(n,e))}function Xl(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var lr=N(5403),ed=N(9672);function td(...n){const e=(0,ro.yG)(n),t=(0,ro.jO)(n),{args:r,keys:o}=Ps(n);if(0===r.length)return(0,Sn.D)([],e);const c=new Er.y(function nd(n,e,t=ma.y){return r=>{mf(e,()=>{const{length:o}=n,c=new Array(o);let d=o,g=o;for(let y=0;y<o;y++)mf(e,()=>{const C=(0,Sn.D)(n[y],e);let T=!1;C.subscribe((0,lr.x)(r,x=>{c[y]=x,T||(T=!0,g--),g||r.next(t(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Xl(o,d):ma.y));return t?c.pipe(gf(t)):c}function mf(n,e,t){n?(0,ed.f)(t,n,e):e()}var Ns=N(8189);function rs(...n){return function fc(){return(0,Ns.J)(1)}()((0,Sn.D)(n,(0,ro.yG)(n)))}var Mo=N(8421);function _a(n){return new Er.y(e=>{(0,Mo.Xf)(n()).subscribe(e)})}var rd=N(9635),is=N(576);function Fs(n,e){const t=(0,is.m)(n)?n:()=>n,r=o=>o.error(t());return new Er.y(e?o=>e.schedule(r,0,o):r)}var xo=N(515),id=N(727),dr=N(4482);function os(){return(0,dr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,lr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,c=t;t=null,o&&(!c||o===c)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ss extends Er.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,dr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new id.w0;const t=this.getSubject();e.add(this.source.subscribe((0,lr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=id.w0.EMPTY)}return e}refCount(){return os()(this)}}function yr(n,e){return(0,dr.e)((t,r)=>{let o=null,c=0,d=!1;const g=()=>d&&!o&&r.complete();t.subscribe((0,lr.x)(r,y=>{o?.unsubscribe();let C=0;const T=c++;(0,Mo.Xf)(n(y,T)).subscribe(o=(0,lr.x)(r,x=>r.next(e?e(y,x,T,C++):x),()=>{o=null,g()}))},()=>{d=!0,g()}))})}function Pn(n){return n<=0?()=>xo.E:(0,dr.e)((e,t)=>{let r=0;e.subscribe((0,lr.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Ro(...n){const e=(0,ro.yG)(n);return(0,dr.e)((t,r)=>{(e?rs(n,t,e):rs(n,t)).subscribe(r)})}function ei(n,e){return(0,dr.e)((t,r)=>{let o=0;t.subscribe((0,lr.x)(r,c=>n.call(e,c,o++)&&r.next(c)))})}var Cr=N(5577);function io(n){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,lr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function _f(n=gm){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,lr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function gm(){return new ks}function Ui(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ei((o,c)=>n(o,c,r)):ma.y,Pn(1),t?io(e):_f(()=>new ks))}function ko(n,e){return(0,is.m)(e)?(0,Cr.z)(n,e,1):(0,Cr.z)(n,1)}var Kn=N(8505);function Bi(n){return(0,dr.e)((e,t)=>{let c,r=null,o=!1;r=e.subscribe((0,lr.x)(t,void 0,void 0,d=>{c=(0,Mo.Xf)(n(d,Bi(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(t))})}function Ls(n,e,t,r,o){return(c,d)=>{let g=t,y=e,C=0;c.subscribe((0,lr.x)(d,T=>{const x=C++;y=g?n(y,T,x):(g=!0,T),r&&d.next(y)},o&&(()=>{g&&d.next(y),d.complete()})))}}function ya(n,e){return(0,dr.e)(Ls(n,e,arguments.length>=2,!0))}function va(n){return n<=0?()=>xo.E:(0,dr.e)((e,t)=>{let r=[];e.subscribe((0,lr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ba(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ei((o,c)=>n(o,c,r)):ma.y,va(1),t?io(e):_f(()=>new ks))}function Du(n){return(0,_t.U)(()=>n)}function Tu(n){return(0,dr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const tn="primary",ji=Symbol("RouteTitle");class Vs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wa(n){return new Vs(n)}function hb(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const d=r[c],g=n[c];if(d.startsWith(":"))o[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ii(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!mm(n[o],e[o]))return!1;return!0}function mm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function vf(n){return Array.prototype.concat.apply([],n)}function od(n){return n.length>0?n[n.length-1]:null}function Yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Oo(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):pt(n)}const pb={exact:function wf(n,e,t){if(!No(n.segments,e.segments)||!Po(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!wf(n.children[r],e.children[r],t))return!1;return!0},subset:gc},ad={exact:function cd(n,e){return Ii(n,e)},subset:function Au(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mm(n[t],e[t]))},ignored:()=>!0};function _m(n,e,t){return pb[t.paths](n.root,e.root,t.matrixParams)&&ad[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gc(n,e,t){return Su(n,e,e.segments,t)}function Su(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!No(o,t)||e.hasChildren()||!Po(o,t,r))}if(n.segments.length===t.length){if(!No(n.segments,t)||!Po(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!gc(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(No(n.segments,o)&&Po(n.segments,o,r)&&n.children[tn])&&Su(n.children[tn],e,c,r)}}function Po(n,e,t){return e.every((r,o)=>ad[t](n[o].parameters,r.parameters))}class Us{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wa(this.queryParams)),this._queryParamMap}toString(){return Cf.serialize(this)}}class on{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ca(this)}}class mc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wa(this.parameters)),this._parameterMap}toString(){return ym(this)}}function No(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ud=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Ea},providedIn:"root"}),n})();class Ea{parse(e){const t=new p(e);return new Us(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_c(e.root,!0)}`,r=function mb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${xu(t)}=${xu(o)}`).join("&"):`${xu(t)}=${xu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function dd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Cf=new Ea;function Ca(n){return n.segments.map(e=>ym(e)).join("/")}function _c(n,e){if(!n.hasChildren())return Ca(n);if(e){const t=n.children[tn]?_c(n.children[tn],!1):"",r=[];return Yn(n.children,(o,c)=>{c!==tn&&r.push(`${c}:${_c(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ef(n,e){let t=[];return Yn(n.children,(r,o)=>{o===tn&&(t=t.concat(e(r,o)))}),Yn(n.children,(r,o)=>{o!==tn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===tn?[_c(n.children[tn],!1)]:[`${o}:${_c(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[tn]?`${Ca(n)}/${t[0]}`:`${Ca(n)}/(${t.join("//")})`}}function ld(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xu(n){return ld(n).replace(/%3B/gi,";")}function oo(n){return ld(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fo(n){return decodeURIComponent(n)}function hd(n){return Fo(n.replace(/\+/g,"%20"))}function ym(n){return`${oo(n.path)}${function gb(n){return Object.keys(n).map(e=>`;${oo(e)}=${oo(n[e])}`).join("")}(n.parameters)}`}const _b=/^[^\/()?;=#]+/;function fd(n){const e=n.match(_b);return e?e[0]:""}const pd=/^[^=?&#]+/,bm=/^[^&#]+/;class p{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[tn]=new on(e,t)),r}parseSegment(){const e=fd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new mc(Fo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=fd(this.remaining);o&&(r=o,this.capture(r))}e[Fo(t)]=Fo(r)}parseQueryParam(e){const t=function vm(n){const e=n.match(pd);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function v(n){const e=n.match(bm);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=hd(t),c=hd(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fd(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new u.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=tn);const d=this.parseChildren();t[c]=1===Object.keys(d).length?d[tn]:new on([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function m(n){return n.segments.length>0?new on([],{[tn]:n}):n}function w(n){const e={};for(const r of Object.keys(n.children)){const c=w(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function S(n){if(1===n.numberOfChildren&&n.children[tn]){const e=n.children[tn];return new on(n.segments.concat(e.segments),e.children)}return n}(new on(n.segments,e))}function F(n){return n instanceof Us}function nn(n,e,t,r,o){if(0===t.length)return Di(e.root,e.root,e.root,r,o);const c=function Ou(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ku(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return Yn(c.outlets,(y,C)=>{g[C]="string"==typeof y?y.split("/"):y}),[...o,{outlets:g}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===d?(c.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,c]},[]);return new ku(t,e,r)}(t);return c.toRoot()?Di(e.root,e.root,new on([],{}),r,o):function d(y){const C=function gd(n,e,t,r){if(n.isAbsolute)return new Bs(e.root,!0,0);if(-1===r)return new Bs(t,t===e.root,0);return function Pu(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new u.vHH(4005,!1);o=r.segments.length}return new Bs(r,!1,o-c)}(t,r+(wn(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,e,n.snapshot?._urlSegment,y),T=C.processChildren?as(C.segmentGroup,C.index,c.commands):vc(C.segmentGroup,C.index,c.commands);return Di(e.root,C.segmentGroup,T,r,o)}(n.snapshot?._lastPathIndex)}function wn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gr(n){return"object"==typeof n&&null!=n&&n.outlets}function Di(n,e,t,r,o){let d,c={};r&&Yn(r,(y,C)=>{c[C]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),d=n===e?t:Ru(n,e,t);const g=m(w(d));return new Us(g,c,o)}function Ru(n,e,t){const r={};return Yn(n.children,(o,c)=>{r[c]=o===e?t:Ru(o,e,t)}),new on(n.segments,r)}class ku{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wn(r[0]))throw new u.vHH(4003,!1);const o=r.find(Gr);if(o&&o!==od(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bs{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function vc(n,e,t){if(n||(n=new on([],{})),0===n.segments.length&&n.hasChildren())return as(n,e,t);const r=function wm(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const d=n.segments[o],g=t[r];if(Gr(g))break;const y=`${g}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===y)break;if(y&&C&&"object"==typeof C&&void 0===C.outlets){if(!Df(y,C,d))return c;r+=2}else{if(!Df(y,{},d))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new on(n.segments.slice(0,r.pathIndex),{});return c.children[tn]=new on(n.segments.slice(r.pathIndex),n.children),as(c,0,o)}return r.match&&0===o.length?new on(n.segments,{}):r.match&&!n.hasChildren()?Gn(n,e,t):r.match?as(n,0,o):Gn(n,e,t)}function as(n,e,t){if(0===t.length)return new on(n.segments,{});{const r=function yc(n){return Gr(n[0])?n[0].outlets:{[tn]:n}}(t),o={};return Yn(r,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[d]=vc(n.children[d],e,c))}),Yn(n.children,(c,d)=>{void 0===r[d]&&(o[d]=c)}),new on(n.segments,o)}}function Gn(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(Gr(c)){const y=Em(c.outlets);return new on(r,y)}if(0===o&&wn(t[0])){r.push(new mc(n.segments[e].path,yb(t[0]))),o++;continue}const d=Gr(c)?c.outlets[tn]:`${c}`,g=o<t.length-1?t[o+1]:null;d&&g&&wn(g)?(r.push(new mc(d,yb(g))),o+=2):(r.push(new mc(d,{})),o++)}return new on(r,{})}function Em(n){const e={};return Yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Gn(new on([],{}),0,t))}),e}function yb(n){const e={};return Yn(n,(t,r)=>e[r]=`${t}`),e}function Df(n,e,t){return n==t.path&&Ii(e,t.parameters)}class cs{constructor(e,t){this.id=e,this.url=t}}class Cm extends cs{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bc extends cs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tf extends cs{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vb extends cs{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VC extends cs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jS extends cs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $S extends cs{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class md extends cs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Im extends cs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bb{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wb{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Eb{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UC{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cb{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Af{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ib{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_d(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_d(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Sf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Sf(e,this._root).map(t=>t.value)}}function _d(n,e){if(n===e.value)return e;for(const t of e.children){const r=_d(n,t);if(r)return r}return null}function Sf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Sf(n,t);if(r.length)return r.unshift(e),r}return[]}class us{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function so(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Db extends Ib{constructor(e,t){super(e),this.snapshot=t,yd(this,e)}toString(){return this.snapshot.toString()}}function Mf(n,e){const t=function xf(n,e){const d=new ls([],{},{},"",{},tn,e,null,n.root,-1,{});return new Tm("",new us(d,[]))}(n,e),r=new Un([new mc("",{})]),o=new Un({}),c=new Un({}),d=new Un({}),g=new Un(""),y=new wc(r,o,d,g,c,tn,e,t.root);return y.snapshot=t.root,new Db(new us(y,[]),t)}class wc{constructor(e,t,r,o,c,d,g,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=g,this.title=this.data?.pipe((0,_t.U)(C=>C[ji]))??pt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(e=>wa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(e=>wa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function kf(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ls{constructor(e,t,r,o,c,d,g,y,C,T,x,H){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=g,this.title=this.data?.[ji],this.routeConfig=y,this._urlSegment=C,this._lastPathIndex=T,this._correctedLastPathIndex=H??T,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tm extends Ib{constructor(e,t){super(t),this.url=e,yd(this,t)}toString(){return Tb(this._root)}}function yd(n,e){e.value._routerState=n,e.children.forEach(t=>yd(n,t))}function Tb(n){const e=n.children.length>0?` { ${n.children.map(Tb).join(", ")} } `:"";return`${n.value}${e}`}function Am(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ii(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ii(e.params,t.params)||n.params.next(t.params),function yf(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ii(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ii(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Of(n,e){const t=Ii(n.params,e.params)&&function Mu(n,e){return No(n,e)&&n.every((t,r)=>Ii(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Of(n.parent,e.parent))}function vd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function BC(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return vd(n,r,o);return vd(n,r)})}(n,e,t);return new us(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>vd(n,g)),d}}const r=function jC(n){return new wc(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>vd(n,c));return new us(r,o)}}const Sm="ngNavigationCancelingError";function Pf(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=F(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Ab(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Ab(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Sm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Mm(n){return Sb(n)&&F(n.url)}function Sb(n){return n&&n[Sm]}class Mb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Nf,this.attachRef=null}}let Nf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Mb,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ff=!1;let Ec=(()=>{class n{constructor(t,r,o,c,d){this.parentContexts=t,this.location=r,this.changeDetector=c,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=o||tn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Ff);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Ff);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Ff);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,Ff);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new $C(t,g,o.injector);if(r&&function Fu(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(d);this.activated=o.createComponent(C,o.length,y)}else this.activated=o.createComponent(d,{index:o.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Nf),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class $C{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wc?this.route:e===Nf?this.childContexts:this.parent.get(e,t)}}let Ia=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Ec],encapsulation:2}),n})();function xb(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function km(n){const e=n.children&&n.children.map(km),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==tn&&(t.component=Ia),t}function ao(n){return n.outlet||tn}function Lf(n,e){const t=n.filter(r=>ao(r)===e);return t.push(...n.filter(r=>ao(r)!==e)),t}function Vf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Om{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Am(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=so(t);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,o[d],r),delete o[d]}),Yn(o,(c,d)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=so(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=so(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=so(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new Dm(c.value.snapshot))}),e.children.length&&this.forwardEvent(new UC(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(Am(o),o===c)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),Am(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=Vf(o.snapshot),y=g?.get(u._Vd)??null;d.attachRef=null,d.route=o,d.resolver=y,d.injector=g,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class zC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pm{constructor(e,t){this.component=e,this.route=t}}function WS(n,e,t){const r=n._root;return wd(r,e?e._root:null,t,[r.value])}function bd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function wd(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=so(e);return n.children.forEach(d=>{(function Ob(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const y=function Nm(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!No(n.url,e.url);case"pathParamsOrQueryParamsChange":return!No(n.url,e.url)||!Ii(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Of(n,e)||!Ii(n.queryParams,e.queryParams);default:return!Of(n,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new zC(r)):(c.data=d.data,c._resolvedData=d._resolvedData),wd(n,e,c.component?g?g.children:null:t,r,o),y&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Pm(g.outlet.component,d))}else d&&Lu(e,g,o),o.canActivateChecks.push(new zC(r)),wd(n,null,c.component?g?g.children:null:t,r,o)})(d,c[d.value.outlet],t,r.concat([d.value]),o),delete c[d.value.outlet]}),Yn(c,(d,g)=>Lu(d,t.getContext(g),o)),o}function Lu(n,e,t){const r=so(n),o=n.value;Yn(r,(c,d)=>{Lu(c,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Pm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Vu(n){return"function"==typeof n}function Uf(n){return n instanceof ks||"EmptyError"===n?.name}const Bf=Symbol("INITIAL_VALUE");function Uu(){return yr(n=>td(n.map(e=>e.pipe(Pn(1),Ro(Bf)))).pipe((0,_t.U)(e=>{for(const t of e)if(!0!==t){if(t===Bf)return Bf;if(!1===t||t instanceof Us)return t}return!0}),ei(e=>e!==Bf),Pn(1)))}function ci(n){return(0,rd.z)((0,Kn.b)(e=>{if(F(e))throw Pf(0,e)}),(0,_t.U)(e=>!0===e))}const jf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $f(n,e,t,r,o){const c=Zr(n,e,t);return c.matched?function Um(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?pt(o.map(d=>{const g=bd(d,n);return Oo(function ZC(n){return n&&Vu(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(Uu(),ci()):pt(!0)}(r=xb(e,r),e,t).pipe((0,_t.U)(d=>!0===d?c:{...jf})):pt(c)}function Zr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...jf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||hb)(t,n,e);if(!o)return{...jf};const c={};Yn(o.posParams,(g,y)=>{c[y]=g.path});const d=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Da(n,e,t,r,o="corrected"){if(t.length>0&&function nI(n,e,t){return t.some(r=>Hf(n,e,r)&&ao(r)!==tn)}(n,t,r)){const d=new on(e,function tI(n,e,t,r){const o={};o[tn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&ao(c)!==tn){const d=new on([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[ao(c)]=d}return o}(n,e,r,new on(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Lb(n,e,t){return t.some(r=>Hf(n,e,r))}(n,t,r)){const d=new on(n.segments,function Fb(n,e,t,r,o,c){const d={};for(const g of r)if(Hf(n,t,g)&&!o[ao(g)]){const y=new on([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===c?n.segments.length:e.length,d[ao(g)]=y}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const c=new on(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Hf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Bm(n,e,t,r){return!!(ao(n)===r||r!==tn&&Hf(e,t,n))&&("**"===n.path||Zr(e,n,t).matched)}function Vb(n,e,t){return 0===e.length&&!n.children[t]}const Cd=!1;class zf{constructor(e){this.segmentGroup=e||null}}class Ub{constructor(e){this.urlTree=e}}function Id(n){return Fs(new zf(n))}function Bb(n){return Fs(new Ub(n))}class iI{constructor(e,t,r,o,c){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0}apply(){const e=Da(this.urlTree.root,[],[],this.config).segmentGroup,t=new on(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,tn).pipe((0,_t.U)(c=>this.createUrlTree(w(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bi(c=>{if(c instanceof Ub)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof zf?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,tn).pipe((0,_t.U)(o=>this.createUrlTree(w(o),e.queryParams,e.fragment))).pipe(Bi(o=>{throw o instanceof zf?this.noMatchError(o):o}))}noMatchError(e){return new u.vHH(4002,Cd)}createUrlTree(e,t,r){const o=m(e);return new Us(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,_t.U)(c=>new on([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Sn.D)(o).pipe(ko(c=>{const d=r.children[c],g=Lf(t,c);return this.expandSegmentGroup(e,g,d,c).pipe((0,_t.U)(y=>({segment:y,outlet:c})))}),ya((c,d)=>(c[d.outlet]=d.segment,c),{}),ba())}expandSegment(e,t,r,o,c,d){return(0,Sn.D)(r).pipe(ko(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,c,d).pipe(Bi(C=>{if(C instanceof zf)return pt(null);throw C}))),Ui(g=>!!g),Bi((g,y)=>{if(Uf(g))return Vb(t,o,c)?pt(new on([],{})):Id(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,c,d,g){return Bm(o,t,c,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d):Id(t):Id(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bb(c):this.lineralizeSegments(r,c).pipe((0,Cr.z)(d=>{const g=new on(d,{});return this.expandSegment(e,g,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d){const{matched:g,consumedSegments:y,remainingSegments:C,positionalParamSegments:T}=Zr(t,o,c);if(!g)return Id(t);const x=this.applyRedirectCommands(y,o.redirectTo,T);return o.redirectTo.startsWith("/")?Bb(x):this.lineralizeSegments(o,x).pipe((0,Cr.z)(H=>this.expandSegment(e,t,r,H.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){return"**"===r.path?(e=xb(r,e),r.loadChildren?(r._loadedRoutes?pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,_t.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new on(o,{})))):pt(new on(o,{}))):$f(t,r,o,e).pipe(yr(({matched:d,consumedSegments:g,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Cr.z)(T=>{const x=T.injector??e,H=T.routes,{segmentGroup:Y,slicedSegments:se}=Da(t,g,y,H),Ne=new on(Y.segments,Y.children);if(0===se.length&&Ne.hasChildren())return this.expandChildren(x,H,Ne).pipe((0,_t.U)(Qt=>new on(g,Qt)));if(0===H.length&&0===se.length)return pt(new on(g,{}));const Ue=ao(r)===c;return this.expandSegment(x,Ne,H,se,Ue?tn:c,!0).pipe((0,_t.U)(xt=>new on(g.concat(xt.segments),xt.children)))})):Id(t)))}getChildConfig(e,t,r){return t.children?pt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pt({routes:t._loadedRoutes,injector:t._loadedInjector}):function eI(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?pt(!0):pt(o.map(d=>{const g=bd(d,n);return Oo(function Fm(n){return n&&Vu(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(Uu(),ci())}(e,t,r).pipe((0,Cr.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Kn.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function Bu(n){return Fs(Ab(Cd,3))}())):pt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return pt(r);if(o.numberOfChildren>1||!o.children[tn])return Fs(new u.vHH(4e3,Cd));o=o.children[tn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new Us(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yn(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[c]=t[g]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let d={};return Yn(t.children,(g,y)=>{d[y]=this.createSegmentGroup(e,g,r,o)}),new on(c,d)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new u.vHH(4001,Cd);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class YS{}class ds{constructor(e,t,r,o,c,d,g,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const e=Da(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,tn).pipe((0,_t.U)(t=>{if(null===t)return null;const r=new ls([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new us(r,t),c=new Tm(this.url,o);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(e){const t=e.value,r=Rf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,Sn.D)(Object.keys(r.children)).pipe(ko(o=>{const c=r.children[o],d=Lf(t,o);return this.processSegmentGroup(e,d,c,o)}),ya((o,c)=>o&&c?(o.push(...c),o):null),function pc(n,e=!1){return(0,dr.e)((t,r)=>{let o=0;t.subscribe((0,lr.x)(r,c=>{const d=n(c,o++);(d||e)&&r.next(c),!d&&r.complete()}))})}(o=>null!==o),io(null),ba(),(0,_t.U)(o=>{if(null===o)return null;const c=zm(o);return function $m(n){n.sort((e,t)=>e.value.outlet===tn?-1:t.value.outlet===tn?1:e.value.outlet.localeCompare(t.value.outlet))}(c),c}))}processSegment(e,t,r,o,c){return(0,Sn.D)(t).pipe(ko(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,c)),Ui(d=>!!d),Bi(d=>{if(Uf(d))return Vb(r,o,c)?pt([]):pt(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,c){if(t.redirectTo||!Bm(t,r,o,c))return pt(null);let d;if("**"===t.path){const g=o.length>0?od(o).parameters:{},y=$b(r)+o.length;d=pt({snapshot:new ls(o,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gf(t),ao(t),t.component??t._loadedComponent??null,t,ju(r),y,Zf(t),y),consumedSegments:[],remainingSegments:[]})}else d=$f(r,t,o,e).pipe((0,_t.U)(({matched:g,consumedSegments:y,remainingSegments:C,parameters:T})=>{if(!g)return null;const x=$b(r)+y.length;return{snapshot:new ls(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gf(t),ao(t),t.component??t._loadedComponent??null,t,ju(r),x,Zf(t),x),consumedSegments:y,remainingSegments:C}}));return d.pipe(yr(g=>{if(null===g)return pt(null);const{snapshot:y,consumedSegments:C,remainingSegments:T}=g;e=t._injector??e;const x=t._loadedInjector??e,H=function Hm(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Y,slicedSegments:se}=Da(r,C,T,H.filter(Ue=>void 0===Ue.redirectTo),this.relativeLinkResolution);if(0===se.length&&Y.hasChildren())return this.processChildren(x,H,Y).pipe((0,_t.U)(Ue=>null===Ue?null:[new us(y,Ue)]));if(0===H.length&&0===se.length)return pt([new us(y,[])]);const Ne=ao(t)===c;return this.processSegment(x,H,Y,se,Ne?tn:c).pipe((0,_t.U)(Ue=>null===Ue?null:[new us(y,Ue)]))}))}}function sI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function zm(n){const e=[],t=new Set;for(const r of n){if(!sI(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=zm(r.children);e.push(new us(r.value,o))}return e.filter(r=>!t.has(r))}function ju(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $b(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Gf(n){return n.data||{}}function Zf(n){return n.resolve||{}}function Wf(n){return"string"==typeof n.title||null===n.title}function Zm(n){return yr(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,_t.U)(()=>e)):pt(e)})}let Zb=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(c=>c.outlet===tn);return r}getResolvedTitleForRoute(t){return t.data[ji]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Wb)},providedIn:"root"}),n})(),Wb=(()=>{class n extends Zb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ao))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uI{}class qb extends class lI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dd=new u.OlP("",{providedIn:"root",factory:()=>({})}),qm=new u.OlP("ROUTES");let Km=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Oo(t.loadComponent()).pipe((0,Kn.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),Tu(()=>{this.componentLoaders.delete(t)})),o=new ss(r,()=>new Vi.x).pipe(os());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,_t.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,C,T=!1;Array.isArray(g)?C=g:(y=g.create(t).injector,C=vf(y.get(qm,[],u.XFs.Self|u.XFs.Optional)));return{routes:C.map(km),injector:y}}),Tu(()=>{this.childrenLoaders.delete(r)})),d=new ss(c,()=>new Vi.x).pipe(os());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Oo(t()).pipe((0,Cr.z)(r=>r instanceof u.YKP||Array.isArray(r)?pt(r):(0,Sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kb{}class Yb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Qb(n){throw n}function Jb(n,e,t){return e.parse("/")}const dI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Xb(){const n=(0,u.f3M)(ud),e=(0,u.f3M)(Nf),t=(0,u.f3M)(Fe),r=(0,u.f3M)(u.zs3),o=(0,u.f3M)(u.Sil),c=(0,u.f3M)(qm,{optional:!0})??[],d=(0,u.f3M)(Dd,{optional:!0})??{},g=(0,u.f3M)(Wb),y=(0,u.f3M)(Zb,{optional:!0}),C=(0,u.f3M)(Kb,{optional:!0}),T=(0,u.f3M)(uI,{optional:!0}),x=new Qn(null,n,e,t,r,o,vf(c));return C&&(x.urlHandlingStrategy=C),T&&(x.routeReuseStrategy=T),x.titleStrategy=y??g,function Kf(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,x),x}let Qn=(()=>{class n{constructor(t,r,o,c,d,g,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vi.x,this.errorHandler=Qb,this.malformedUriErrorHandler=Jb,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>pt(void 0),this.urlHandlingStrategy=new Yb,this.routeReuseStrategy=new qb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Km),this.configLoader.onLoadEndListener=H=>this.triggerEvent(new wb(H)),this.configLoader.onLoadStartListener=H=>this.triggerEvent(new bb(H)),this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const x=d.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function bf(){return new Us(new on([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Mf(this.currentUrlTree,this.rootComponentType),this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ei(o=>0!==o.id),(0,_t.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yr(o=>{let c=!1,d=!1;return pt(o).pipe((0,Kn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(g=>{const y=this.browserUrlTree.toString(),C=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Ym(g.source)&&(this.browserUrlTree=g.extractedUrl),pt(g).pipe(yr(x=>{const H=this.transitions.getValue();return r.next(new Cm(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),H!==this.transitions.getValue()?xo.E:Promise.resolve(x)}),function oI(n,e,t,r){return yr(o=>function js(n,e,t,r,o){return new iI(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,_t.U)(c=>({...o,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kn.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},o.urlAfterRedirects=x.urlAfterRedirects}),function zb(n,e,t,r,o,c){return(0,Cr.z)(d=>function QS(n,e,t,r,o,c,d="emptyOnly",g="legacy"){return new ds(n,e,t,r,o,d,g,c).recognize().pipe(yr(y=>null===y?function jb(n){return new Er.y(e=>e.error(n))}(new YS):pt(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,c).pipe((0,_t.U)(g=>({...d,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kn.b)(x=>{if(o.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(Y,x)}this.browserUrlTree=x.urlAfterRedirects}const H=new VC(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(H)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:Y,source:se,restoredState:Ne,extras:Ue}=g,St=new Cm(H,this.serializeUrl(Y),se,Ne);r.next(St);const xt=Mf(Y,this.rootComponentType).snapshot;return pt(o={...g,targetSnapshot:xt,urlAfterRedirects:Y,extras:{...Ue,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),xo.E}),(0,Kn.b)(g=>{const y=new jS(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,_t.U)(g=>o={...g,guards:WS(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function qC(n,e){return(0,Cr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:d}}=t;return 0===d.length&&0===c.length?pt({...t,guardsResult:!0}):function KC(n,e,t,r){return(0,Sn.D)(n).pipe((0,Cr.z)(o=>function XC(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?pt(c.map(g=>{const y=Vf(e)??o,C=bd(g,y);return Oo(function Ed(n){return n&&Vu(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):y.runInContext(()=>C(n,e,t,r))).pipe(Ui())})).pipe(Uu()):pt(!0)}(o.component,o.route,t,e,r)),Ui(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Cr.z)(g=>g&&function Pb(n){return"boolean"==typeof n}(g)?function Vm(n,e,t,r){return(0,Sn.D)(e).pipe(ko(o=>rs(function QC(n,e){return null!==n&&e&&e(new Eb(n)),pt(!0)}(o.route.parent,r),function YC(n,e){return null!==n&&e&&e(new Cb(n)),pt(!0)}(o.route,r),function Nb(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function qS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>_a(()=>pt(d.guards.map(y=>{const C=Vf(d.node)??t,T=bd(y,C);return Oo(function Lm(n){return n&&Vu(n.canActivateChild)}(T)?T.canActivateChild(r,n):C.runInContext(()=>T(r,n))).pipe(Ui())})).pipe(Uu())));return pt(c).pipe(Uu())}(n,o.path,t),function JC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const o=r.map(c=>_a(()=>{const d=Vf(e)??t,g=bd(c,d);return Oo(function GC(n){return n&&Vu(n.canActivate)}(g)?g.canActivate(e,n):d.runInContext(()=>g(e,n))).pipe(Ui())}));return pt(o).pipe(Uu())}(n,o.route,t))),Ui(o=>!0!==o,!0))}(r,c,n,e):pt(g)),(0,_t.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Kn.b)(g=>{if(o.guardsResult=g.guardsResult,F(g.guardsResult))throw Pf(0,g.guardsResult);const y=new $S(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),ei(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Zm(g=>{if(g.guards.canActivateChecks.length)return pt(g).pipe((0,Kn.b)(y=>{const C=new md(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}),yr(y=>{let C=!1;return pt(y).pipe(function JS(n,e){return(0,Cr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return pt(t);let c=0;return(0,Sn.D)(o).pipe(ko(d=>function $u(n,e,t,r){const o=n.routeConfig,c=n._resolve;return void 0!==o?.title&&!Wf(o)&&(c[ji]=o.title),function Gm(n,e,t,r){const o=function Gb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return pt({});const c={};return(0,Sn.D)(o).pipe((0,Cr.z)(d=>function cI(n,e,t,r){const o=Vf(e)??r,c=bd(n,o);return Oo(c.resolve?c.resolve(e,t):o.runInContext(()=>c(e,t)))}(n[d],e,t,r).pipe(Ui(),(0,Kn.b)(g=>{c[d]=g}))),va(1),Du(c),Bi(d=>Uf(d)?xo.E:Fs(d)))}(c,n,e,r).pipe((0,_t.U)(d=>(n._resolvedData=d,n.data=Rf(n,t).resolve,o&&Wf(o)&&(n.data[ji]=o.title),null)))}(d.route,r,n,e)),(0,Kn.b)(()=>c++),va(1),(0,Cr.z)(d=>c===o.length?pt(t):xo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kn.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Kn.b)(y=>{const C=new Im(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}))}),Zm(g=>{const y=C=>{const T=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,Kn.b)(x=>{C.component=x}),(0,_t.U)(()=>{})));for(const x of C.children)T.push(...y(x));return T};return td(y(g.targetSnapshot.root)).pipe(io(),Pn(1))}),Zm(()=>this.afterPreactivation()),(0,_t.U)(g=>{const y=function Nu(n,e,t){const r=vd(n,e._root,t?t._root:void 0);return new Db(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return o={...g,targetRouterState:y}}),(0,Kn.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,_t.U)(r=>(new Om(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Kn.b)({next(){c=!0},complete(){c=!0}}),Tu(()=>{c||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Bi(g=>{if(d=!0,Sb(g)){Mm(g)||(this.navigated=!0,this.restoreHistory(o,!0));const y=new Tf(o.id,this.serializeUrl(o.extractedUrl),g.message,g.cancellationCode);if(r.next(y),Mm(g)){const C=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),T={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ym(o.source)};this.scheduleNavigation(C,"imperative",null,T,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const y=new vb(o.id,this.serializeUrl(o.extractedUrl),g,o.targetSnapshot??void 0);r.next(y);try{o.resolve(this.errorHandler(g))}catch(C){o.reject(C)}}return xo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},c=t.state?.navigationId?t.state:null;if(c){const g={...c};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(km),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:d,queryParamsHandling:g,preserveFragment:y}=r,C=o||this.routerState.root,T=y?this.currentUrlTree.fragment:d;let x=null;switch(g){case"merge":x={...this.currentUrlTree.queryParams,...c};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=c||null}return null!==x&&(x=this.removeEmptyProps(x)),nn(C,this.currentUrlTree,t,x,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=F(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function e0(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...dI}:!1===r?{...eM}:r,F(t))return _m(this.currentUrlTree,t,o);const c=this.parseUrl(t);return _m(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,d){if(this.disposed)return Promise.resolve(!1);let g,y,C;d?(g=d.resolve,y=d.reject,C=d.promise):C=new Promise((H,Y)=>{g=H,y=Y});const T=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),x=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:T,targetPageId:x,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:g,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(H=>Promise.reject(H))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const c=new Tf(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(c),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return Xb()},providedIn:"root"}),n})();function Ym(n){return"imperative"!==n}class Qm{}let Jm=(()=>{class n{constructor(t,r,o,c,d){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ei(t=>t instanceof bc),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,t,`Route: ${c.path}`));const d=c._injector??t,g=c._loadedInjector??d;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?o.push(this.preloadConfig(d,c)):(c.children||c._loadedRoutes)&&o.push(this.processRoutes(g,c.children??c._loadedRoutes))}return(0,Sn.D)(o).pipe((0,Ns.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pt(null);const c=o.pipe((0,Cr.z)(d=>null===d?pt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Sn.D)([c,d]).pipe((0,Ns.J)())}return c})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qn),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Qm),u.LFG(Km))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cc=new u.OlP("");let n0=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Af&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Af(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ic(n,e){return{\u0275kind:n,\u0275providers:e}}function Sd(n){return[{provide:qm,multi:!0,useValue:n}]}function pI(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Qn),o=n.get(Xm);1===n.get(e_)&&r.initialNavigation(),n.get(co,null,u.XFs.Optional)?.setUpPreloading(),n.get(Cc,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const Xm=new u.OlP("",{factory:()=>new Vi.x}),e_=new u.OlP("",{providedIn:"root",factory:()=>1});const co=new u.OlP("");function _I(n){return Ic(0,[{provide:co,useExisting:Jm},{provide:Qm,useExisting:n}])}const s0=new u.OlP("ROUTER_FORROOT_GUARD"),vI=[Fe,{provide:ud,useClass:Ea},{provide:Qn,useFactory:Xb},Nf,{provide:wc,useFactory:function r0(n){return n.routerState.root},deps:[Qn]},Km];function a0(){return new u.PXZ("Router",Qn)}let c0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vI,[],Sd(t),{provide:s0,useFactory:u0,deps:[[Qn,new u.FiY,new u.tp0]]},{provide:Dd,useValue:r||{}},r?.useHash?{provide:be,useClass:Ye}:{provide:be,useClass:ot},{provide:Cc,useFactory:()=>{const n=(0,u.f3M)(Qn),e=(0,u.f3M)(lu),t=(0,u.f3M)(Dd);return t.scrollOffset&&e.setOffset(t.scrollOffset),new n0(n,e,t)}},r?.preloadingStrategy?_I(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:a0},r?.initialNavigation?l0(r):[],[{provide:t_,useFactory:pI},{provide:u.tb,multi:!0,useExisting:t_}]]}}static forChild(t){return{ngModule:n,providers:[Sd(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(s0,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ia]}),n})();function u0(n){return"guarded"}function l0(n){return["disabled"===n.initialNavigation?Ic(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Qn);return()=>{e.setUpLocationChangeListener()}}},{provide:e_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ic(2,[{provide:e_,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(W,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(c=>{const d=e.get(Qn),g=e.get(Xm);(function o(c){e.get(Qn).events.pipe(ei(g=>g instanceof bc||g instanceof Tf||g instanceof vb),(0,_t.U)(g=>g instanceof bc||g instanceof Tf&&(0===g.code||1===g.code)&&null),ei(g=>null!==g),Pn(1)).subscribe(()=>{c()})})(()=>{c(!0),r=!0}),d.afterPreactivation=()=>(c(!0),r||g.closed?pt(void 0):g),d.initialNavigation()}))}}]).\u0275providers:[]]}const t_=new u.OlP("");var Md=N(4986),d0=N(5032);function f0(n,e){return e?t=>rs(e.pipe(Pn(1),function h0(){return(0,dr.e)((n,e)=>{n.subscribe((0,lr.x)(e,d0.Z))})}()),t.pipe(f0(n))):(0,Cr.z)((t,r)=>n(t,r).pipe(Pn(1),Du(t)))}var CI=N(3532);var Dc=N(6451),ep=N(5363),n_=N(6063);class r_ extends Vi.x{constructor(e=1/0,t=1/0,r=n_.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:d}=this;t||(r.push(e),!o&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const d=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)g=y;g&&r.splice(0,g+1)}}}var II=N(3099);function DI(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,II.B)({connector:()=>new r_(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function TI(n,e){return(0,is.m)(e)?yr(()=>n,e):yr(()=>n)}var m0=N(9468),Wt=N(880),uo=N(2011),fs=N(5867);class Tc{constructor(e){return e}}class $s{constructor(){return(0,fs.C6)()}}const Hu=new u.OlP("angularfire2._apps"),AI={provide:Tc,useFactory:function _0(n){return n&&1===n.length?n[0]:new Tc((0,fs.Mq)())},deps:[[new u.FiY,Hu]]},y0={provide:$s,deps:[[new u.FiY,Hu]]};function SI(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Tc(r)}}let MI=(()=>{class n{constructor(t){(0,fs.KN)("angularfire",Wt.q4.full,"core"),(0,fs.KN)("angularfire",Wt.q4.full,"app"),(0,fs.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[AI,y0]}),n})();function xI(n,...e){return{ngModule:MI,providers:[{provide:Hu,useFactory:SI(n),multi:!0,deps:[u.R0b,u.zs3,Wt.HU,...e]}]}}const kI=(0,Wt.u3)(fs.ZF,!0);var Se=N(5861),Lo=N(9681),tp=N(4859),En=N(2090),$i=N(1877);const i_=new Map,b0={activated:!1,tokenObservers:[]},np={initialized:!1,enabled:!1};function Vn(n){return i_.get(n)||b0}function Hi(n,e){i_.set(n,e)}function rp(){return np}class E0{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new En.BH,yield function uM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new En.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wr=new En.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sp(n){if(!Vn(n).activated)throw Wr.create("use-before-activation",{appName:n.name})}function a_(n,e){return c_.apply(this,arguments)}function c_(){return(c_=(0,Se.Z)(function*({url:n,body:e},t){var r,o;const c={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const Y=yield d.getHeartbeatsHeader();Y&&(c["X-Firebase-Client"]=Y)}const g={method:"POST",body:JSON.stringify(e),headers:c};let y,C;try{y=yield fetch(n,g)}catch(Y){throw Wr.create("fetch-network-error",{originalErrorMessage:null===(r=Y)||void 0===r?void 0:r.message})}if(200!==y.status)throw Wr.create("fetch-status-error",{httpStatus:y.status});try{C=yield y.json()}catch(Y){throw Wr.create("fetch-parse-error",{originalErrorMessage:null===(o=Y)||void 0===o?void 0:o.message})}const T=C.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const x=1e3*Number(T[1]),H=Date.now();return{token:C.token,expireTimeMillis:H+x,issuedAtTimeMillis:H}})).apply(this,arguments)}function C0(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const ap="firebase-app-check-store";let kd=null;function I0(){return kd||(kd=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var c;e(Wr.create("storage-open",{originalErrorMessage:null===(c=o.target.error)||void 0===c?void 0:c.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(ap,{keyPath:"compositeKey"})}}catch(r){e(Wr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),kd)}function D0(){return(D0=(0,Se.Z)(function*(n,e){const r=(yield I0()).transaction(ap,"readwrite"),c=r.objectStore(ap).put({compositeKey:n,value:e});return new Promise((d,g)=>{c.onsuccess=y=>{d()},r.onerror=y=>{var C;g(Wr.create("storage-set",{originalErrorMessage:null===(C=y.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const cp=new $i.Yd("@firebase/app-check");function Od(n,e){return(0,En.hl)()?function dM(n,e){return function VI(n,e){return D0.apply(this,arguments)}(function BI(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{cp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lp(){return rp().enabled}function d_(){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,Se.Z)(function*(){const n=rp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ta={error:"UNKNOWN_ERROR"};function A0(n){return En.US.encodeString(JSON.stringify(n),!1)}function dp(n){return h_.apply(this,arguments)}function h_(){return(h_=(0,Se.Z)(function*(n,e=!1){const t=n.app;sp(t);const r=Vn(t);let c,o=r.token;if(o&&!Aa(o)&&(Hi(t,Object.assign(Object.assign({},r),{token:void 0})),o=void 0),!o){const y=yield r.cachedTokenPromise;y&&(Aa(y)?o=y:yield Od(t,void 0))}if(!e&&o&&Aa(o))return{token:o.token};let g,d=!1;if(lp()){r.exchangeTokenPromise||(r.exchangeTokenPromise=a_(C0(t,yield d_()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield Od(t,y),Hi(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?cp.warn(y.message):cp.error(y),c=y}return o?c?g=Aa(o)?{token:o.token,internalError:c}:Sc(c):(g={token:o.token},Hi(t,Object.assign(Object.assign({},r),{token:o})),yield Od(t,o)):g=Sc(c),d&&Ac(t,g),g})).apply(this,arguments)}function f_(n,e){const t=Vn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Hi(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function S0(n){const{app:e}=n,t=Vn(e);let r=t.tokenRefresher;r||(r=function fp(n){const{app:e}=n;return new E0((0,Se.Z)(function*(){let r;if(r=Vn(e).token?yield dp(n,!0):yield dp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Hi(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ac(n,e){const t=Vn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Aa(n){return n.expireTimeMillis-Date.now()>0}function Sc(n){return{token:A0(Ta),error:n}}class p_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vn(this.app);for(const t of e)f_(this.app,t.next);return Promise.resolve()}}const C_="app-check-internal";!function qI(){(0,Lo._registerComponent)(new tp.wA("app-check",n=>function pp(n,e){return new p_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(C_).initialize()})),(0,Lo._registerComponent)(new tp.wA(C_,n=>function M0(n){return{getToken:e=>dp(n,e),addTokenListener:e=>function hp(n,e,t,r){const{app:o}=n,c=Vn(o),d={next:t,error:r,type:e};if(Hi(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,d]})),c.token&&Aa(c.token)){const g=c.token;Promise.resolve().then(()=>{t({token:g.token}),S0(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>S0(n))}(n,"INTERNAL",e),removeTokenListener:e=>f_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lo.registerVersion)("@firebase/app-check","0.5.14")}();class Gu{constructor(){return(0,Wt.vb)("app-check")}}typeof window<"u"&&window,N(127);const mp=new u.OlP("angularfire2.auth.use-emulator"),QI=new u.OlP("angularfire2.auth.settings"),T_=new u.OlP("angularfire2.auth.tenant-id"),A_=new u.OlP("angularfire2.auth.langugage-code"),S_=new u.OlP("angularfire2.auth.use-device-language"),M_=new u.OlP("angularfire.auth.persistence"),_p=(n,e,t,r,o,c,d,g)=>(0,uo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=o,c&&y.useDeviceLanguage(),d)for(const[C,T]of Object.entries(d))y.settings[C]=T;return g&&y.setPersistence(g),y},[t,r,o,c,d,g]);let Vo=(()=>{class n{constructor(t,r,o,c,d,g,y,C,T,x,H,Y){const se=new Vi.x,Ne=pt(void 0).pipe((0,ep.Q)(d.outsideAngular),yr(()=>c.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,_t.U)(()=>(0,uo.on)(t,c,r)),(0,_t.U)(Ue=>_p(Ue,c,g,C,T,x,y,H)),DI({bufferSize:1,refCount:!1}));if(vo(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{Ne.pipe(Ui()).subscribe();const St=Ne.pipe(yr(Jt=>Jt.getRedirectResult().then(Kt=>Kt,()=>null)),Wt.iC,DI({bufferSize:1,refCount:!1})),xt=Ne.pipe(yr(Jt=>new Er.y(Kt=>({unsubscribe:c.runOutsideAngular(()=>Jt.onAuthStateChanged(un=>Kt.next(un),un=>Kt.error(un),()=>Kt.complete()))})))),Qt=Ne.pipe(yr(Jt=>new Er.y(Kt=>({unsubscribe:c.runOutsideAngular(()=>Jt.onIdTokenChanged(un=>Kt.next(un),un=>Kt.error(un),()=>Kt.complete()))}))));this.authState=St.pipe(TI(xt),(0,m0.R)(d.outsideAngular),(0,ep.Q)(d.insideAngular)),this.user=St.pipe(TI(Qt),(0,m0.R)(d.outsideAngular),(0,ep.Q)(d.insideAngular)),this.idToken=this.user.pipe(yr(Jt=>Jt?(0,Sn.D)(Jt.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(yr(Jt=>Jt?(0,Sn.D)(Jt.getIdTokenResult()):pt(null))),this.credential=(0,Dc.T)(St,se,this.authState.pipe(ei(Jt=>!Jt))).pipe((0,_t.U)(Jt=>Jt?.user?Jt:null),(0,m0.R)(d.outsideAngular),(0,ep.Q)(d.insideAngular))}return(0,uo.pX)(this,Ne,c,{spy:{apply:(Ue,St,xt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&xt.then(Qt=>se.next(Qt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uo.Dh),u.LFG(uo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Wt.HU),u.LFG(mp,8),u.LFG(QI,8),u.LFG(T_,8),u.LFG(A_,8),u.LFG(S_,8),u.LFG(M_,8),u.LFG(Gu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zs=(()=>{class n{constructor(t,r){this.fireauth=t,this.router=r,this.isLoggedIn=!1}login(t,r){return this.fireauth.signInWithEmailAndPassword(t,r).then(o=>{localStorage.setItem("token","true"),this.router.navigate(1==o.user?.emailVerified?["dashboard"]:["/verify-email"])},o=>{alert("Co\u015b posz\u0142o nie tak"),this.router.navigate(["login"])}),pt(!0).pipe(function g0(n,e=Md.z){const t=function p0(n=0,e,t=Md.P){let r=-1;return null!=e&&((0,CI.K)(e)?t=e:r=e),new Er.y(o=>{let c=function iM(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let d=0;return t.schedule(function(){o.closed||(o.next(d++),0<=r?this.schedule(void 0,r):o.complete())},c)})}(n,e);return f0(()=>t)}(1e3),(0,Kn.b)(o=>this.isLoggedIn=!0))}register(t,r){this.fireauth.createUserWithEmailAndPassword(t,r).then(o=>{alert("Uda\u0142o si\u0119 zarejestrowa\u0107"),this.sendEmailForVerification(o.user),this.router.navigate(["/login"])},o=>{alert("Problemy z rejestracj\u0105"),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["login"])},t=>{alert("Co\u015b posz\u0142o nie tak")}),this.isLoggedIn=!1}forgotPassword(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/verify-email"])},r=>{alert("Something wrong")})}sendEmailForVerification(t){t.sendEmailVerification().then(r=>{this.router.navigate(["/verify-email"])},r=>{alert("Something is wrong")})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vo),u.LFG(Qn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Gs=(()=>{class n extends z0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Uo=new u.OlP("NgValueAccessor"),Fd={provide:Uo,useExisting:(0,u.Gpc)(()=>Sa),multi:!0},DM=new u.OlP("CompositionEventMode");let Sa=(()=>{class n extends z0{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function XI(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(DM,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([Fd]),u.qOj]}),n})();const ui=new u.OlP("NgValidators"),Zs=new u.OlP("NgAsyncValidators");function eD(n){return null!=n}function Zu(n){return(0,u.QGY)(n)?(0,Sn.D)(n):n}function X0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ew(n,e){return e.map(t=>t(n))}function tw(n){return n.map(e=>function k_(n){return!n.validate}(e)?e:t=>e.validate(t))}function Mc(n){return null!=n?function Bo(n){if(!n)return null;const e=n.filter(eD);return 0==e.length?null:function(t){return X0(ew(t,e))}}(tw(n)):null}function Ws(n){return null!=n?function ti(n){if(!n)return null;const e=n.filter(eD);return 0==e.length?null:function(t){return function Nd(...n){const e=(0,ro.jO)(n),{args:t,keys:r}=Ps(n),o=new Er.y(c=>{const{length:d}=t;if(!d)return void c.complete();const g=new Array(d);let y=d,C=d;for(let T=0;T<d;T++){let x=!1;(0,Mo.Xf)(t[T]).subscribe((0,lr.x)(c,H=>{x||(x=!0,C--),g[T]=H},()=>y--,void 0,()=>{(!y||!x)&&(C||c.next(r?Xl(r,g):g),c.complete())}))}});return e?o.pipe(gf(e)):o}(ew(t,e).map(Zu)).pipe((0,_t.U)(X0))}}(tw(n)):null}function Vd(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xa(n){return n?Array.isArray(n)?n:[n]:[]}function qs(n,e){return Array.isArray(n)?n.includes(e):n===e}function xc(n,e){const t=xa(e);return xa(n).forEach(o=>{qs(t,o)||t.push(o)}),t}function Rc(n,e){return xa(e).filter(t=>!qs(n,t))}class kc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ws(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Sr extends kc{get formDirective(){return null}get path(){return null}}class Gi extends kc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Oc{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pc=(()=>{class n extends Oc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Gi,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),O_=(()=>{class n extends Oc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Sr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Nc="VALID",Wu="INVALID",Fc="PENDING",qu="DISABLED";function jd(n){return($d(n)?n.validators:n)||null}function L_(n){return Array.isArray(n)?Mc(n):n||null}function Ip(n,e){return($d(e)?e.asyncValidators:n)||null}function Dp(n){return Array.isArray(n)?Ws(n):n||null}function $d(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class U_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=L_(this._rawValidators),this._composedAsyncValidatorFn=Dp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nc}get invalid(){return this.status===Wu}get pending(){return this.status==Fc}get disabled(){return this.status===qu}get enabled(){return this.status!==qu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=L_(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Dp(e)}addValidators(e){this.setValidators(xc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rc(e,this._rawAsyncValidators))}hasValidator(e){return qs(this._rawValidators,e)}hasAsyncValidator(e){return qs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nc||this.status===Fc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qu:Nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fc,this._hasOwnPendingAsyncValidator=!0;const t=Zu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?qu:this.errors?Wu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fc)?Fc:this._anyControlsHaveStatus(Wu)?Wu:Nc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$d(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Tp extends U_{constructor(e,t,r){super(jd(t),Ip(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function V_(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function sw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Lc(n,e){Ap(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function cw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&B_(n,e)})}(n,e),function PM(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&B_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function aw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Gd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ap(n,e){const t=function zi(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Vd(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function vp(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Vd(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Gd(e._rawValidators,o),Gd(e._rawAsyncValidators,o)}function B_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Ku={provide:Sr,useExisting:(0,u.Gpc)(()=>Sp)},Wd=(()=>Promise.resolve())();let Sp=(()=>{class n extends Sr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Tp({},Mc(t),Ws(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wd.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Lc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Wd.then(()=>{const r=this._findContainer(t.path),o=new Tp({});(function lw(n,e){Ap(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Wd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function $_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ui,10),u.Y36(Zs,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Ku]),u.qOj]}),n})();function z_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function hw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const G_=class extends U_{constructor(e=null,t,r){super(jd(t),Ip(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$d(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=hw(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){z_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){z_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){hw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pw={provide:Gi,useExisting:(0,u.Gpc)(()=>Vc)},Z_=(()=>Promise.resolve())();let Vc=(()=>{class n extends Gi{constructor(t,r,o,c,d){super(),this._changeDetectorRef=d,this.control=new G_,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function H_(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===Sa?t=c:function lD(n){return Object.getPrototypeOf(n.constructor)===Gs}(c)?r=c:o=c}),o||r||t||null}(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function j_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Z_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,u.D6c)(r);Z_.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Hd(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Sr,9),u.Y36(ui,10),u.Y36(Zs,10),u.Y36(Uo,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([pw]),u.qOj,u.TTD]}),n})(),gw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),_w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ID=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_w]}),n})(),Qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ID]}),n})(),AD=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.email="",this.password="",this.logo="assets/images/logo.png"}goToRegister(){this.router.navigate(["/register"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}ngOnInit(){}login(){""!=this.email?(this.auth.isLoggedIn=!0,""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter Password")):alert("Please enter email")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zs),u.Y36(Qn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:3,consts:[[1,"component"],[1,"component_container"],[1,"component_container_big_circle"],[1,"component_container_small_circle"],[1,"component_container_logotype"],[1,"component_container_logotype_logo"],[1,"component_container_logotype_logo_logo",3,"src"],[1,"component_container_logotype_title_title"],[1,"component_container_logotype_title"],[1,"component_container_base"],[1,"component_container_base_form"],[1,"component_container_base_form_title"],[1,"component_container_base_form_title_text"],[1,"component_container_base_form_inputs"],["type","email","placeholder","Email",1,"component_container_base_form_inputs_input",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"component_container_base_form_inputs_input",3,"ngModel","ngModelChange"],[1,"component_container_base_form_button"],[1,"component_container_base_form_button_button",3,"click"],[1,"col-6","m-3","d-flex","justify-content-center","align-items-center"],[2,"text-decoration","none","color","rgba(206, 81, 116, 0.59)","cursor","pointer",3,"click"],[1,"text-danger"],[1,"col-6","d-flex","justify-content-center","align-items-center"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7)(8,"h5",8),u._uU(9,"BRIGHTMOON"),u.qZA()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"p",12),u._uU(14,"LOGIN"),u.qZA()(),u.TgZ(15,"div",13)(16,"input",14),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(17,"input",15),u.NdJ("ngModelChange",function(c){return r.password=c}),u.qZA()(),u.TgZ(18,"div",16)(19,"button",17),u.NdJ("click",function(){return r.login()}),u._uU(20,"Login"),u.qZA()(),u.TgZ(21,"div",18)(22,"a",19),u.NdJ("click",function(){return r.goToRegister()}),u._uU(23,"Need Account?"),u.TgZ(24,"span",20),u._uU(25,"Register"),u.qZA()()(),u.TgZ(26,"div",21)(27,"a",19),u.NdJ("click",function(){return r.goToForgotPassword()}),u._uU(28,"Forgot Password?"),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("src",r.logo,u.LSH),u.xp6(10),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngModel",r.password))},dependencies:[Sa,Pc,Vc],styles:["@media screen and (min-width: 1601px){.login_container[_ngcontent-%COMP%]{z-index:3;display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:714px;height:714px;z-index:1;left:-385px;top:102px;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (min-width: 1024px) and (max-width: 1600px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:614px;height:614px;left:-385px;top:52px;z-index:1;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;z-index:2;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (max-width: 1023px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:397px;height:397px;left:-276px;top:157px;border-radius:100%;z-index:1;background:rgba(206,81,116,.39)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:35px;height:35px;left:59px;top:204px;border-radius:100%;z-index:2;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:27px;line-height:58px;color:#fff;margin-bottom:0}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:231px;max-width:431px;width:100%;margin-top:40px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:16px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:231px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:20px;line-height:29px}}"]}),n})();const Bc=[{navbarLogo:"Brightmoon",navbarDashboard:"Dashboard",navbarClients:"Clients",navbarPromotions:"Promotions",navbarAnalitycs:"Analitycs",navbarSettings:"Settings",dashboardTitle:"Dashboard",dashboardRecentProducts:"Recent Products",dashboardLastUpdates:"Last Updates",dashboardSalesAnalitycs:"Sales Analitycs",dashboardTotalSales:"Total Sales",dashboardTotalExpanses:"Total Expanses",dashboardTotalIncome:"Total Income",dashboardSalesCosts:"20.123 PLN",dashboardExpansesCosts:"10.123 PLN",dashboardIncomeCosts:"10.000 PLN"}];function Np(){return(0,dr.e)((n,e)=>{let t,r=!1;n.subscribe((0,lr.x)(e,o=>{const c=t;t=o,r&&e.next([c,o]),r=!0}))})}function Yd(n,e=ma.y){return n=n??Fp,(0,dr.e)((t,r)=>{let o,c=!0;t.subscribe((0,lr.x)(r,d=>{const g=e(d);(c||!n(o,g))&&(c=!1,o=g,r.next(d))}))})}function Fp(n,e){return n===e}N(5881);var wt,jM=N(3942),Pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ms={},Lp=Lp||{},$t=Pw||self;function Qd(){}function Jd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ay="closure_uid_"+(1e9*Math.random()>>>0),eh=0;function MD(n,e,t){return n.call.apply(n.bind,arguments)}function xD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function li(n,e,t){return(li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?MD:xD).apply(null,arguments)}function jc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,c){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[o].apply(r,d)}}function Qs(){this.s=this.s,this.o=this.o}var RD={};Qs.prototype.s=!1,Qs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function SD(n){return Object.prototype.hasOwnProperty.call(n,ay)&&n[ay]||(n[ay]=++eh)}(this);delete RD[n]}},Qs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ju=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $c(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Fw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Jd(r)){const o=n.length||0,c=r.length||0;n.length=o+c;for(let d=0;d<c;d++)n[o+d]=r[d]}else n.push(r)}}function di(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}di.prototype.h=function(){this.defaultPrevented=!0};var kD=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",Qd,e),$t.removeEventListener("test",Qd,e)}catch{}return n}();function th(n){return/^[\s\xa0]*$/.test(n)}var cy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vp(n,e){return n<e?-1:n>e?1:0}function Up(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function $o(n){return-1!=Up().indexOf(n)}function uy(n){return uy[" "](n),n}uy[" "]=Qd;var jp,n,$M=$o("Opera"),nh=$o("Trident")||$o("MSIE"),PD=$o("Edge"),Lw=PD||nh,ly=$o("Gecko")&&!(-1!=Up().toLowerCase().indexOf("webkit")&&!$o("Edge"))&&!($o("Trident")||$o("MSIE"))&&!$o("Edge"),Bp=-1!=Up().toLowerCase().indexOf("webkit")&&!$o("Edge");function Vw(){var n=$t.document;return n?n.documentMode:void 0}e:{var $p="",Hc=(n=Up(),ly?/rv:([^\);]+)(\)|;)/.exec(n):PD?/Edge\/([\d\.]+)/.exec(n):nh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bp?/WebKit\/(\S+)/.exec(n):$M?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Hc&&($p=Hc?Hc[1]:""),nh){var dy=Vw();if(null!=dy&&dy>parseFloat($p)){jp=String(dy);break e}}jp=$p}var ND={};var Bw=$t.document&&nh&&(Vw()||parseInt(jp,10))||void 0;function rh(n,e){if(di.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ly){e:{try{uy(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rh.X.h.call(this)}}qr(rh,di);var LD={2:"touch",3:"pen",4:"mouse"};rh.prototype.h=function(){rh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Js="closure_listenable_"+(1e6*Math.random()|0),VD=0;function jw(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++VD,this.ba=this.ea=!1}function Hp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function zp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $w(n){const e={};for(const t in n)e[t]=n[t];return e}const fy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hw(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<fy.length;c++)t=fy[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xu(n){this.src=n,this.g={},this.h=0}function py(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=Ju(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(Hp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Gp(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==r)return o}return-1}Xu.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=Gp(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new jw(e,this.src,c,!!r,o)).ea=t,n.push(e)),e};var Zp="closure_lm_"+(1e6*Math.random()|0),gy={};function zw(n,e,t,r,o){if(r&&r.once)return Zw(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)zw(n,e[c],t,r,o);return null}return t=wy(t),n&&n[Js]?n.N(e,t,Xd(r)?!!r.capture:!!r,o):Gw(n,e,t,!1,r,o)}function Gw(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var d=Xd(o)?!!o.capture:!!o,g=vy(n);if(g||(n[Zp]=g=new Xu(n)),(t=g.add(e,t,r,d,c)).proxy)return t;if(r=function my(){const e=UD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kD||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Ww(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Zw(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Zw(n,e[c],t,r,o);return null}return t=wy(t),n&&n[Js]?n.O(e,t,Xd(r)?!!r.capture:!!r,o):Gw(n,e,t,!0,r,o)}function _y(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)_y(n,e[c],t,r,o);else r=Xd(r)?!!r.capture:!!r,t=wy(t),n&&n[Js]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Gp(c=n.g[e],t,r,o))&&(Hp(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=vy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Gp(e,t,r,o)),(t=-1<n?e[n]:null)&&yy(t))}function yy(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Js])py(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ww(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=vy(e))?(py(t,n),0==t.h&&(t.src=null,e[Zp]=null)):Hp(n)}}}function Ww(n){return n in gy?gy[n]:gy[n]="on"+n}function UD(n,e){if(n.ba)n=!0;else{e=new rh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&yy(n),n=t.call(r,e)}return n}function vy(n){return(n=n[Zp])instanceof Xu?n:null}var by="__closure_events_fn_"+(1e9*Math.random()>>>0);function wy(n){return"function"==typeof n?n:(n[by]||(n[by]=function(e){return n.handleEvent(e)}),n[by])}function Kr(){Qs.call(this),this.i=new Xu(this),this.P=this,this.I=null}function ni(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new di(e,n);else if(e instanceof di)e.target=e.target||n;else{var o=e;Hw(e=new di(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];o=ih(d,r,!0,e)&&o}if(o=ih(d=e.g=n,r,!0,e)&&o,o=ih(d,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=ih(d=e.g=t[c],r,!1,e)&&o}function ih(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.ba&&d.capture==t){var g=d.listener,y=d.ha||d.src;d.ea&&py(n.i,d),o=!1!==g.call(y,r)&&o}}return o&&!r.defaultPrevented}qr(Kr,Qs),Kr.prototype[Js]=!0,Kr.prototype.removeEventListener=function(n,e,t,r){_y(this,n,e,t,r)},Kr.prototype.M=function(){if(Kr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Hp(t[r]);delete n.g[e],n.h--}}this.I=null},Kr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Wp=$t.JSON.stringify;function BD(){var n=Kp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var oh,Ey=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $D,n=>n.reset());class $D{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function HD(n){$t.setTimeout(()=>{throw n},0)}function qw(n,e){oh||function Cy(){var n=$t.Promise.resolve(void 0);oh=function(){n.then(zD)}}(),qp||(oh(),qp=!0),Kp.add(n,e)}var qp=!1,Kp=new class jD{constructor(){this.h=this.g=null}add(e,t){const r=Ey.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function zD(){for(var n;n=BD();){try{n.h.call(n.g)}catch(t){HD(t)}var e=Ey;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qp=!1}function Yp(n,e){Kr.call(this),this.h=n||1,this.g=e||$t,this.j=li(this.lb,this),this.l=Date.now()}function sh(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Iy(n,e,t){if("function"==typeof n)t&&(n=li(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=li(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function Dy(n){n.g=Iy(()=>{n.g=null,n.i&&(n.i=!1,Dy(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(Yp,Kr),(wt=Yp.prototype).ca=!1,wt.R=null,wt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ni(this,"tick"),this.ca&&(sh(this),this.start()))}},wt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.M=function(){Yp.X.M.call(this),sh(this),delete this.g};class el extends Qs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dy(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(n){Qs.call(this),this.h=n,this.g={}}qr(tl,Qs);var Kw=[];function GD(n,e,t,r){Array.isArray(t)||(t&&(Kw[0]=t.toString()),t=Kw);for(var o=0;o<t.length;o++){var c=zw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function Ty(n){zp(n.g,function(e,t){this.g.hasOwnProperty(t)&&yy(e)},n),n.g={}}function nl(){this.g=!0}function rl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Sy(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<o.length;d++)o[d]=""}}}return Wp(t)}catch{return e}}(n,t)+(r?" "+r:"")})}tl.prototype.M=function(){tl.X.M.call(this),Ty(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nl.prototype.Aa=function(){this.g=!1},nl.prototype.info=function(){};var Ra={},My=null;function ah(){return My=My||new Kr}function xy(n){di.call(this,Ra.Pa,n)}function ch(n){const e=ah();ni(e,new xy(e,n))}function Qw(n,e){di.call(this,Ra.STAT_EVENT,n),this.stat=e}function yi(n){const e=ah();ni(e,new Qw(e,n))}function Jw(n,e){di.call(this,Ra.Qa,n),this.size=e}function il(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Ra.Pa="serverreachability",qr(xy,di),Ra.STAT_EVENT="statevent",qr(Qw,di),Ra.Qa="timingevent",qr(Jw,di);var Ry={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ky={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Oy(){}function WD(){}Oy.prototype.h=null;var Fy,Qp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Py(){di.call(this,"d")}function Ny(){di.call(this,"c")}function Jp(){}function uh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new tl(this),this.O=qD,this.T=new Yp(n=Lw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new eE}function eE(){this.i=null,this.g="",this.h=!1}qr(Py,di),qr(Ny,di),qr(Jp,Oy),Jp.prototype.g=function(){return new XMLHttpRequest},Jp.prototype.i=function(){return{}},Fy=new Jp;var qD=45e3,Ly={},Xp={};function Vy(n,e,t){n.K=1,n.v=ul(Zi(e)),n.s=t,n.P=!0,tE(n,null)}function tE(n,e){n.F=Date.now(),sl(n),n.A=Zi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),aE(t.i,"t",r),n.C=0,t=n.l.H,n.h=new eE,n.g=vE(n.l,t?e:null,!n.s),0<n.N&&(n.L=new el(li(n.La,n,n.g),n.N)),GD(n.S,n.g,"readystatechange",n.ib),e=n.H?$w(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ch(1),function ZD(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var d="",g=c.split("&"),y=0;y<g.length;y++){var C=g[y].split("=");if(1<C.length){var T=C[0];C=C[1];var x=T.split("_");d=2<=x.length&&"type"==x[1]?d+(T+"=")+C+"&":d+(T+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function nE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function ol(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=rE(n,t),o==Xp){4==e&&(n.o=4,yi(14),r=!1),rl(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ly){n.o=4,yi(15),rl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rl(n.j,n.m,o,null),By(n,o)}nE(n)&&o!=Xp&&o!=Ly&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ev(e),e.K=!0,yi(11))):(rl(n.j,n.m,t,"[Invalid Chunked Response]"),zc(n),al(n))}function rE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Xp:(t=Number(e.substring(t,r)),isNaN(t)?Ly:(r+=1)+t>e.length?Xp:(e=e.substr(r,t),n.C=r+t,e))}function sl(n){n.V=Date.now()+n.O,Uy(n,n.O)}function Uy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=il(li(n.gb,n),e)}function lh(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function al(n){0==n.l.G||n.I||sT(n.l,n)}function zc(n){lh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,sh(n.T),Ty(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function By(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Hy(t.h,n)))if(!n.J&&Hy(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;gl(t),mh(t)}Oa(t),yi(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=il(li(t.cb,t),6e3));if(1>=sg(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ml(t,11)}else if((n.J||t.g==n)&&gl(t),!th(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const T=C[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const x=C[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const H=C[5];null!=H&&"number"==typeof H&&0<H&&(t.J=r=1.5*H,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Y=n.g;if(Y){const se=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var c=r.h;c.g||-1==se.indexOf("spdy")&&-1==se.indexOf("quic")&&-1==se.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(zy(c,c.h),c.h=null))}if(r.D){const Ne=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(r.za=Ne,sr(r.F,r.D,Ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=yE(r,r.H?r.ka:null,r.V),d.J){uE(r.h,d);var g=d,y=r.J;y&&g.setTimeout(y),g.B&&(lh(g),sl(g)),r.g=d}else Xy(r);0<t.i.length&&Wc(t)}else"stop"!=C[0]&&"close"!=C[0]||ml(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?ml(t,7):gh(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}ch(4)}catch{}}function iE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Jd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function KD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Jd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function HM(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Jd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}(wt=uh.prototype).setTimeout=function(n){this.O=n},wt.ib=function(n){n=n.target;const e=this.L;e&&3==zo(n)?e.l():this.La(n)},wt.La=function(n){try{if(n==this.g)e:{const T=zo(this.g);var e=this.g.Ea();const x=this.g.aa();if(!(3>T)&&(3!=T||Lw||this.g&&(this.h.h||this.g.fa()||fE(this.g)))){this.I||4!=T||7==e||ch(8==e||0>=x?3:2),lh(this);var t=this.g.aa();this.Y=t;t:if(nE(this)){var r=fE(this.g);n="";var o=r.length,c=4==zo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zc(this),al(this);var d="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function Ay(n,e,t,r,o,c,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!th(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,yi(12),zc(this),al(this);break e}rl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,By(this,t)}this.P?(ol(this,T,d),Lw&&this.i&&3==T&&(GD(this.S,this.T,"tick",this.hb),this.T.start())):(rl(this.j,this.m,d,null),By(this,d)),4==T&&zc(this),this.i&&!this.I&&(4==T?sT(this.l,this):(this.i=!1,sl(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),zc(this),al(this)}}}catch{}},wt.hb=function(){if(this.g){var n=zo(this.g),e=this.g.fa();this.C<e.length&&(lh(this),ol(this,n,e),this.i&&4!=n&&sl(this))}},wt.cancel=function(){this.I=!0,zc(this)},wt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Yw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ch(3),yi(17)),zc(this),this.o=2,al(this)):Uy(this,this.V-n)};var oE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Gc){this.h=void 0!==e?e:n.h,eg(this,n.j),this.s=n.s,this.g=n.g,cl(this,n.m),this.l=n.l,e=n.i;var t=new ll;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ho(this,t),this.o=n.o}else n&&(t=String(n).match(oE))?(this.h=!!e,eg(this,t[1]||"",!0),this.s=Xs(t[2]||""),this.g=Xs(t[3]||"",!0),cl(this,t[4]),this.l=Xs(t[5]||"",!0),Ho(this,t[6]||"",!0),this.o=Xs(t[7]||"")):(this.h=!!e,this.i=new ll(null,this.h))}function Zi(n){return new Gc(n)}function eg(n,e,t){n.j=t?Xs(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cl(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ho(n,e,t){e instanceof ll?(n.i=e,function zM(n,e){e&&!n.j&&(ea(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(rg(this,r),aE(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dh(e,JD)),n.i=new ll(e,n.h))}function sr(n,e,t){n.i.set(e,t)}function ul(n){return sr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xs(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,QD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function QD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dh(e,sE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dh(e,sE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dh(t,"/"==t.charAt(0)?ng:tg,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dh(t,XD)),n.join("")};var sE=/[#\/\?@]/g,tg=/[#\?:]/g,ng=/[#\?]/g,JD=/[#\?@]/g,XD=/#/g;function ll(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ea(n){n.g||(n.g=new Map,n.h=0,n.i&&function YD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function rg(n,e){ea(n),e=dl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function jy(n,e){return ea(n),e=dl(n,e),n.g.has(e)}function aE(n,e,t){rg(n,e),0<t.length&&(n.i=null,n.g.set(dl(n,e),$c(t)),n.h+=t.length)}function dl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ig(n){this.l=n||cE,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ga&&$t.g.Ga()&&$t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=ll.prototype).add=function(n,e){ea(this),this.i=null,n=dl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},wt.forEach=function(n,e){ea(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},wt.oa=function(){ea(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let c=0;c<o.length;c++)t.push(e[r])}return t},wt.W=function(n){ea(this);let e=[];if("string"==typeof n)jy(this,n)&&(e=e.concat(this.g.get(dl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},wt.set=function(n,e){return ea(this),this.i=null,jy(this,n=dl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},wt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=c;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var cE=10;function og(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sg(n){return n.h?1:n.g?n.g.size:0}function Hy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function zy(n,e){n.g?n.g.add(e):n.h=e}function uE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $c(n.i)}function ag(){}function Gy(){this.g=new ag}function dE(n,e,t){const r=t||"";try{iE(n,function(o,c){let d=o;Xd(o)&&(d=Wp(o)),e.push(r+c+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function hh(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function hl(n){this.l=n.ac||null,this.j=n.jb||!1}function cg(n,e){Kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ig.prototype.cancel=function(){if(this.i=lE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ag.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},ag.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},qr(hl,Oy),hl.prototype.g=function(){return new cg(this.l,this.j)},hl.prototype.i=function(n){return function(){return n}}({}),qr(cg,Kr);var ug=0;function Zy(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function fh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fl(n)}function fl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=cg.prototype).open=function(n,e){if(this.readyState!=ug)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fl(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fh(this)),this.readyState=ug},wt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fl(this)),this.g&&(this.readyState=3,fl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zy(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},wt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fh(this):fl(this),3==this.readyState&&Zy(this)}},wt.Va=function(n){this.g&&(this.response=this.responseText=n,fh(this))},wt.Ua=function(n){this.g&&(this.response=n,fh(this))},wt.ga=function(){this.g&&fh(this)},wt.setRequestHeader=function(n,e){this.v.append(n,e)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var tT=$t.JSON.parse;function hn(n){Kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zc,this.K=this.L=!1}qr(hn,Kr);var Zc="",nT=/^https?$/i,rT=["POST","PUT"];function iT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Wy(n),ka(n)}function Wy(n){n.D||(n.D=!0,ni(n,"complete"),ni(n,"error"))}function qy(n){if(n.h&&typeof Lp<"u"&&(!n.C[1]||4!=zo(n)||2!=n.aa()))if(n.v&&4==zo(n))Iy(n.Ha,0,n);else if(ni(n,"readystatechange"),4==zo(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(oE)[1]||null;if(!o&&$t.self&&$t.self.location){var c=$t.self.location.protocol;o=c.substr(0,c.length-1)}r=!nT.test(o?o.toLowerCase():"")}t=r}if(t)ni(n,"complete"),ni(n,"success");else{n.m=6;try{var d=2<zo(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Wy(n)}}finally{ka(n)}}}function ka(n,e){if(n.g){hE(n);const t=n.g,r=n.C[0]?Qd:null;n.g=null,n.C=null,e||ni(n,"ready");try{t.onreadystatechange=r}catch{}}}function hE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function zo(n){return n.g?n.g.readyState:0}function fE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Zc:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ky(n){let e="";return zp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Yy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Ky(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):sr(n,e,t))}function ph(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function pE(n){this.Ca=0,this.i=[],this.j=new nl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ph("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ph("baseRetryDelayMs",5e3,n),this.bb=ph("retryDelaySeedMs",1e4,n),this.$a=ph("forwardChannelMaxRetries",2,n),this.ta=ph("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new ig(n&&n.concurrentRequestLimit),this.Fa=new Gy,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function gh(n){if(Qy(n),3==n.G){var e=n.U++,t=Zi(n.F);sr(t,"SID",n.I),sr(t,"RID",e),sr(t,"TYPE","terminate"),pl(n,t),(e=new uh(n,n.j,e,void 0)).K=2,e.v=ul(Zi(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=vE(e.l,null),e.g.da(e.v)),e.F=Date.now(),sl(e)}_E(n)}function mh(n){n.g&&(ev(n),n.g.cancel(),n.g=null)}function Qy(n){mh(n),n.u&&($t.clearTimeout(n.u),n.u=null),gl(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function Wc(n){og(n.h)||n.m||(n.m=!0,qw(n.Ja,n),n.C=0)}function oT(n,e){var t;t=e?e.m:n.U++;const r=Zi(n.F);sr(r,"SID",n.I),sr(r,"RID",t),sr(r,"AID",n.T),pl(n,r),n.o&&n.s&&Yy(r,n.o,n.s),t=new uh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=gE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),zy(n.h,t),Vy(t,r,e)}function pl(n,e){n.ia&&zp(n.ia,function(t,r){sr(e,r,t)}),n.l&&iE({},function(t,r){sr(e,r,t)})}function gE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?li(n.l.Ra,n.l,n):null;e:{var o=n.i;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=o[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let g=!0;for(let y=0;y<t;y++){let C=o[y].h;const T=o[y].g;if(C-=c,0>C)c=Math.max(0,o[y].h-100),g=!1;else try{dE(T,d,"req"+C+"_")}catch{r&&r(T)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Xy(n){n.g||n.u||(n.Z=1,qw(n.Ia,n),n.A=0)}function Oa(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=il(li(n.Ia,n),mE(n,n.A)),n.A++,0))}function ev(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function tv(n){n.g=new uh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Zi(n.sa);sr(e,"RID","rpc"),sr(e,"SID",n.I),sr(e,"CI",n.L?"0":"1"),sr(e,"AID",n.T),sr(e,"TYPE","xmlhttp"),pl(n,e),n.o&&n.s&&Yy(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ul(Zi(e)),t.s=null,t.P=!0,tE(t,n)}function gl(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function sT(n,e){var t=null;if(n.g==e){gl(n),ev(n),n.g=null;var r=2}else{if(!Hy(n.h,e))return;t=e.D,uE(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ni(r=ah(),new Jw(r,t,e,o)),Wc(n)}else Xy(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function Jy(n,e){return!(sg(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=il(li(n.Ja,n,e),mE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Oa(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:ml(n,5);break;case 4:ml(n,10);break;case 3:ml(n,6);break;default:ml(n,2)}}function mE(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ml(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=li(n.kb,n);t||(t=new Gc("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||eg(t,"https"),ul(t)),function eT(n,e){const t=new nl;if($t.Image){const r=new Image;r.onload=jc(hh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jc(hh,t,r,"TestLoadImage: error",!1,e),r.onabort=jc(hh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jc(hh,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yi(2);n.G=0,n.l&&n.l.va(e),_E(n),Qy(n)}function _E(n){if(n.G=0,n.la=[],n.l){const e=lE(n.h);(0!=e.length||0!=n.i.length)&&(Fw(n.la,e),Fw(n.la,n.i),n.h.i.length=0,$c(n.i),n.i.length=0),n.l.ua()}}function yE(n,e,t){var r=t instanceof Gc?Zi(t):new Gc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),cl(r,r.m);else{var o=$t.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var c=new Gc(null,void 0);r&&eg(c,r),e&&(c.g=e),o&&cl(c,o),t&&(c.l=t),r=c}return e=n.za,(t=n.D)&&e&&sr(r,t,e),sr(r,"VER",n.ma),pl(n,r),r}function vE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hn(t&&n.Da&&!n.ra?new hl({jb:!0}):n.ra)).Ka(n.H),e}function nv(){}function _h(){if(nh&&!(10<=Number(Bw)))throw Error("Environmental error: no available transport.")}function Wi(n,e){Kr.call(this),this.g=new pE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!th(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!th(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _l(this)}function rv(n){Py.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iv(){Ny.call(this),this.status=1}function _l(n){this.g=n}(wt=hn.prototype).Ka=function(n){this.L=n},wt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fy.g(),this.C=function Xw(n){return n.h||(n.h=n.i())}(this.u?this.u:Fy),this.g.onreadystatechange=li(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void iT(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),o=$t.FormData&&n instanceof $t.FormData,!(0<=Ju(rT,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of t)this.g.setRequestHeader(c,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hE(this),0<this.B&&((this.K=function GM(n){return nh&&function FD(){return function OD(n){var e=ND;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=cy(String(jp)).split("."),t=cy("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",c=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=Vp(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||Vp(0==o[2].length,0==c[2].length)||Vp(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=li(this.qa,this)):this.A=Iy(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){iT(this,c)}},wt.qa=function(){typeof Lp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ni(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ni(this,"complete"),ni(this,"abort"),ka(this))},wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ka(this,!0)),hn.X.M.call(this)},wt.Ha=function(){this.s||(this.F||this.v||this.l?qy(this):this.fb())},wt.fb=function(){qy(this)},wt.aa=function(){try{return 2<zo(this)?this.g.status:-1}catch{return-1}},wt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),tT(e)}},wt.Ea=function(){return this.m},wt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=pE.prototype).ma=8,wt.G=1,wt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new uh(this,this.j,n,void 0);let c=this.s;if(this.S&&(c?(c=$w(c),Hw(c,this.S)):c=this.S),null!==this.o||this.N||(o.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gE(this,o,e),sr(t=Zi(this.F),"RID",n),sr(t,"CVER",22),this.D&&sr(t,"X-HTTP-Session-Id",this.D),pl(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Ky(c)))+"&"+e:this.o&&Yy(t,this.o,c)),zy(this.h,o),this.Ya&&sr(t,"TYPE","init"),this.O?(sr(t,"$req",e),sr(t,"SID","null"),o.Z=!0,Vy(o,t,null)):Vy(o,t,e),this.G=2}}else 3==this.G&&(n?oT(this,n):0==this.i.length||og(this.h)||oT(this))},wt.Ia=function(){if(this.u=null,tv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=il(li(this.eb,this),n)}},wt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yi(10),mh(this),tv(this))},wt.cb=function(){null!=this.v&&(this.v=null,mh(this),Oa(this),yi(19))},wt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),yi(2)):(this.j.info("Failed to ping google.com"),yi(1))},(wt=nv.prototype).xa=function(){},wt.wa=function(){},wt.va=function(){},wt.ua=function(){},wt.Ra=function(){},_h.prototype.g=function(n,e){return new Wi(n,e)},qr(Wi,Kr),Wi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;yi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=yE(n,null,n.V),Wc(n)},Wi.prototype.close=function(){gh(this.g)},Wi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Wp(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Wc(e)},Wi.prototype.M=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,Wi.X.M.call(this)},qr(rv,Py),qr(iv,Ny),qr(_l,nv),_l.prototype.xa=function(){ni(this.g,"a")},_l.prototype.wa=function(n){ni(this.g,new rv(n))},_l.prototype.va=function(n){ni(this.g,new iv(n))},_l.prototype.ua=function(){ni(this.g,"b")},_h.prototype.createWebChannel=_h.prototype.g,Wi.prototype.send=Wi.prototype.u,Wi.prototype.open=Wi.prototype.m,Wi.prototype.close=Wi.prototype.close,Ry.NO_ERROR=0,Ry.TIMEOUT=8,Ry.HTTP_ERROR=6,ky.COMPLETE="complete",WD.EventType=Qp,Qp.OPEN="a",Qp.CLOSE="b",Qp.ERROR="c",Qp.MESSAGE="d",Kr.prototype.listen=Kr.prototype.N,hn.prototype.listenOnce=hn.prototype.O,hn.prototype.getLastError=hn.prototype.Oa,hn.prototype.getLastErrorCode=hn.prototype.Ea,hn.prototype.getStatus=hn.prototype.aa,hn.prototype.getResponseJson=hn.prototype.Sa,hn.prototype.getResponseText=hn.prototype.fa,hn.prototype.send=hn.prototype.da,hn.prototype.setWithCredentials=hn.prototype.Ka;var aT=ms.createWebChannelTransport=function(){return new _h},bE=ms.getStatEventTarget=function(){return ah()},ov=ms.ErrorCode=Ry,wE=ms.EventType=ky,EE=ms.Event=Ra,sv=ms.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},CE=ms.FetchXmlHttpFactory=hl,lg=ms.WebChannel=WD,cT=ms.XhrIo=hn;const uT="@firebase/firestore";class Ur{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");let yh="9.12.0";const qc=new $i.Yd("@firebase/firestore");function IE(){return qc.logLevel}function We(n,...e){if(qc.logLevel<=$i.in.DEBUG){const t=e.map(DE);qc.debug(`Firestore (${yh}): ${n}`,...t)}}function xr(n,...e){if(qc.logLevel<=$i.in.ERROR){const t=e.map(DE);qc.error(`Firestore (${yh}): ${n}`,...t)}}function yl(n,...e){if(qc.logLevel<=$i.in.WARN){const t=e.map(DE);qc.warn(`Firestore (${yh}): ${n}`,...t)}}function DE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${yh}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function Vt(n,e){n||ut()}function nt(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends En.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ur.UNAUTHENTICATED))}shutdown(){}}class lT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SE{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let d=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Yr,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const C=d;e.enqueueRetryable((0,Se.Z)(function*(){yield C.promise,yield c(r.currentUser)}))},y=C=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>y(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?y(C):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Yr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt("string"==typeof r.accessToken),new dg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new Ur(e)}}class WM{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Vt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class qM{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new WM(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dT{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=c=>{null!=c.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.A;return this.A=c.token,We("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?o(c):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt("string"==typeof t.token),this.A=t.token,new ME(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class fT{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=hT(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function qt(n,e){return n<e?-1:n>e?1:0}function vh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function xE(n){return n+"\0"}class ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ar.fromMillis(Date.now())}static fromDate(e){return ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ar(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new ar(0,0))}static max(){return new Ft(new ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ut(),void 0===r?r=e.length-t:r>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===hg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),d=t.get(o);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends hg{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const RE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends hg{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return RE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Be(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Be(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Be(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new Be(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class it{constructor(e){this.path=e}static fromPath(e){return new it(mn.fromString(e))}static fromName(e){return new it(mn.fromString(e).popFirst(5))}static empty(){return new it(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new mn(e.slice()))}}class Ai{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function cv(n){return n.fields.find(e=>2===e.kind)}function ta(n){return n.fields.filter(e=>2!==e.kind)}Ai.UNKNOWN_ID=-1;class vi{constructor(e,t){this.fieldPath=e,this.kind=t}}class Kc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Kc(0,bi.min())}}function kE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ft.fromTimestamp(1e9===r?new ar(t+1,0):new ar(t,r));return new bi(o,it.empty(),e)}function OE(n){return new bi(n.readTime,n.key,-1)}class bi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bi(Ft.min(),it.empty(),-1)}static max(){return new bi(Ft.max(),it.empty(),-1)}}function fg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}const uv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function na(n){return pg.apply(this,arguments)}function pg(){return pg=(0,Se.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==uv)throw n;We("LocalStore","Unexpectedly lost primary lease")}),pg.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&t()},y=>r(y))}),d=!0,c===o&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(o=>o?ue.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const C=y;t(e[C]).next(T=>{d[C]=T,++g,g===c&&r(d)},T=>o(T))}})}static doWhile(e,t){return new ue((r,o)=>{const c=()=>{!0===e()?t().next(()=>{c()},o):r()};c()})}}class bh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Yr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new fo(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=FE(r.target.error);this.P.reject(new fo(e,o))}}static open(e,t,r,o){try{return new bh(t,e.transaction(o,r))}catch(c){throw new fo(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(We("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dv(t)}}class Go{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Go.D((0,En.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return We("SimpleDb","Removing database:",e),wi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,En.hl)())return!1;if(Go.N())return!0;const e=(0,En.z$)(),t=Go.D(e),r=0<t&&t<10,o=Go.k(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Se.Z)(function*(){return t.db||(We("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{o(new fo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const g=d.target.error;o("VersionError"===g.name?new Be(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Be(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new fo(e,g))},c.onupgradeneeded=d=>{We("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,c.transaction,d.oldVersion,t.version).next(()=>{We("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,Se.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{c.db=yield c.F(e);const y=bh.open(c.db,e,d?"readonly":"readwrite",r),C=o(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),ue.reject(T))).toPromise();return C.catch(()=>{}),yield y.v,C}catch(y){const C=y,T="FirebaseError"!==C.name&&g<3;if(We("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),c.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lv{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return wi(this.U.delete())}}class fo extends Be{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ra(n){return"IndexedDbTransactionError"===n.name}class dv{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(We("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(We("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wi(r)}add(e){return We("SimpleDb","ADD",this.store.name,e,e),wi(this.store.add(e))}get(e){return wi(this.store.get(e)).next(t=>(void 0===t&&(t=null),We("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return We("SimpleDb","DELETE",this.store.name,e),wi(this.store.delete(e))}count(){return We("SimpleDb","COUNT",this.store.name),wi(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.H(o,(d,g)=>{c.push(g)}).next(()=>c)}{const o=this.store.getAll(r.range);return new ue((c,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{c(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){We("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(c,d,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new ue((r,o)=>{t.onerror=c=>{const d=FE(c.target.error);o(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}H(e,t){const r=[];return new ue((o,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void o();const y=new lv(g),C=t(g.primaryKey,g.value,y);if(C instanceof ue){const T=C.catch(x=>(y.done(),ue.reject(x)));r.push(T)}y.isDone?o():null===y.G?g.continue():g.continue(y.G)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wi(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=FE(r.target.error);t(o)}})}let NE=!1;function FE(n){const e=Go.D((0,En.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NE||(NE=!0,setTimeout(()=>{throw r},0)),r}}return n}class mT{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;We("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{We("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ra(r)?We("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield na(r)}yield t.nt(6e4)}))}}class _T{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,c=!0;return ue.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return We("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(g=>{o-=g,r.add(d)});c=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,c)).next(g=>(We("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,c)=>{const d=OE(c);fg(d,r)>0&&(r=d)}),new bi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Si{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function LE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Si.at=-1;class fr{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new fr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gg(this.root,e,this.comparator,!1)}getReverseIterator(){return new gg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gg(this.root,e,this.comparator,!0)}}class gg{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??Qr.RED,this.left=o??Qr.EMPTY,this.right=c??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new Qr(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Qr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1,Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Qr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(e){this.comparator=e,this.data=new fr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mg(this.data.getIterator())}getIteratorFrom(e){return new mg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bn(this.comparator);return t.data=e,t}}class mg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yc(n){return n.hasNext()?n.getNext():void 0}class Mi{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new Mi([])}unionWith(e){let t=new Bn(hr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const UE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(n){if(Vt(!!n),"string"==typeof n){let e=0;const t=UE.exec(n);if(Vt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Na(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function hv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fv(n){const e=n.mapValue.fields.__previous_value__;return hv(e)?fv(e):e}function vl(n){const e=Zo(n.mapValue.fields.__local_write_time__.timestampValue);return new ar(e.seconds,e.nanos)}class vT{constructor(e,t,r,o,c,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class Fa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}function _g(n){return null==n}function yg(n){return 0===n&&1/n==-1/0}function pv(n){return"number"==typeof n&&Number.isInteger(n)&&!yg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const La={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vg={nullValue:"NULL_VALUE"};function Qc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hv(n)?4:wg(n)?9007199254740991:10:ut()}function ia(n,e){if(n===e)return!0;const t=Qc(n);if(t!==Qc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vl(n).isEqual(vl(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Zo(r.timestampValue),d=Zo(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Na(n.bytesValue).isEqual(Na(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Jn(r.geoPointValue.latitude)===Jn(o.geoPointValue.latitude)&&Jn(r.geoPointValue.longitude)===Jn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Jn(r.integerValue)===Jn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Jn(r.doubleValue),d=Jn(o.doubleValue);return c===d?yg(c)===yg(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return vh(n.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:return function(r,o){const c=r.mapValue.fields||{},d=o.mapValue.fields||{};if(LE(c)!==LE(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(void 0===d[g]||!ia(c[g],d[g])))return!1;return!0}(n,e);default:return ut()}var o}function bg(n,e){return void 0!==(n.values||[]).find(t=>ia(t,e))}function Jc(n,e){if(n===e)return 0;const t=Qc(n),r=Qc(e);if(t!==r)return qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=Jn(o.integerValue||o.doubleValue),g=Jn(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return bT(n.timestampValue,e.timestampValue);case 4:return bT(vl(n),vl(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(o,c){const d=Na(o),g=Na(c);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),g=c.split("/");for(let y=0;y<d.length&&y<g.length;y++){const C=qt(d[y],g[y]);if(0!==C)return C}return qt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=qt(Jn(o.latitude),Jn(c.latitude));return 0!==d?d:qt(Jn(o.longitude),Jn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const d=o.values||[],g=c.values||[];for(let y=0;y<d.length&&y<g.length;++y){const C=Jc(d[y],g[y]);if(C)return C}return qt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===La.mapValue&&c===La.mapValue)return 0;if(o===La.mapValue)return 1;if(c===La.mapValue)return-1;const d=o.fields||{},g=Object.keys(d),y=c.fields||{},C=Object.keys(y);g.sort(),C.sort();for(let T=0;T<g.length&&T<C.length;++T){const x=qt(g[T],C[T]);if(0!==x)return x;const H=Jc(d[g[T]],y[C[T]]);if(0!==H)return H}return qt(g.length,C.length)}(n.mapValue,e.mapValue);default:throw ut()}}function bT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=Zo(n),r=Zo(e),o=qt(t.seconds,r.seconds);return 0!==o?o:qt(t.nanos,r.nanos)}function wh(n){return gv(n)}function gv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Zo(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Na(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const d of r.values||[])c?c=!1:o+=",",o+=gv(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const g of o)d?d=!1:c+=",",c+=`${g}:${gv(r.fields[g])}`;return c+"}"}(n.mapValue):ut();var e}function _s(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mv(n){return!!n&&"integerValue"in n}function Eh(n){return!!n&&"arrayValue"in n}function _v(n){return!!n&&"nullValue"in n}function Va(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ch(n){return!!n&&"mapValue"in n}function Xc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wg(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function wT(n){return"nullValue"in n?vg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_s(Fa.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function yv(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_s(Fa.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?La:ut()}function Eg(n,e){const t=Jc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Ih(n,e){const t=Jc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(t)}setAll(e){let t=hr.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,o),r={},o=[],t=g.popLast()}d?r[g.lastSegment()]=Xc(d):o.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());Ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Pa(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new hi(Xc(this.value))}}function ET(n){const e=[];return Pa(n.fields,(t,r)=>{const o=new hr([t]);if(Ch(r)){const c=ET(r.mapValue).fields;if(0===c.length)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Mi(e)}class Xn{constructor(e,t,r,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Xn(e,0,Ft.min(),Ft.min(),hi.empty(),0)}static newFoundDocument(e,t,r){return new Xn(e,1,t,Ft.min(),r,0)}static newNoDocument(e,t){return new Xn(e,2,t,Ft.min(),hi.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Ft.min(),hi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class KM{constructor(e,t=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.ht=null}}function vv(n,e=null,t=[],r=[],o=null,c=null,d=null){return new KM(n,e,t,r,o,c,d)}function eu(n){const e=nt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+wh(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),_g(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wh(r)).join(",")),e.ht=t}return e.ht}function Dh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!ST(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!ia(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HE(n.startAt,e.startAt)&&HE(n.endAt,e.endAt)}function Cg(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Th(n,e){return n.filters.filter(t=>t instanceof ri&&t.field.isEqual(e))}function bv(n,e,t){let r=vg,o=!0;for(const c of Th(n,e)){let d=vg,g=!0;switch(c.op){case"<":case"<=":d=wT(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,g=!1;break;case"!=":case"not-in":d=vg}Eg({value:r,inclusive:o},{value:d,inclusive:g})<0&&(r=d,o=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];Eg({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function wv(n,e,t){let r=La,o=!0;for(const c of Th(n,e)){let d=La,g=!0;switch(c.op){case">=":case">":d=yv(c.value),g=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,g=!1;break;case"!=":case"not-in":d=La}Ih({value:r,inclusive:o},{value:d,inclusive:g})>0&&(r=d,o=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];Ih({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class ri extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new IT(e,t,r):"array-contains"===t?new jE(e,r):"in"===t?new Cv(e,r):"not-in"===t?new TT(e,r):"array-contains-any"===t?new AT(e,r):new ri(e,t,r)}static lt(e,t,r){return"in"===t?new BE(e,r):new Ev(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Jc(t,this.value)):null!==t&&Qc(this.value)===Qc(t)&&this.ft(Jc(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class IT extends ri{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.ft(t)}}class BE extends ri{constructor(e,t){super(e,"in",t),this.keys=DT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ev extends ri{constructor(e,t){super(e,"not-in",t),this.keys=DT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class jE extends ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Eh(t)&&bg(t.arrayValue,this.value)}}class Cv extends ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bg(this.value.arrayValue,t)}}class TT extends ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bg(this.value.arrayValue,t)}}class AT extends ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Eh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bg(this.value.arrayValue,r))}}class tu{constructor(e,t){this.position=e,this.inclusive=t}}class Ah{constructor(e,t="asc"){this.field=e,this.dir=t}}function ST(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function $E(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(r=c.field.isKeyField()?it.comparator(it.fromName(d.referenceValue),t.key):Jc(d,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function HE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ia(n.position[t],e.position[t]))return!1;return!0}class Ua{constructor(e,t=null,r=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function MT(n,e,t,r,o,c,d,g){return new Ua(n,e,t,r,o,c,d,g)}function Sh(n){return new Ua(n)}function xT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Iv(n){for(const e of n.filters)if(e.dt())return e.field;return null}function GE(n){return null!==n.collectionGroup}function Mh(n){const e=nt(n);if(null===e._t){e._t=[];const t=Iv(e),r=zE(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Ah(t)),e._t.push(new Ah(hr.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e._t.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ah(hr.keyField(),c))}}}return e._t}function xi(n){const e=nt(n);if(!e.wt)if("F"===e.limitType)e.wt=vv(e.path,e.collectionGroup,Mh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Mh(e))t.push(new Ah(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new tu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new tu(e.startAt.position,e.startAt.inclusive):null;e.wt=vv(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function Dv(n,e,t){return new Ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ig(n,e){return Dh(xi(n),xi(e))&&n.limitType===e.limitType}function RT(n){return`${eu(xi(n))}|lt:${n.limitType}`}function i(n){return`Query(target=${function CT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${wh(r.value)}`;var r}).join(", ")}]`),_g(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>wh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>wh(t)).join(",")),`Target(${e})`}(xi(n))}; limitType=${n.limitType})`}function s(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):it.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,c,d){const g=$E(o,c,d);return o.inclusive?g<=0:g<0}(t.startAt,Mh(t),r)||t.endAt&&!function(o,c,d){const g=$E(o,c,d);return o.inclusive?g>=0:g>0}(t.endAt,Mh(t),r)));var t,r}function a(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function l(n){return(e,t)=>{let r=!1;for(const o of Mh(n)){const c=h(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function h(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(o,c,d){const g=c.data.field(o),y=d.data.field(o);return null!==g&&null!==y?Jc(g,y):ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}function f(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yg(e)?"-0":e}}function _(n){return{integerValue:""+n}}function b(n,e){return pv(e)?_(e):f(n,e)}class E{constructor(){this._=void 0}}function I(n,e,t){return n instanceof q?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof ie?Ae(n,e):n instanceof Ge?tt(n,e):function(r,o){const c=U(r,o),d=At(c)+At(r.yt);return mv(c)&&mv(r.yt)?_(d):f(r.It,d)}(n,e)}function M(n,e,t){return n instanceof ie?Ae(n,e):n instanceof Ge?tt(n,e):t}function U(n,e){return n instanceof at?mv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class q extends E{}class ie extends E{constructor(e){super(),this.elements=e}}function Ae(n,e){const t=Ve(e);for(const r of n.elements)t.some(o=>ia(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ge extends E{constructor(e){super(),this.elements=e}}function tt(n,e){let t=Ve(e);for(const r of n.elements)t=t.filter(o=>!ia(o,r));return{arrayValue:{values:t}}}class at extends E{constructor(e,t){super(),this.It=e,this.yt=t}}function At(n){return Jn(n.integerValue||n.doubleValue)}function Ve(n){return Eh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mt{constructor(e,t){this.field=e,this.transform=t}}class cr{constructor(e,t){this.version=e,this.transformResults=t}}class Rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bl(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wl{}function Dg(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ag(n.key,Rn.none()):new Ba(n.key,n.data,Rn.none());{const t=n.data,r=hi.empty();let o=new Bn(hr.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?r.delete(c):r.set(c,d),o=o.add(c)}return new Wo(n.key,r,new Mi(o.toArray()),Rn.none())}}function Tv(n,e,t){n instanceof Ba?function(r,o,c){const d=r.value.clone(),g=QM(r.fieldTransforms,o,c.transformResults);d.setAll(g),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Wo?function(r,o,c){if(!bl(r.precondition,o))return void o.convertToUnknownDocument(c.version);const d=QM(r.fieldTransforms,o,c.transformResults),g=o.data;g.setAll(YM(r)),g.setAll(d),o.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function nu(n,e,t,r){return n instanceof Ba?function(o,c,d,g){if(!bl(o.precondition,c))return d;const y=o.value.clone(),C=JM(o.fieldTransforms,g,c);return y.setAll(C),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Wo?function(o,c,d,g){if(!bl(o.precondition,c))return d;const y=JM(o.fieldTransforms,g,c),C=c.data;return C.setAll(YM(o)),C.setAll(y),c.convertToFoundDocument(c.version,C).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,bl(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function Av(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=U(r.transform,o||null);null!=c&&(null===t&&(t=hi.empty()),t.set(r.field,c))}return t||null}function Tg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&vh(t,r,(o,c)=>function Mn(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ie&&r instanceof ie||t instanceof Ge&&r instanceof Ge?vh(t.elements,r.elements,ia):t instanceof at&&r instanceof at?ia(t.yt,r.yt):t instanceof q&&r instanceof q);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ba extends wl{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wo extends wl{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function QM(n,e,t){const r=new Map;Vt(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,M(d,g,t[o]))}return r}function JM(n,e,t){const r=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);r.set(o.field,I(c,d,e))}return r}class Ag extends wl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kT extends wl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mk{constructor(e){this.count=e}}var Jr,Cn;function XM(n){switch(n){default:return ut();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function ex(n){if(void 0===n)return xr("GRPC error has no .code"),_e.UNKNOWN;switch(n){case Jr.OK:return _e.OK;case Jr.CANCELLED:return _e.CANCELLED;case Jr.UNKNOWN:return _e.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return _e.INTERNAL;case Jr.UNAVAILABLE:return _e.UNAVAILABLE;case Jr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Jr.NOT_FOUND:return _e.NOT_FOUND;case Jr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Jr.ABORTED:return _e.ABORTED;case Jr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Jr.DATA_LOSS:return _e.DATA_LOSS;default:return ut()}}(Cn=Jr||(Jr={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class El{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}const _k=new fr(it.comparator);function po(){return _k}const tx=new fr(it.comparator);function Sv(...n){let e=tx;for(const t of n)e=e.insert(t.key,t);return e}function nx(n){let e=tx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ja(){return Mv()}function rx(){return Mv()}function Mv(){return new El(n=>n.toString(),(n,e)=>n.isEqual(e))}const yk=new fr(it.comparator),vk=new Bn(it.comparator);function sn(...n){let e=vk;for(const t of n)e=e.add(t);return e}const bk=new Bn(qt);function ZE(){return bk}class xv{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Rv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xv(Ft.min(),o,ZE(),po(),sn())}}class Rv{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rv(r,t,sn(),sn(),sn())}}class WE{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class ix{constructor(e,t){this.targetId=e,this.At=t}}class ox{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class sx{constructor(){this.Rt=0,this.bt=cx(),this.Pt=Rr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=sn(),t=sn(),r=sn();return this.bt.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ut()}}),new Rv(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=cx()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class wk{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=po(),this.qt=ax(),this.Kt=new Bn(qt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const c=o.target;if(Cg(c))if(0===r){const d=new it(c.path);this.jt(t,d,Xn.newNoDocument(d,Ft.min()))}else Vt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((c,d)=>{const g=this.Xt(d);if(g){if(c.current&&Cg(g.target)){const y=new it(g.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Xn.newNoDocument(y,e))}c.Dt&&(t.set(d,c.xt()),c.Nt())}});let r=sn();this.qt.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const C=this.Xt(y);return!C||2===C.purpose||(g=!1,!1)}),g&&(r=r.add(c))}),this.Ut.forEach((c,d)=>d.setReadTime(e));const o=new xv(e,t,this.Kt,this.Ut,r);return this.Ut=po(),this.qt=ax(),this.Kt=new Bn(qt),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new sx,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Bn(qt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new sx),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ax(){return new fr(it.comparator)}function cx(){return new fr(it.comparator)}const Ek={asc:"ASCENDING",desc:"DESCENDING"},Ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ik{constructor(e,t){this.databaseId=e,this.gt=t}}function kv(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ux(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Dk(n,e){return kv(n,e.toTimestamp())}function fi(n){return Vt(!!n),Ft.fromTimestamp(function(e){const t=Zo(e);return new ar(t.seconds,t.nanos)}(n))}function OT(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lx(n){const e=mn.fromString(n);return Vt(yx(e)),e}function Ov(n,e){return OT(n.databaseId,e.path)}function $a(n,e){const t=lx(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(hx(t))}function PT(n,e){return OT(n.databaseId,e)}function dx(n){const e=lx(n);return 4===e.length?mn.emptyPath():hx(e)}function Pv(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hx(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fx(n,e,t){return{name:Ov(n,e),fields:t.value.mapValue.fields}}function px(n,e,t){const r=$a(n,e.name),o=fi(e.updateTime),c=new hi({mapValue:{fields:e.fields}}),d=Xn.newFoundDocument(r,o,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Nv(n,e){let t;if(e instanceof Ba)t={update:fx(n,e.key,e.value)};else if(e instanceof Ag)t={delete:Ov(n,e.key)};else if(e instanceof Wo)t={update:fx(n,e.key,e.data),updateMask:Pk(e.fieldMask)};else{if(!(e instanceof kT))return ut();t={verify:Ov(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof q)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ie)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ge)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof at)return{fieldPath:c.field.canonicalString(),increment:d.yt};throw ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Dk(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ut()),t;var o}function NT(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Rn.updateTime(fi(o.updateTime)):void 0!==o.exists?Rn.exists(o.exists):Rn.none():Rn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,d){let g=null;"setToServerValue"in d?(Vt("REQUEST_TIME"===d.setToServerValue),g=new q):"appendMissingElements"in d?g=new ie(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new Ge(d.removeAllFromArray.values||[]):"increment"in d?g=new at(c,d.increment):ut();const y=hr.fromServerFormat(d.fieldPath);return new Mt(y,g)}(n,o)):[];var o;if(e.update){const o=$a(n,e.update.name),c=new hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Mi((e.updateMask.fieldPaths||[]).map(C=>hr.fromServerFormat(C)));return new Wo(o,c,d,t,r)}return new Ba(o,c,t,r)}if(e.delete){const o=$a(n,e.delete);return new Ag(o,t)}if(e.verify){const o=$a(n,e.verify);return new kT(o,t)}return ut()}function gx(n,e){return{documents:[PT(n,e.path)]}}function FT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=PT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0===y.length)return;const C=y.map(T=>function(x){if("=="===x.op){if(Va(x.value))return{unaryFilter:{field:Sg(x.field),op:"IS_NAN"}};if(_v(x.value))return{unaryFilter:{field:Sg(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(Va(x.value))return{unaryFilter:{field:Sg(x.field),op:"IS_NOT_NAN"}};if(_v(x.value))return{unaryFilter:{field:Sg(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sg(x.field),op:Rk(x.op),value:x.value}}}(T));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(y){if(0!==y.length)return y.map(C=>{return{field:Sg((T=C).field),direction:xk(T.dir)};var T})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=(C=e.limit,n.gt||_g(C)?C:{value:C});var C,g,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function mx(n){let e=dx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Vt(1===r);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];t.where&&(c=_x(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new Ah(Mg((x=T).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let g=null;t.limit&&(g=function(T){let x;return x="object"==typeof T?T.value:T,_g(x)?null:x}(t.limit));let y=null;var T;t.startAt&&(y=new tu((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new tu(T.values||[],!T.before)}(t.endAt)),MT(e,o,d,c,g,"F",y,C)}function _x(n){return n?void 0!==n.unaryFilter?[Ok(n)]:void 0!==n.fieldFilter?[kk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>_x(e)).reduce((e,t)=>e.concat(t)):ut():[]}function xk(n){return Ek[n]}function Rk(n){return Ck[n]}function Sg(n){return{fieldPath:n.canonicalString()}}function Mg(n){return hr.fromServerFormat(n.fieldPath)}function kk(n){return ri.create(Mg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function Ok(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Mg(n.unaryFilter.field);return ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Mg(n.unaryFilter.field);return ri.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mg(n.unaryFilter.field);return ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mg(n.unaryFilter.field);return ri.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function Pk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vx(e)),e=Nk(n.get(t),e);return vx(e)}function Nk(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function vx(n){return n+"\x01\x01"}function Ha(n){const e=n.length;if(Vt(e>=2),2===e)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const d=n.indexOf("\x01",c);switch((d<0||d>t)&&ut(),n.charAt(d+1)){case"\x01":const g=n.substring(c,d);let y;0===o.length?y=g:(o+=g,y=o,o=""),r.push(y);break;case"\x10":o+=n.substring(c,d),o+="\0";break;case"\x11":o+=n.substring(c,d+1);break;default:ut()}c=d+2}return new mn(r)}const bx=["userId","batchId"];function qE(n,e){return[n,qi(e)]}function wx(n,e,t){return[n,qi(e),t]}const Fk={},Lk=["prefixPath","collectionGroup","readTime","documentId"],Vk=["prefixPath","collectionGroup","documentId"],Uk=["collectionGroup","readTime","prefixPath","documentId"],Bk=["canonicalId","targetId"],jk=["targetId","path"],$k=["path","targetId"],Hk=["collectionId","parent"],zk=["indexId","uid"],Gk=["uid","sequenceNumber"],Zk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wk=["indexId","uid","orderedDocumentKey"],qk=["userId","collectionPath","documentId"],Kk=["userId","collectionPath","largestBatchId"],Yk=["userId","collectionGroup","largestBatchId"],Ex=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qk=[...Ex,"documentOverlays"],Cx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ix=Cx,Jk=[...Ix,"indexConfiguration","indexState","indexEntries"];class LT extends PE{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function pi(n,e){const t=nt(n);return Go.M(t.ie,e)}class VT{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Tv(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=nu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=nu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rx();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=t.has(o.key)?null:g;const y=Dg(d,g);null!==y&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ft.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&vh(this.mutations,e.mutations,(t,r)=>Tg(t,r))&&vh(this.baseMutations,e.baseMutations,(t,r)=>Tg(t,r))}}class UT{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Vt(e.mutations.length===r.length);let o=yk;const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new UT(e,t,r,o)}}class BT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cl{constructor(e,t,r,o,c=Ft.min(),d=Ft.min(),g=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new Cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Dx{constructor(e){this.re=e}}function Tx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:KE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ov(o=n.re,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:kv(o,c.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:xh(e.version)};else{if(!e.isUnknownDocument())return ut();r.unknownDocument={path:t.path.toArray(),version:xh(e.version)}}var o,c;return r}function KE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function xh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Rh(n){const e=new ar(n.seconds,n.nanoseconds);return Ft.fromTimestamp(e)}function kh(n,e){const t=(e.baseMutations||[]).map(c=>NT(n.re,c));for(let c=0;c<e.mutations.length-1;++c){const d=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(d.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>NT(n.re,c)),o=ar.fromMillis(e.localWriteTimeMs);return new VT(e.batchId,o,t,r)}function Fv(n){const e=Rh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Rh(n.lastLimboFreeSnapshotVersion):Ft.min();let r;var o;return void 0!==n.query.documents?(Vt(1===(o=n.query).documents.length),r=xi(Sh(dx(o.documents[0])))):r=xi(mx(n.query)),new Cl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function Ax(n,e){const t=xh(e.snapshotVersion),r=xh(e.lastLimboFreeSnapshotVersion);let o;o=Cg(e.target)?gx(n.re,e.target):FT(n.re,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:eu(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function jT(n){const e=mx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Dv(e,e.limit,"L"):e}function $T(n,e){return new BT(e.largestBatchId,NT(n.re,e.overlayMutation))}function Sx(n,e){const t=e.path.lastSegment();return[n,qi(e.path.popLast()),t]}function Mx(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:xh(r.readTime),documentKey:qi(r.documentKey.path),largestBatchId:r.largestBatchId}}class eO{getBundleMetadata(e,t){return xx(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Rh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return xx(e).put({bundleId:(r=t).id,createTime:xh(fi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Rx(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:jT(o.bundledQuery),readTime:Rh(o.readTime)};var o})}saveNamedQuery(e,t){return Rx(e).put({name:(r=t).name,readTime:xh(fi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function xx(n){return pi(n,"bundles")}function Rx(n){return pi(n,"namedQueries")}class YE{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new YE(e,t.uid||"")}getOverlay(e,t){return Lv(e).get(Sx(this.userId,t)).next(r=>r?$T(this.It,r):null)}getOverlays(e,t){const r=ja();return ue.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((c,d)=>{const g=new BT(t,d);o.push(this.ue(e,g))}),ue.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(qi(d.getCollectionPath())));const c=[];return o.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(Lv(e).Y("collectionPathOverlayIndex",g))}),ue.waitFor(c)}getOverlaysForCollection(e,t,r){const o=ja(),c=qi(t),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Lv(e).W("collectionPathOverlayIndex",d).next(g=>{for(const y of g){const C=$T(this.It,y);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const c=ja();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lv(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,C,T)=>{const x=$T(this.It,C);c.size()<o||x.largestBatchId===d?(c.set(x.getKey(),x),d=x.largestBatchId):T.done()}).next(()=>c)}ue(e,t){return Lv(e).put(function(r,o,c){const[d,g,y]=Sx(o,c.mutation.key);return{userId:o,collectionPath:g,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Nv(r.re,c.mutation)}}(this.It,this.userId,t))}}function Lv(n){return pi(n,"documentOverlays")}class Oh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),yg(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Na(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?wg(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ut()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),it.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function tO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function kx(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const c=tO(255&t[o]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}Oh.Te=new Oh;class nO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=kx(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=kx(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class rO{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class iO{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Vv{constructor(){this.Be=new nO,this.Le=new rO(this.Be),this.Ue=new iO(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ph{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ph(this.indexId,this.documentKey,this.arrayValue,r)}}function Nh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ox(n.arrayValue,e.arrayValue),0!==t?t:(t=Ox(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function Ox(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class oO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=cv(e);if(void 0!==t&&!this.ze(t))return!1;const r=ta(e);let o=0,c=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const d=r[o];if(!this.He(this.je,d)||!this.Je(this.Ge[c++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(c>=this.Ge.length||!this.Je(this.Ge[c++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sO{constructor(){this.Ye=new HT}addToCollectionParentIndex(e,t){return this.Ye.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(bi.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class HT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Bn(mn.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bn(mn.comparator)).toArray()}}const QE=new Uint8Array(0);class aO{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new HT,this.Ze=new El(r=>eu(r),(r,o)=>Dh(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const c={collectionId:r,parent:qi(o)};return Px(e).put(c)}return ue.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[xE(t),""],!1,!0);return Px(e).W(o).next(c=>{for(const d of c){if(d.collectionId!==t)break;r.push(Ha(d.parent))}return r})}addFieldIndex(e,t){const r=JE(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete o.indexId;const c=r.add(o);if(t.indexState){const d=Bv(e);return c.next(g=>{d.put(Mx(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=JE(e),o=Bv(e),c=Uv(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Uv(e);let o=!0;const c=new Map;return ue.forEach(this.tn(t),d=>this.en(e,d).next(g=>{o&&(o=!!g),c.set(d,g)})).next(()=>{if(o){let d=sn();const g=[];return ue.forEach(c,(y,C)=>{var T;We("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Qt=>`${Qt.fieldPath}:${Qt.kind}`).join(",")}`} to execute ${eu(t)}`);const x=function(Qt,Jt){const Kt=cv(Jt);if(void 0===Kt)return null;for(const un of Th(Qt,Kt.fieldPath))switch(un.op){case"array-contains-any":return un.value.arrayValue.values||[];case"array-contains":return[un.value]}return null}(C,y),H=function(Qt,Jt){const Kt=new Map;for(const un of ta(Jt))for(const ii of Th(Qt,un.fieldPath))switch(ii.op){case"==":case"in":Kt.set(un.fieldPath.canonicalString(),ii.value);break;case"not-in":case"!=":return Kt.set(un.fieldPath.canonicalString(),ii.value),Array.from(Kt.values())}return null}(C,y),Y=function(Qt,Jt){const Kt=[];let un=!0;for(const ii of ta(Jt)){const ab=0===ii.kind?bv(Qt,ii.fieldPath,Qt.startAt):wv(Qt,ii.fieldPath,Qt.startAt);Kt.push(ab.value),un&&(un=ab.inclusive)}return new tu(Kt,un)}(C,y),se=function(Qt,Jt){const Kt=[];let un=!0;for(const ii of ta(Jt)){const ab=0===ii.kind?wv(Qt,ii.fieldPath,Qt.endAt):bv(Qt,ii.fieldPath,Qt.endAt);Kt.push(ab.value),un&&(un=ab.inclusive)}return new tu(Kt,un)}(C,y),Ne=this.nn(y,C,Y),Ue=this.nn(y,C,se),St=this.sn(y,C,H),xt=this.rn(y.indexId,x,Ne,Y.inclusive,Ue,se.inclusive,St);return ue.forEach(xt,Qt=>r.J(Qt,t.limit).next(Jt=>{Jt.forEach(Kt=>{const un=it.fromSegments(Kt.documentKey);d.has(un)||(d=d.add(un),g.push(un))})}))}).next(()=>g)}return ue.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,c,d,g){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),C=y/(null!=t?t.length:1),T=[];for(let x=0;x<y;++x){const H=t?this.on(t[x/C]):QE,Y=this.un(e,H,r[x%C],o),se=this.cn(e,H,c[x%C],d),Ne=g.map(Ue=>this.un(e,H,Ue,!0));T.push(...this.createRange(Y,se,Ne))}return T}un(e,t,r,o){const c=new Ph(e,it.empty(),t,r);return o?c:c.Ke()}cn(e,t,r,o){const c=new Ph(e,it.empty(),t,r);return o?c.Ke():c}en(e,t){const r=new oO(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let d=null;for(const g of c)r.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return ue.forEach(this.tn(t),o=>this.en(e,o).next(c=>{c?0!==r&&c.fields.length<function(d){let g=new Bn(hr.comparator),y=!1;for(const C of d.filters){const T=C;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?y=!0:g=g.add(T.field))}for(const C of d.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(y?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Vv;for(const o of ta(e)){const c=t.data.field(o.fieldPath);if(null==c)return null;const d=r.qe(o.kind);Oh.Te.ce(c,d)}return r.$e()}on(e){const t=new Vv;return Oh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Vv;return Oh.Te.ce(_s(this.databaseId,t),r.qe(function(o){const c=ta(o);return 0===c.length?0:c[c.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new Vv);let c=0;for(const d of ta(e)){const g=r[c++];for(const y of o)if(this.ln(t,d.fieldPath)&&Eh(g))o=this.fn(o,d,g);else{const C=y.qe(d.kind);Oh.Te.ce(g,C)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],c=[];for(const d of r.arrayValue.values||[])for(const g of o){const y=new Vv;y.seed(g.$e()),Oh.Te.ce(d,y.qe(t.kind)),c.push(y)}return c}ln(e,t){return!!e.filters.find(r=>r instanceof ri&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=JE(e),o=Bv(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const d=[];return ue.forEach(c,g=>o.get([g.indexId,this.uid]).next(y=>{d.push(function(C,T){const x=T?new Kc(T.sequenceNumber,new bi(Rh(T.readTime),new it(Ha(T.documentKey)),T.largestBatchId)):Kc.empty(),H=C.fields.map(([Y,se])=>new vi(hr.fromServerFormat(Y),se));return new Ai(C.indexId,C.collectionGroup,H,x)}(g,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const c=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:qt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=JE(e),c=Bv(e);return this._n(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>ue.forEach(g,y=>c.put(Mx(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(o,c)=>{const d=r.get(o.collectionGroup);return(d?ue.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),ue.forEach(g,y=>this.wn(e,o,y).next(C=>{const T=this.mn(c,y);return C.isEqual(T)?ue.resolve():this.gn(e,c,y,C,T)}))))})}yn(e,t,r,o){return Uv(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return Uv(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=Uv(e);let c=new Bn(Nh);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,g)=>{c=c.add(new Ph(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>c)}mn(e,t){let r=new Bn(Nh);const o=this.an(t,e);if(null==o)return r;const c=cv(t);if(null!=c){const d=e.data.field(c.fieldPath);if(Eh(d))for(const g of d.arrayValue.values||[])r=r.add(new Ph(t.indexId,e.key,this.on(g),o))}else r=r.add(new Ph(t.indexId,e.key,QE,o));return r}gn(e,t,r,o,c){We("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,y,C,T,x){const H=g.getIterator(),Y=y.getIterator();let se=Yc(H),Ne=Yc(Y);for(;se||Ne;){let Ue=!1,St=!1;if(se&&Ne){const xt=C(se,Ne);xt<0?St=!0:xt>0&&(Ue=!0)}else null!=se?St=!0:Ue=!0;Ue?(T(Ne),Ne=Yc(Y)):St?(x(se),se=Yc(H)):(se=Yc(H),Ne=Yc(Y))}}(o,c,Nh,g=>{d.push(this.yn(e,t,r,g))},g=>{d.push(this.pn(e,t,r,g))}),ue.waitFor(d)}_n(e){let t=1;return Bv(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>Nh(d,g)).filter((d,g,y)=>!g||0!==Nh(d,y[g-1]));const o=[];o.push(e);for(const d of r){const g=Nh(d,e),y=Nh(d,t);if(0===g)o[0]=e.Ke();else if(g>0&&y<0)o.push(d),o.push(d.Ke());else if(y>0)break}o.push(t);const c=[];for(let d=0;d<o.length;d+=2)c.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,QE,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,QE,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Nx)}getMinOffset(e,t){return ue.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||ut())).next(Nx)}}function Px(n){return pi(n,"collectionParents")}function Uv(n){return pi(n,"indexEntries")}function JE(n){return pi(n,"indexConfiguration")}function Bv(n){return pi(n,"indexState")}function Nx(n){Vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;fg(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new bi(e.readTime,e.documentKey,t)}const Fx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class go{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new go(e,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Lx(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),c=[],d=IDBKeyRange.only(t.batchId);let g=0;const y=r.Z({range:d},(T,x,H)=>(g++,H.delete()));c.push(y.next(()=>{Vt(1===g)}));const C=[];for(const T of t.mutations){const x=wx(e,T.key.path,t.batchId);c.push(o.delete(x)),C.push(T.key)}return ue.waitFor(c).next(()=>C)}function XE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}go.DEFAULT_COLLECTION_PERCENTILE=10,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,go.DEFAULT=new go(41943040,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),go.DISABLED=new go(-1,0,0);class eC{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){Vt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new eC(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).Z({index:"userMutationsIndex",range:r},(o,c,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=xg(e),d=Il(e);return d.add({}).next(g=>{Vt("number"==typeof g);const y=new VT(g,t,r,o),C=function(H,Y,se){const Ne=se.baseMutations.map(St=>Nv(H.re,St)),Ue=se.mutations.map(St=>Nv(H.re,St));return{userId:Y,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Ne,mutations:Ue}}(this.It,this.userId,y),T=[];let x=new Bn((H,Y)=>qt(H.canonicalString(),Y.canonicalString()));for(const H of o){const Y=wx(this.userId,H.key.path,g);x=x.add(H.key.path.popLast()),T.push(d.put(C)),T.push(c.put(Y,Fk))}return x.forEach(H=>{T.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.In[g]=y.keys()}),ue.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Il(e).get(t).next(r=>r?(Vt(r.userId===this.userId),kh(this.It,r)):null)}Tn(e,t){return this.In[t]?ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Il(e).Z({index:"userMutationsIndex",range:o},(d,g,y)=>{g.userId===this.userId&&(Vt(g.batchId>=r),c=kh(this.It,g)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Il(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).W("userMutationsIndex",t).next(r=>r.map(o=>kh(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=qE(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return xg(e).Z({range:o},(d,g,y)=>{const[C,T,x]=d,H=Ha(T);if(C===this.userId&&t.path.isEqual(H))return Il(e).get(x).next(Y=>{if(!Y)throw ut();Vt(Y.userId===this.userId),c.push(kh(this.It,Y))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(qt);const o=[];return t.forEach(c=>{const d=qE(this.userId,c.path),g=IDBKeyRange.lowerBound(d),y=xg(e).Z({range:g},(C,T,x)=>{const[H,Y,se]=C,Ne=Ha(Y);H===this.userId&&c.path.isEqual(Ne)?r=r.add(se):x.done()});o.push(y)}),ue.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=qE(this.userId,r),d=IDBKeyRange.lowerBound(c);let g=new Bn(qt);return xg(e).Z({range:d},(y,C,T)=>{const[x,H,Y]=y,se=Ha(H);x===this.userId&&r.isPrefixOf(se)?se.length===o&&(g=g.add(Y)):T.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],o=[];return t.forEach(c=>{o.push(Il(e).get(c).next(d=>{if(null===d)throw ut();Vt(d.userId===this.userId),r.push(kh(this.It,d))}))}),ue.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Lx(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ue.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return xg(e).Z({range:r},(c,d,g)=>{if(c[0]===this.userId){const y=Ha(c[1]);o.push(y)}else g.done()}).next(()=>{Vt(0===o.length)})})}containsKey(e,t){return Vx(e,this.userId,t)}Rn(e){return Ux(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Vx(n,e,t){const r=qE(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return xg(n).Z({range:c,X:!0},(g,y,C)=>{const[T,x,H]=g;T===e&&x===o&&(d=!0),C.done()}).next(()=>d)}function Il(n){return pi(n,"mutations")}function xg(n){return pi(n,"documentMutations")}function Ux(n){return pi(n,"mutationQueues")}class Fh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fh(0)}static vn(){return new Fh(-1)}}class cO{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Fh(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ft.fromTimestamp(new ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rg(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Vt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return Rg(e).Z((d,g)=>{const y=Fv(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(o++,c.push(this.removeTargetData(e,y)))}).next(()=>ue.waitFor(c)).next(()=>o)}forEachTarget(e,t){return Rg(e).Z((r,o)=>{const c=Fv(o);t(c)})}Vn(e){return Bx(e).get("targetGlobalKey").next(t=>(Vt(null!==t),t))}Sn(e,t){return Bx(e).put("targetGlobalKey",t)}Dn(e,t){return Rg(e).put(Ax(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=eu(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Rg(e).Z({range:o,index:"queryTargetsIndex"},(d,g,y)=>{const C=Fv(g);Dh(t,C.target)&&(c=C,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=Dl(e);return t.forEach(d=>{const g=qi(d.path);o.push(c.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,d))}),ue.waitFor(o)}removeMatchingKeys(e,t,r){const o=Dl(e);return ue.forEach(t,c=>{const d=qi(c.path);return ue.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Dl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Dl(e);let c=sn();return o.Z({range:r,X:!0},(d,g,y)=>{const C=Ha(d[1]),T=new it(C);c=c.add(T)}).next(()=>c)}containsKey(e,t){const r=qi(t.path),o=IDBKeyRange.bound([r],[xE(r)],!1,!0);let c=0;return Dl(e).Z({index:"documentTargetsIndex",X:!0,range:o},([d,g],y,C)=>{0!==d&&(c++,C.done())}).next(()=>c>0)}se(e,t){return Rg(e).get(t).next(r=>r?Fv(r):null)}}function Rg(n){return pi(n,"targets")}function Bx(n){return pi(n,"targetGlobal")}function Dl(n){return pi(n,"targetDocuments")}function jx([n,e],[t,r]){const o=qt(n,t);return 0===o?qt(e,r):o}class uO{constructor(e){this.xn=e,this.buffer=new Bn(jx),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;We("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ra(r)?We("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield na(r)}yield t.Fn(3e5)}))}}class dO{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(Si.at);const r=new uO(t);return this.$n.forEachTarget(e,o=>r.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.On(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Fx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fx):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,c,d,g,y,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(r=x,g=Date.now(),this.removeTargets(e,r,t))).next(x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(C=Date.now(),IE()<=$i.in.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${o} in `+(g-d)+`ms\n\tRemoved ${c} targets in `+(y-g)+`ms\n\tRemoved ${x} documents in `+(C-y)+`ms\nTotal Duration: ${C-T}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x})))}}class hO{constructor(e,t){this.db=e,this.garbageCollector=new dO(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return tC(e,r)}removeReference(e,t,r){return tC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return tC(e,t)}Gn(e,t){return function(r,o){let c=!1;return Ux(r).tt(d=>Vx(r,d,o).next(g=>(g&&(c=!0),ue.resolve(!g)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Kn(e,(d,g)=>{if(g<=t){const y=this.Gn(e,d).next(C=>{if(!C)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ft.min()),Dl(e).delete([0,qi(d.path)])))});o.push(y)}}).next(()=>ue.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return tC(e,t)}Kn(e,t){const r=Dl(e);let o,c=Si.at;return r.Z({index:"documentTargetsIndex"},([d,g],{path:y,sequenceNumber:C})=>{0===d?(c!==Si.at&&t(new it(Ha(o)),c),c=C,o=y):c=Si.at}).next(()=>{c!==Si.at&&t(new it(Ha(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tC(n,e){return Dl(n).put((r=n.currentSequenceNumber,{targetId:0,path:qi(e.path),sequenceNumber:r}));var r}class $x{constructor(){this.changes=new El(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fO{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lh(e).put(r)}removeEntry(e,t,r){return Lh(e).delete(function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],KE(c),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Xn.newInvalidDocument(t);return Lh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jv(t))},(o,c)=>{r=this.jn(t,c)}).next(()=>r)}Wn(e,t){let r={size:0,document:Xn.newInvalidDocument(t)};return Lh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jv(t))},(o,c)=>{r={document:this.jn(t,c),size:XE(c)}}).next(()=>r)}getEntries(e,t){let r=po();return this.zn(e,t,(o,c)=>{const d=this.jn(o,c);r=r.insert(o,d)}).next(()=>r)}Hn(e,t){let r=po(),o=new fr(it.comparator);return this.zn(e,t,(c,d)=>{const g=this.jn(c,d);r=r.insert(c,g),o=o.insert(c,XE(d))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return ue.resolve();let o=new Bn(Zx);t.forEach(y=>o=o.add(y));const c=IDBKeyRange.bound(jv(o.first()),jv(o.last())),d=o.getIterator();let g=d.getNext();return Lh(e).Z({index:"documentKeyIndex",range:c},(y,C,T)=>{const x=it.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&Zx(g,x)<0;)r(g,null),g=d.getNext();g&&g.isEqual(x)&&(r(g,C),g=d.hasNext()?d.getNext():null),g?T.j(jv(g)):T.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),KE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lh(e).W(IDBKeyRange.bound(o,c,!0)).next(d=>{let g=po();for(const y of d){const C=this.jn(it.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(C.key,C)}return g})}getAllFromCollectionGroup(e,t,r,o){let c=po();const d=Gx(t,r),g=Gx(t,bi.max());return Lh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(y,C,T)=>{const x=this.jn(it.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);c=c.insert(x.key,x),c.size===o&&T.done()}).next(()=>c)}newChangeBuffer(e){return new pO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zx(e).get("remoteDocumentGlobalKey").next(t=>(Vt(!!t),t))}Qn(e,t){return zx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function Xk(n,e){let t;if(e.document)t=px(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=it.fromSegments(e.noDocument.path),o=Rh(e.noDocument.readTime);t=Xn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const r=it.fromSegments(e.unknownDocument.path),o=Rh(e.unknownDocument.version);t=Xn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new ar(r[0],r[1]);return Ft.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Ft.min()))return r}return Xn.newInvalidDocument(e)}}function Hx(n){return new fO(n)}class pO extends $x{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new El(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Bn((c,d)=>qt(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const g=this.Xn.get(c);if(t.push(this.Yn.removeEntry(e,c,g.readTime)),d.isValidDocument()){const y=Tx(this.Yn.It,d);o=o.add(c.path.popLast()),r+=XE(y)-g.size,t.push(this.Yn.addEntry(e,c,y))}else if(r-=g.size,this.trackRemovals){const y=Tx(this.Yn.It,d.convertToNoDocument(Ft.min()));t.push(this.Yn.addEntry(e,c,y))}}),o.forEach(c=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Yn.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((c,d)=>{this.Xn.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function zx(n){return pi(n,"remoteDocumentGlobal")}function Lh(n){return pi(n,"remoteDocumentsV14")}function jv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gx(n,e){const t=e.documentKey.path.toArray();return[n,KE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Zx(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(o=qt(t[c],r[c]),o)return o;return o=qt(t.length,r.length),o||(o=qt(t[t.length-2],r[r.length-2]),o||qt(t[t.length-1],r[r.length-1]))}class gO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Wx{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&nu(r.mutation,o,Mi.empty(),ar.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,sn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=sn()){const o=ja();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let d=Sv();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ja();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,sn()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,o){let c=po();const d=Mv(),g=Mv();return t.forEach((y,C)=>{const T=r.get(C.key);o.has(C.key)&&(void 0===T||T.mutation instanceof Wo)?c=c.insert(C.key,C):void 0!==T&&(d.set(C.key,T.mutation.getFieldMask()),nu(T.mutation,C,T.mutation.getFieldMask(),ar.now()))}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((C,T)=>d.set(C,T)),t.forEach((C,T)=>{var x;return g.set(C,new gO(T,null!==(x=d.get(C))&&void 0!==x?x:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Mv();let o=new fr((d,g)=>d-g),c=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(y=>{const C=t.get(y);if(null===C)return;let T=r.get(y)||Mi.empty();T=g.applyToLocalView(C,T),r.set(y,T);const x=(o.get(g.batchId)||sn()).add(y);o=o.insert(g.batchId,x)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),C=y.key,T=y.value,x=rx();T.forEach(H=>{if(!c.has(H)){const Y=Dg(t.get(H),r.get(H));null!==Y&&x.set(H,Y),c=c.add(H)}}),d.push(this.documentOverlayCache.saveOverlays(e,C,x))}return ue.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return it.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):GE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):ue.resolve(ja());let g=-1,y=c;return d.next(C=>ue.forEach(C,(T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(T)?ue.resolve():this.getBaseDocument(e,T,x).next(H=>{y=y.insert(T,H)}))).next(()=>this.populateOverlays(e,C,c)).next(()=>this.computeViews(e,y,C,sn())).next(T=>({batchId:g,changes:nx(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next(r=>{let o=Sv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let c=Sv();return this.indexManager.getCollectionParents(e,o).next(d=>ue.forEach(d,g=>{const y=(C=t,T=g.child(o),new Ua(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(C=>{C.forEach((T,x)=>{c=c.insert(T,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(c=>(o=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(c=>{c.forEach((g,y)=>{const C=y.getKey();null===o.get(C)&&(o=o.insert(C,Xn.newInvalidDocument(C)))});let d=Sv();return o.forEach((g,y)=>{const C=c.get(g);void 0!==C&&nu(C.mutation,y,Mi.empty(),ar.now()),s(t,y)&&(d=d.insert(g,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ue.resolve(Xn.newInvalidDocument(t))}}class mO{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:fi(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:jT(r.bundledQuery),readTime:fi(r.readTime)}),ue.resolve();var r}}class _O{constructor(){this.overlays=new fr(it.comparator),this.es=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ja();return ue.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.ue(e,t,c)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const o=ja(),c=t.length+1,d=new it(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,C=y.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new fr((C,T)=>C-T);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let T=c.get(C.largestBatchId);null===T&&(T=ja(),c=c.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const g=ja(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((C,T)=>g.set(C,T)),!(g.size()>=o)););return ue.resolve(g)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new BT(t,r));let c=this.es.get(t);void 0===c&&(c=sn(),this.es.set(t,c)),this.es.set(t,c.add(r.key))}}class zT{constructor(){this.ns=new Bn(gi.ss),this.rs=new Bn(gi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new gi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new gi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new it(new mn([])),r=new gi(t,e),o=new gi(t,e+1),c=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),c.push(d.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new it(new mn([])),r=new gi(t,e),o=new gi(t,e+1);let c=sn();return this.rs.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new gi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return it.comparator(e.key,t.key)||qt(e._s,t._s)}static os(e,t){return qt(e._s,t._s)||it.comparator(e.key,t.key)}}class yO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Bn(gi.ss)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const c=this.ws;this.ws++;const d=new VT(c,t,r,o);this.mutationQueue.push(d);for(const g of o)this.gs=this.gs.add(new gi(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ue.resolve(d)}lookupMutationBatch(e,t){return ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),c=o<0?0:o;return ue.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gi(t,0),o=new gi(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([r,o],d=>{const g=this.ys(d._s);c.push(g)}),ue.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(qt);return t.forEach(o=>{const c=new gi(o,0),d=new gi(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,d],g=>{r=r.add(g._s)})}),ue.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;it.isDocumentKey(c)||(c=c.child(""));const d=new gi(new it(c),0);let g=new Bn(qt);return this.gs.forEachWhile(y=>{const C=y.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(g=g.add(y._s)),!0)},d),ue.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Vt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ue.forEach(t.mutations,o=>{const c=new gi(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new gi(t,0),o=this.gs.firstAfterOrEqual(r);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vO{constructor(e){this.Es=e,this.docs=new fr(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=po();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Xn.newInvalidDocument(o))}),ue.resolve(r)}getAllFromCollection(e,t,r){let o=po();const c=new it(t.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||fg(OE(y),r)<=0||(o=o.insert(y.key,y.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ut()}As(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new bO(this)}getSize(e){return ue.resolve(this.size)}}class bO extends $x{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class wO{constructor(e){this.persistence=e,this.Rs=new El(t=>eu(t),Dh),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zT,this.targetCount=0,this.vs=Fh.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Fh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Dn(t),ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),ue.waitFor(c).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ue.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.Ps.containsKey(t))}}class qx{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Si(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new wO(this),this.indexManager=new sO,this.remoteDocumentCache=new vO(r=>this.referenceDelegate.xs(r)),this.It=new Dx(t),this.Ns=new mO(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _O,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new yO(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){We("MemoryPersistence","Starting transaction:",e);const o=new EO(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(c=>this.referenceDelegate.Os(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ms(e,t){return ue.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class EO extends PE{constructor(e){super(),this.currentSequenceNumber=e}}class nC{constructor(e){this.persistence=e,this.Fs=new zT,this.$s=null}static Bs(e){return new nC(e)}get Ls(){if(this.$s)return this.$s;throw ut()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.Ls.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,r=>{const o=it.fromPath(r);return this.Us(e,o).next(c=>{c||t.removeEntry(o,Ft.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ue.or([()=>ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class CO{constructor(e){this.It=e}$(e,t,r,o){const c=new bh("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bx,{unique:!0}),g.createObjectStore("documentMutations"),Kx(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=ue.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),Kx(e)),d=d.next(()=>function(g){const y=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",C)}(c))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(g,y){return y.store("mutations").W().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bx,{unique:!0});const T=y.store("mutations"),x=C.map(H=>T.put(H));return ue.waitFor(x)})}(e,c))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(c))),r<6&&o>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),r<7&&o>=7&&(d=d.next(()=>this.Gs(c))),r<8&&o>=8&&(d=d.next(()=>this.Qs(e,c))),r<9&&o>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.js(c))),r<11&&o>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:qk});y.createIndex("collectionPathOverlayIndex",Kk,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Yk,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:Lk});y.createIndex("documentKeyIndex",Vk),y.createIndex("collectionGroupIndex",Uk)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.zs(e,c))),r<15&&o>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:zk}).createIndex("sequenceNumberIndex",Gk,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:Zk}).createIndex("documentKeyIndex",Wk,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=XE(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>ue.forEach(o,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(g=>ue.forEach(g,y=>{Vt(y.userId===c.userId);const C=kh(this.It,y);return Lx(e,c.userId,C).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return r.Z((d,g)=>{const y=new mn(d),C=[0,qi(y)];c.push(t.get(C).next(T=>T?ue.resolve():t.put({targetId:0,path:qi(y),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ue.waitFor(c))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Hk});const r=t.store("collectionParents"),o=new HT,c=d=>{if(o.add(d)){const g=d.lastSegment(),y=d.popLast();return r.put({collectionId:g,parent:qi(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const y=new mn(d);return c(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,y],C)=>{const T=Ha(g);return c(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const c=Fv(o),d=Ax(this.It,c);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((c,d)=>{const g=t.store("remoteDocumentsV14"),y=(C=d,C.document?new it(mn.fromString(C.document.name).popFirst(5)):C.noDocument?it.fromSegments(C.noDocument.path):C.unknownDocument?it.fromSegments(C.unknownDocument.path):ut()).path.toArray();var C;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(g.put(T))}).next(()=>ue.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=Hx(this.It),c=new qx(nC.Bs,this.It.re);return r.W().next(d=>{const g=new Map;return d.forEach(y=>{var C;let T=null!==(C=g.get(y.userId))&&void 0!==C?C:sn();kh(this.It,y).keys().forEach(x=>T=T.add(x)),g.set(y.userId,T)}),ue.forEach(g,(y,C)=>{const T=new Ur(C),x=YE.oe(this.It,T),H=c.getIndexManager(T),Y=eC.oe(T,this.It,H,c.referenceDelegate);return new Wx(o,Y,x,H).recalculateAndSaveOverlaysForDocumentKeys(new LT(t,Si.at),y).next()})})}}function Kx(n){n.createObjectStore("targetDocuments",{keyPath:jk}).createIndex("documentTargetsIndex",$k,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bk,{unique:!0}),n.createObjectStore("targetGlobal")}const GT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ZT{constructor(e,t,r,o,c,d,g,y,C,T,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=c,this.window=d,this.document=g,this.Js=C,this.Ys=T,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=H=>Promise.resolve(),!ZT.C())throw new Be(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hO(this,o),this.ii=t+"main",this.It=new Dx(y),this.ri=new Go(this.ii,this.Xs,new CO(this.It)),this.Cs=new cO(this.referenceDelegate,this.It),this.remoteDocumentCache=Hx(this.It),this.Ns=new eO,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(_e.FAILED_PRECONDITION,GT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Si(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Se.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ra(e))return We("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return We("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return $v(e).get("owner").next(t=>ue.resolve(this.mi(t)))}gi(e){return rC(e).delete(this.clientId)}yi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=pi(r,"clientMetadata");return o.W().next(c=>{const d=e.Ii(c,18e5),g=c.filter(y=>-1===d.indexOf(y));return ue.forEach(g,y=>o.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ue.resolve(!0):$v(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Be(_e.FAILED_PRECONDITION,GT);return!1}}return!(!this.networkEnabled||!this.inForeground)||rC(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&We("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new LT(t,Si.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rC(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return eC.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new aO(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return YE.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){We("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",c=15===(d=this.Xs)?Jk:14===d?Ix:13===d?Cx:12===d?Qk:11===d?Ex:void ut();var d;let g;return this.ri.runTransaction(e,o,c,y=>(g=new LT(y,this.Ss?this.Ss.next():Si.at),"readwrite-primary"===t?this.fi(g).next(C=>!!C||this.di(g)).next(C=>{if(!C)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(_e.FAILED_PRECONDITION,uv);return r(g)}).next(C=>this.wi(g).next(()=>C)):this.Vi(g).next(()=>r(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(e){return $v(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(_e.FAILED_PRECONDITION,GT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $v(e).put("owner",t)}static C(){return Go.C()}_i(e){const t=$v(e);return t.get("owner").next(r=>this.mi(r)?(We("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,En.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return We("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $v(n){return pi(n,"owner")}function rC(n){return pi(n,"clientMetadata")}function WT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qT{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=sn(),o=sn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qT(e,t.fromCache,r,o)}}class Yx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(c=>c||this.Oi(e,t,o,r)).next(c=>c||this.Mi(e,t))}ki(e,t){if(xT(t))return ue.resolve(null);let r=xi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Dv(t,null,"F"),r=xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=sn(...c);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const C=this.Fi(t,g);return this.$i(t,C,d,y.readTime)?this.ki(e,Dv(t,null,"F")):this.Bi(e,C,t,y)}))})))}Oi(e,t,r,o){return xT(t)||o.isEqual(Ft.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(c=>{const d=this.Fi(t,c);return this.$i(t,d,r,o)?this.Mi(e,t):(IE()<=$i.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),i(t)),this.Bi(e,d,t,kE(o,-1)))})}Fi(e,t){let r=new Bn(l(e));return t.forEach((o,c)=>{s(e,c)&&(r=r.add(c))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Mi(e,t){return IE()<=$i.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",i(t)),this.Ni.getDocumentsMatchingQuery(e,t,bi.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class IO{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new fr(qt),this.qi=new El(c=>eu(c),Dh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Qx(n,e,t,r){return new IO(n,e,t,r)}function Jx(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,Se.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],g=[];let y=sn();for(const C of o){d.push(C.batchId);for(const T of C.mutations)y=y.add(T.key)}for(const C of c){g.push(C.batchId);for(const T of C.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(C=>({ji:C,removedBatchIds:d,addedBatchIds:g}))})})}),KT.apply(this,arguments)}function DO(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,y,C){const T=y.batch,x=T.keys();let H=ue.resolve();return x.forEach(Y=>{H=H.next(()=>C.getEntry(g,Y)).next(se=>{const Ne=y.docVersions.get(Y);Vt(null!==Ne),se.version.compareTo(Ne)<0&&(T.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),C.addEntry(se)))})}),H.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=sn();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Xx(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function TO(n,e){const t=nt(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const g=[];e.targetChanges.forEach((T,x)=>{const H=o.get(x);if(!H)return;g.push(t.Cs.removeMatchingKeys(c,T.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(c,T.addedDocuments,x)));let Y=H.withSequenceNumber(c.currentSequenceNumber);var se,Ne,Ue;e.targetMismatches.has(x)?Y=Y.withResumeToken(Rr.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):T.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(T.resumeToken,r)),o=o.insert(x,Y),Ne=Y,Ue=T,(0===(se=H).resumeToken.approximateByteSize()||Ne.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(c,Y))});let y=po(),C=sn();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(e1(c,d,e.documentUpdates).next(T=>{y=T.Wi,C=T.zi})),!r.isEqual(Ft.min())){const T=t.Cs.getLastRemoteSnapshotVersion(c).next(x=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(T)}return ue.waitFor(g).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,y,C)).next(()=>y)}).then(c=>(t.Ui=o,c))}function e1(n,e,t){let r=sn(),o=sn();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let d=po();return t.forEach((g,y)=>{const C=c.get(g);y.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Ft.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!C.isValidDocument()||y.version.compareTo(C.version)>0||0===y.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):We("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",y.version)}),{Wi:d,zi:o}})}function AO(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kg(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(c=>c?(o=c,ue.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new Cl(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Og(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,Se.Z)(function*(n,e,t){const r=nt(n),o=r.Ui.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ra(d))throw d;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),YT.apply(this,arguments)}function iC(n,e,t){const r=nt(n);let o=Ft.min(),c=sn();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,y,C){const T=nt(g),x=T.qi.get(C);return void 0!==x?ue.resolve(T.Ui.get(x)):T.Cs.getTargetData(y,C)}(r,d,xi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:Ft.min(),t?c:sn())).next(g=>(r1(r,a(e),g),{documents:g,Hi:c})))}function t1(n,e){const t=nt(n),r=nt(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.se(c,e).next(d=>d?d.target:null))}function n1(n,e){const t=nt(n),r=t.Ki.get(e)||Ft.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,kE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(r1(t,e,o),o))}function r1(n,e,t){let r=n.Ki.get(e)||Ft.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Ki.set(e,r)}function QT(){return QT=(0,Se.Z)(function*(n,e,t,r){const o=nt(n);let c=sn(),d=po();for(const C of t){const T=e.Ji(C.metadata.name);C.document&&(c=c.add(T));const x=e.Yi(C);x.setReadTime(e.Xi(C.metadata.readTime)),d=d.insert(T,x)}const g=o.Gi.newChangeBuffer({trackRemovals:!0}),y=yield kg(o,(C=r,xi(Sh(mn.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>e1(C,g,d).next(T=>(g.apply(C),T)).next(T=>o.Cs.removeMatchingKeysForTargetId(C,y.targetId).next(()=>o.Cs.addMatchingKeys(C,c,y.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(C,T.Wi,T.zi)).next(()=>T.Wi)))}),QT.apply(this,arguments)}function MO(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,Se.Z)(function*(n,e,t=sn()){const r=yield kg(n,xi(jT(e.bundledQuery))),o=nt(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const d=fi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(c,e);const g=r.withResumeToken(Rr.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(g.targetId,g),o.Cs.updateTargetData(c,g).next(()=>o.Cs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.Cs.addMatchingKeys(c,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(c,e))})}),JT.apply(this,arguments)}function o1(n,e){return`firestore_clients_${n}_${e}`}function s1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function XT(n,e){return`firestore_targets_${n}_${e}`}class oC{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let c,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(c=new Be(o.error.code,o.error.message))),d?new oC(e,t,o.state,c):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Be(r.error.code,r.error.message))),c?new Hv(e,r.state,o):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=ZE();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=pv(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return o?new sC(e,c):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eA(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tA{constructor(){this.activeTargetIds=ZE()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nA{constructor(e,t,r,o,c){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new fr(qt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=o1(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new tA),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const c=e.getItem(o1(e.persistenceKey,o));if(c){const d=sC.Zi(o,c);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(XT(this.persistenceKey,e));if(r){const o=Hv.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(XT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return We("SharedClientState","READ",e,t),t}setItem(e,t){We("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){We("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(We("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(c){let d=Si.at;if(null!=c)try{const g=JSON.parse(c);Vt("number"==typeof g),d=g}catch(g){xr("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);o!==Si.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Or(r.newValue);yield Promise.all(o.map(c=>t.syncEngine.Mr(c)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new oC(this.currentUser,e,t,r),c=s1(this.persistenceKey,this.currentUser,e);this.setItem(c,o.tr())}Er(e){const t=s1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=XT(this.persistenceKey,e),c=new Hv(e,t,r);this.setItem(o,c.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return sC.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return oC.Zi(new Ur(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return Hv.Zi(o,t)}yr(e){return eA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);We("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),c=this.Ir(r),d=[],g=[];return c.forEach(y=>{o.has(y)||d.push(y)}),o.forEach(y=>{c.has(y)||g.push(y)}),this.syncEngine.Br(d,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ZE();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class a1{constructor(){this.Lr=new tA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new tA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xO{qr(e){}shutdown(){}}class c1{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const RO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kO{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class OO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,o,c){const d=this.ho(e,t);We("RestConnection","Sending: ",d,r);const g={};return this.lo(g,o,c),this.fo(e,d,g,r).then(y=>(We("RestConnection","Received: ",y),y),y=>{throw yl("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,o,c,d){return this.ao(e,t,r,o,c)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}ho(e,t){return`${this.oo}/v1/${t}:${RO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((c,d)=>{const g=new cT;g.setWithCredentials(!0),g.listenOnce(wE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ov.NO_ERROR:const C=g.getResponseJson();We("Connection","XHR received:",JSON.stringify(C)),c(C);break;case ov.TIMEOUT:We("Connection",'RPC "'+e+'" timed out'),d(new Be(_e.DEADLINE_EXCEEDED,"Request time out"));break;case ov.HTTP_ERROR:const T=g.getStatus();if(We("Connection",'RPC "'+e+'" failed with status:',T,"response text:",g.getResponseText()),T>0){const x=g.getResponseJson().error;if(x&&x.status&&x.message){const H=function(Y){const se=Y.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(se)>=0?se:_e.UNKNOWN}(x.status);d(new Be(H,x.message))}else d(new Be(_e.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Be(_e.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{We("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(o);g.send(t,"POST",y,r,15)})}wo(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aT(),d=bE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new CE({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=o.join("");We("Connection","Creating WebChannel: "+y,g);const C=c.createWebChannel(y,g);let T=!1,x=!1;const H=new kO({Hr:se=>{x?We("Connection","Not sending because WebChannel is closed:",se):(T||(We("Connection","Opening WebChannel transport."),C.open(),T=!0),We("Connection","WebChannel sending:",se),C.send(se))},Jr:()=>C.close()}),Y=(se,Ne,Ue)=>{se.listen(Ne,St=>{try{Ue(St)}catch(xt){setTimeout(()=>{throw xt},0)}})};return Y(C,lg.EventType.OPEN,()=>{x||We("Connection","WebChannel transport opened.")}),Y(C,lg.EventType.CLOSE,()=>{x||(x=!0,We("Connection","WebChannel transport closed"),H.io())}),Y(C,lg.EventType.ERROR,se=>{x||(x=!0,yl("Connection","WebChannel transport errored:",se),H.io(new Be(_e.UNAVAILABLE,"The operation could not be completed")))}),Y(C,lg.EventType.MESSAGE,se=>{var Ne;if(!x){const Ue=se.data[0];Vt(!!Ue);const St=Ue,xt=St.error||(null===(Ne=St[0])||void 0===Ne?void 0:Ne.error);if(xt){We("Connection","WebChannel received error:",xt);const Qt=xt.status;let Jt=function(un){const ii=Jr[un];if(void 0!==ii)return ex(ii)}(Qt),Kt=xt.message;void 0===Jt&&(Jt=_e.INTERNAL,Kt="Unknown error status: "+Qt+" with message "+xt.message),x=!0,H.io(new Be(Jt,Kt)),C.close()}else We("Connection","WebChannel received:",Ue),H.ro(Ue)}}),Y(d,EE.STAT_EVENT,se=>{se.stat===sv.PROXY?We("Connection","Detected buffering proxy"):se.stat===sv.NOPROXY&&We("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.so()},0),H}}function u1(){return typeof window<"u"?window:null}function aC(){return typeof document<"u"?document:null}function zv(n){return new Ik(n,!0)}class rA{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=o,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&We("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class l1{constructor(e,t,r,o,c,d,g,y){this.Hs=e,this.vo=r,this.Vo=o,this.So=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new rA(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Se.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Se.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Do===t&&this.Qo(r,o)},r=>{e(()=>{const o=new Be(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(o)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.jo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Se.Z)(function*(){e.state=0,e.start()}))}jo(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PO extends l1{constructor(e,t,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.It=c}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Ak(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ut(),o=e.targetChange.targetIds||[],c=function(y,C){return y.gt?(Vt(void 0===C||"string"==typeof C),Rr.fromBase64String(C||"")):(Vt(void 0===C||C instanceof Uint8Array),Rr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const C=void 0===y.code?_e.UNKNOWN:ex(y.code);return new Be(C,y.message||"")}(d);t=new ox(r,o,c,g||null)}else if("documentChange"in e){const r=e.documentChange,o=$a(n,r.document.name),c=fi(r.document.updateTime),d=new hi({mapValue:{fields:r.document.fields}}),g=Xn.newFoundDocument(o,c,d);t=new WE(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=$a(n,r.document),c=r.readTime?fi(r.readTime):Ft.min(),d=Xn.newNoDocument(o,c);t=new WE([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=$a(n,r.document);t=new WE([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ut();{const r=e.filter,c=new mk(r.count||0);t=new ix(r.targetId,c)}}var y;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return Ft.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ft.min():c.readTime?fi(c.readTime):Ft.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Pv(this.It),t.addTarget=function(o,c){let d;const g=c.target;return d=Cg(g)?{documents:gx(o,g)}:{query:FT(o,g)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?d.resumeToken=ux(o,c.resumeToken):c.snapshotVersion.compareTo(Ft.min())>0&&(d.readTime=kv(o,c.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function Mk(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Pv(this.It),t.removeTarget=e,this.Lo(t)}}class NO extends l1{constructor(e,t,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.It=c,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Sk(n,e){return n&&n.length>0?(Vt(void 0!==e),n.map(t=>function(r,o){let c=fi(r.updateTime?r.updateTime:o);return c.isEqual(Ft.min())&&(c=fi(o)),new cr(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.tu(r,t)}return Vt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Pv(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Nv(this.It,r))};this.Lo(t)}}class FO extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=o,this.su=!1}iu(){if(this.su)throw new Be(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.So.ao(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(_e.UNKNOWN,o.toString())})}_o(e,t,r,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.So._o(e,t,r,c,d,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Be(_e.UNKNOWN,c.toString())})}terminate(){this.su=!0}}class VO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(xr(t),this.uu=!1):We("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class UO{constructor(e,t,r,o,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=c,this.gu.qr(g=>{r.enqueueAndForget((0,Se.Z)(function*(){var y;ru(d)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Se.Z)(function*(C){const T=nt(C);T.wu.add(4),yield Pg(T),T.yu.set("Unknown"),T.wu.delete(4),yield Gv(T)}),function(C){return y.apply(this,arguments)})(d))}))}),this.yu=new VO(r,o)}}function Gv(n){return oA.apply(this,arguments)}function oA(){return oA=(0,Se.Z)(function*(n){if(ru(n))for(const e of n.mu)yield e(!0)}),oA.apply(this,arguments)}function Pg(n){return sA.apply(this,arguments)}function sA(){return sA=(0,Se.Z)(function*(n){for(const e of n.mu)yield e(!1)}),sA.apply(this,arguments)}function cC(n,e){const t=nt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),uA(t)?cA(t):Fg(t).Oo()&&aA(t,e))}function Zv(n,e){const t=nt(n),r=Fg(t);t._u.delete(e),r.Oo()&&d1(t,e),0===t._u.size&&(r.Oo()?r.$o():ru(t)&&t.yu.set("Unknown"))}function aA(n,e){n.pu.Mt(e.targetId),Fg(n).Ho(e)}function d1(n,e){n.pu.Mt(e),Fg(n).Jo(e)}function cA(n){n.pu=new wk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),Fg(n).start(),n.yu.cu()}function uA(n){return ru(n)&&!Fg(n).ko()&&n._u.size>0}function ru(n){return 0===nt(n).wu.size}function h1(n){n.pu=void 0}function BO(n){return lA.apply(this,arguments)}function lA(){return lA=(0,Se.Z)(function*(n){n._u.forEach((e,t)=>{aA(n,e)})}),lA.apply(this,arguments)}function jO(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,Se.Z)(function*(n,e){h1(n),uA(n)?(n.yu.lu(e),cA(n)):n.yu.set("Unknown")}),dA.apply(this,arguments)}function $O(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=(0,Se.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof ox&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(o,c){const d=c.cause;for(const g of c.targetIds)o._u.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o._u.delete(g),o.pu.removeTarget(g))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uC(n,r)}else if(e instanceof WE?n.pu.Gt(e):e instanceof ix?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Ft.min()))try{const r=yield Xx(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const d=o.pu.te(c);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const C=o._u.get(y);C&&o._u.set(y,C.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach(g=>{const y=o._u.get(g);if(!y)return;o._u.set(g,y.withResumeToken(Rr.EMPTY_BYTE_STRING,y.snapshotVersion)),d1(o,g);const C=new Cl(y.target,g,1,y.sequenceNumber);aA(o,C)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){We("RemoteStore","Failed to raise snapshot:",r),yield uC(n,r)}var r}),hA.apply(this,arguments)}function uC(n,e,t){return fA.apply(this,arguments)}function fA(){return fA=(0,Se.Z)(function*(n,e,t){if(!ra(e))throw e;n.wu.add(1),yield Pg(n),n.yu.set("Offline"),t||(t=()=>Xx(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Gv(n)}))}),fA.apply(this,arguments)}function f1(n,e){return e().catch(t=>uC(n,t,e))}function Ng(n){return pA.apply(this,arguments)}function pA(){return pA=(0,Se.Z)(function*(n){const e=nt(n),t=Tl(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;HO(e);)try{const o=yield AO(e.localStore,r);if(null===o){0===e.du.length&&t.$o();break}r=o.batchId,zO(e,o)}catch(o){yield uC(e,o)}p1(e)&&g1(e)}),pA.apply(this,arguments)}function HO(n){return ru(n)&&n.du.length<10}function zO(n,e){n.du.push(e);const t=Tl(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function p1(n){return ru(n)&&!Tl(n).ko()&&n.du.length>0}function g1(n){Tl(n).start()}function GO(n){return gA.apply(this,arguments)}function gA(){return gA=(0,Se.Z)(function*(n){Tl(n).nu()}),gA.apply(this,arguments)}function ZO(n){return mA.apply(this,arguments)}function mA(){return mA=(0,Se.Z)(function*(n){const e=Tl(n);for(const t of n.du)e.Zo(t.mutations)}),mA.apply(this,arguments)}function WO(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,Se.Z)(function*(n,e,t){const r=n.du.shift(),o=UT.from(r,e,t);yield f1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Ng(n)}),_A.apply(this,arguments)}function qO(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,Se.Z)(function*(n,e){var t;e&&Tl(n).Xo&&(yield(t=(0,Se.Z)(function*(r,o){if(XM(c=o.code)&&c!==_e.ABORTED){const d=r.du.shift();Tl(r).Fo(),yield f1(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Ng(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),p1(n)&&g1(n)}),yA.apply(this,arguments)}function m1(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,Se.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=ru(t);t.wu.add(3),yield Pg(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Gv(t)}),vA.apply(this,arguments)}function bA(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,Se.Z)(function*(n,e){const t=nt(n);e?(t.wu.delete(2),yield Gv(t)):e||(t.wu.add(2),yield Pg(t),t.yu.set("Unknown"))}),wA.apply(this,arguments)}function Fg(n){return n.Iu||(n.Iu=function(e,t,r){const o=nt(e);return o.iu(),new PO(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:BO.bind(null,n),Zr:jO.bind(null,n),zo:$O.bind(null,n)}),n.mu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Iu.Fo(),uA(n)?cA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),h1(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Tl(n){return n.Tu||(n.Tu=function(e,t,r){const o=nt(e);return o.iu(),new NO(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:GO.bind(null,n),Zr:qO.bind(null,n),eu:ZO.bind(null,n),tu:WO.bind(null,n)}),n.mu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Tu.Fo(),yield Ng(n)):(yield n.Tu.stop(),n.du.length>0&&(We("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class EA{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,c){const d=Date.now()+r,g=new EA(e,t,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(n,e){if(xr("AsyncQueue",`${e}: ${n}`),ra(n))return new Be(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class Vg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=Sv(),this.sortedSet=new fr(this.comparator)}static emptySet(e){return new Vg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Vg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _1{constructor(){this.Eu=new fr(it.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ut():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ug{constructor(e,t,r,o,c,d,g,y,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,o,c){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new Ug(e,t,Vg.emptySet(t),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class KO{constructor(){this.Ru=void 0,this.listeners=[]}}class YO{constructor(){this.queries=new El(e=>RT(e),Ig),this.onlineState="Unknown",this.bu=new Set}}function CA(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,Se.Z)(function*(n,e){const t=nt(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new KO),o)try{c.Ru=yield t.onListen(r)}catch(d){const g=Lg(d,`Initialization of query '${i(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,c),c.listeners.push(e),e.Pu(t.onlineState),c.Ru&&e.vu(c.Ru)&&AA(t)}),IA.apply(this,arguments)}function DA(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Se.Z)(function*(n,e){const t=nt(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),TA.apply(this,arguments)}function QO(n,e){const t=nt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const g of d.listeners)g.vu(o)&&(r=!0);d.Ru=o}}r&&AA(t)}function JO(n,e,t){const r=nt(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function AA(n){n.bu.forEach(e=>{e.next()})}class SA{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ug(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ug.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class XO{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class y1{constructor(e){this.It=e}Ji(e){return $a(this.It,e)}Yi(e){return e.metadata.exists?px(this.It,e.document,!1):Xn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return fi(e)}}class eP{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=v1(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=mn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new y1(this.It);for(const o of e)if(o.metadata.queries){const c=r.Ji(o.metadata.name);for(const d of o.metadata.queries){const g=(t.get(d)||sn()).add(c);t.set(d,g)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function SO(n,e,t,r){return QT.apply(this,arguments)}(e.localStore,new y1(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const o of e.queries)yield MO(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function v1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class b1{constructor(e){this.key=e}}class w1{constructor(e){this.key=e}}class E1{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sn(),this.mutatedKeys=sn(),this.Gu=l(e),this.Qu=new Vg(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new _1,o=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,x)=>{const H=o.get(T),Y=s(this.query,x)?x:null,se=!!H&&this.mutatedKeys.has(H.key),Ne=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let Ue=!1;H&&Y?H.data.isEqual(Y.data)?se!==Ne&&(r.track({type:3,doc:Y}),Ue=!0):this.Hu(H,Y)||(r.track({type:2,doc:Y}),Ue=!0,(y&&this.Gu(Y,y)>0||C&&this.Gu(Y,C)<0)&&(g=!0)):!H&&Y?(r.track({type:0,doc:Y}),Ue=!0):H&&!Y&&(r.track({type:1,doc:H}),Ue=!0,(y||C)&&(g=!0)),Ue&&(Y?(d=d.add(Y),c=Ne?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{Qu:d,zu:r,$i:g,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Au();c.sort((C,T)=>function(x,H){const Y=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return Y(x)-Y(H)}(C.type,T.type)||this.Gu(C.doc,T.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,y=g!==this.qu;return this.qu=g,0!==c.length||y?{snapshot:new Ug(this.query,e.Qu,o,c,e.mutatedKeys,0===g,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new _1,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new w1(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new b1(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=sn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ug.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class tP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nP{constructor(e){this.key=e,this.nc=!1}}class rP{constructor(e,t,r,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new El(g=>RT(g),Ig),this.rc=new Map,this.oc=new Set,this.uc=new fr(it.comparator),this.cc=new Map,this.ac=new zT,this.hc={},this.lc=new Map,this.fc=Fh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function iP(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,Se.Z)(function*(n,e){const t=JA(n);let r,o;const c=t.ic.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.ec();else{const d=yield kg(t.localStore,xi(e));t.isPrimaryClient&&cC(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield xA(t,e,r,"current"===g,d.resumeToken)}return o}),MA.apply(this,arguments)}function xA(n,e,t,r,o){return RA.apply(this,arguments)}function RA(){return RA=(0,Se.Z)(function*(n,e,t,r,o){n._c=(x,H,Y)=>{return(se=(0,Se.Z)(function*(Ne,Ue,St,xt){let Qt=Ue.view.Wu(St);Qt.$i&&(Qt=yield iC(Ne.localStore,Ue.query,!1).then(({documents:un})=>Ue.view.Wu(un,Qt)));const Jt=xt&&xt.targetChanges.get(Ue.targetId),Kt=Ue.view.applyChanges(Qt,Ne.isPrimaryClient,Jt);return jA(Ne,Ue.targetId,Kt.Xu),Kt.snapshot}),function(Ne,Ue,St,xt){return se.apply(this,arguments)})(n,x,H,Y);var se};const c=yield iC(n.localStore,e,!0),d=new E1(e,c.Hi),g=d.Wu(c.documents),y=Rv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),C=d.applyChanges(g,n.isPrimaryClient,y);jA(n,t,C.Xu);const T=new tP(e,t,d);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),C.snapshot}),RA.apply(this,arguments)}function oP(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,Se.Z)(function*(n,e){const t=nt(n),r=t.ic.get(e),o=t.rc.get(r.targetId);if(o.length>1)return t.rc.set(r.targetId,o.filter(c=>!Ig(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Og(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zv(t.remoteStore,r.targetId),Bg(t,r.targetId)}).catch(na))):(Bg(t,r.targetId),yield Og(t.localStore,r.targetId,!0))}),kA.apply(this,arguments)}function OA(){return OA=(0,Se.Z)(function*(n,e,t){const r=XA(n);try{const o=yield function(c,d){const g=nt(c),y=ar.now(),C=d.reduce((H,Y)=>H.add(Y.key),sn());let T,x;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Y=po(),se=sn();return g.Gi.getEntries(H,C).next(Ne=>{Y=Ne,Y.forEach((Ue,St)=>{St.isValidDocument()||(se=se.add(Ue))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,Y)).next(Ne=>{T=Ne;const Ue=[];for(const St of d){const xt=Av(St,T.get(St.key).overlayedDocument);null!=xt&&Ue.push(new Wo(St.key,xt,ET(xt.value.mapValue),Rn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,Ue,d)}).next(Ne=>{x=Ne;const Ue=Ne.applyToLocalDocumentSet(T,se);return g.documentOverlayCache.saveOverlays(H,Ne.batchId,Ue)})}).then(()=>({batchId:x.batchId,changes:nx(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,d,g){let y=c.hc[c.currentUser.toKey()];y||(y=new fr(qt)),y=y.insert(d,g),c.hc[c.currentUser.toKey()]=y}(r,o.batchId,t),yield iu(r,o.changes),yield Ng(r.remoteStore)}catch(o){const c=Lg(o,"Failed to persist write");t.reject(c)}}),OA.apply(this,arguments)}function C1(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,Se.Z)(function*(n,e){const t=nt(n);try{const r=yield TO(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.cc.get(c);d&&(Vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?Vt(d.nc):o.removedDocuments.size>0&&(Vt(d.nc),d.nc=!1))}),yield iu(t,r,e)}catch(r){yield na(r)}}),PA.apply(this,arguments)}function I1(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ic.forEach((c,d)=>{const g=d.view.Pu(e);g.snapshot&&o.push(g.snapshot)}),function(c,d){const g=nt(c);g.onlineState=d;let y=!1;g.queries.forEach((C,T)=>{for(const x of T.listeners)x.Pu(d)&&(y=!0)}),y&&AA(g)}(r.eventManager,e),o.length&&r.sc.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aP(n,e,t){return NA.apply(this,arguments)}function NA(){return NA=(0,Se.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.cc.get(e),c=o&&o.key;if(c){let d=new fr(it.comparator);d=d.insert(c,Xn.newNoDocument(c,Ft.min()));const g=sn().add(c),y=new xv(Ft.min(),new Map,new Bn(qt),d,g);yield C1(r,y),r.uc=r.uc.remove(c),r.cc.delete(e),$A(r)}else yield Og(r.localStore,e,!1).then(()=>Bg(r,e,t)).catch(na)}),NA.apply(this,arguments)}function cP(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Se.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const o=yield DO(t.localStore,e);BA(t,r,null),UA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield iu(t,o)}catch(o){yield na(o)}}),FA.apply(this,arguments)}function uP(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,Se.Z)(function*(n,e,t){const r=nt(n);try{const o=yield function(c,d){const g=nt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let C;return g.mutationQueue.lookupMutationBatch(y,d).next(T=>(Vt(null!==T),C=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,C,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,C)).next(()=>g.localDocuments.getDocuments(y,C))})}(r.localStore,e);BA(r,e,t),UA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield iu(r,o)}catch(o){yield na(o)}}),LA.apply(this,arguments)}function VA(){return VA=(0,Se.Z)(function*(n,e){const t=nt(n);ru(t.remoteStore)||We("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const d=nt(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.lc.get(r)||[];o.push(e),t.lc.set(r,o)}catch(r){const o=Lg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),VA.apply(this,arguments)}function UA(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function BA(n,e,t){const r=nt(n);let o=r.hc[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.hc[r.currentUser.toKey()]=o}}function Bg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||D1(n,r)})}function D1(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Zv(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),$A(n))}function jA(n,e,t){for(const r of t)r instanceof b1?(n.ac.addReference(r.key,e),dP(n,r)):r instanceof w1?(We("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||D1(n,r.key)):ut()}function dP(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(We("SyncEngine","New document in limbo: "+t),n.oc.add(r),$A(n))}function $A(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new it(mn.fromString(e)),r=n.fc.next();n.cc.set(r,new nP(t)),n.uc=n.uc.insert(t,r),cC(n.remoteStore,new Cl(xi(Sh(t.path)),r,2,Si.at))}}function iu(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,Se.Z)(function*(n,e,t){const r=nt(n),o=[],c=[],d=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,y)=>{d.push(r._c(y,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,C?.fromCache?"not-current":"current"),C){o.push(C);const T=qT.Ci(y.targetId,C);c.push(T)}}))}),yield Promise.all(d),r.sc.zo(o),yield(g=(0,Se.Z)(function*(y,C){const T=nt(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ue.forEach(C,H=>ue.forEach(H.Si,Y=>T.persistence.referenceDelegate.addReference(x,H.targetId,Y)).next(()=>ue.forEach(H.Di,Y=>T.persistence.referenceDelegate.removeReference(x,H.targetId,Y)))))}catch(x){if(!ra(x))throw x;We("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const H=x.targetId;if(!x.fromCache){const Y=T.Ui.get(H),Ne=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);T.Ui=T.Ui.insert(H,Ne)}}}),function(y,C){return g.apply(this,arguments)})(r.localStore,c))}),HA.apply(this,arguments)}function hP(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Se.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=yield Jx(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new Be(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield iu(t,r.ji)}var o}),zA.apply(this,arguments)}function fP(n,e){const t=nt(n),r=t.cc.get(e);if(r&&r.nc)return sn().add(r.key);{let o=sn();const c=t.rc.get(e);if(!c)return o;for(const d of c){const g=t.ic.get(d);o=o.unionWith(g.view.ju)}return o}}function pP(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Se.Z)(function*(n,e){const t=nt(n),r=yield iC(t.localStore,e.query,!0),o=e.view.tc(r);return t.isPrimaryClient&&jA(t,e.targetId,o.Xu),o}),GA.apply(this,arguments)}function gP(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Se.Z)(function*(n,e){const t=nt(n);return n1(t.localStore,e).then(r=>iu(t,r))}),ZA.apply(this,arguments)}function mP(n,e,t,r){return WA.apply(this,arguments)}function WA(){return WA=(0,Se.Z)(function*(n,e,t,r){const o=nt(n),c=yield function(d,g){const y=nt(d),C=nt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Tn(T,g).next(x=>x?y.localDocuments.getDocuments(T,x):ue.resolve(null)))}(o.localStore,e);var g;null!==c?("pending"===t?yield Ng(o.remoteStore):"acknowledged"===t||"rejected"===t?(BA(o,e,r||null),UA(o,e),g=e,nt(nt(o.localStore).mutationQueue).An(g)):ut(),yield iu(o,c)):We("SyncEngine","Cannot apply mutation batch with id: "+e)}),WA.apply(this,arguments)}function qA(){return qA=(0,Se.Z)(function*(n,e){const t=nt(n);if(JA(t),XA(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield T1(t,r.toArray());t.dc=!0,yield bA(t.remoteStore,!0);for(const c of o)cC(t.remoteStore,c)}else if(!1===e&&!1!==t.dc){const r=[];let o=Promise.resolve();t.rc.forEach((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Bg(t,d),Og(t.localStore,d,!0))),Zv(t.remoteStore,d)}),yield o,yield T1(t,r),function(c){const d=nt(c);d.cc.forEach((g,y)=>{Zv(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new fr(it.comparator)}(t),t.dc=!1,yield bA(t.remoteStore,!1)}}),qA.apply(this,arguments)}function T1(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,Se.Z)(function*(n,e,t){const r=nt(n),o=[],c=[];for(const d of e){let g;const y=r.rc.get(d);if(y&&0!==y.length){g=yield kg(r.localStore,xi(y[0]));for(const C of y){const T=r.ic.get(C),x=yield pP(r,T);x.snapshot&&c.push(x.snapshot)}}else{const C=yield t1(r.localStore,d);g=yield kg(r.localStore,C),yield xA(r,A1(C),d,!1,g.resumeToken)}o.push(g)}return r.sc.zo(c),o}),KA.apply(this,arguments)}function A1(n){return MT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function yP(n){const e=nt(n);return nt(nt(e.localStore).persistence).vi()}function vP(n,e,t,r){return YA.apply(this,arguments)}function YA(){return YA=(0,Se.Z)(function*(n,e,t,r){const o=nt(n);if(o.dc)return void We("SyncEngine","Ignoring unexpected query state notification.");const c=o.rc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=yield n1(o.localStore,a(c[0])),g=xv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Rr.EMPTY_BYTE_STRING);yield iu(o,d,g);break}case"rejected":yield Og(o.localStore,e,!0),Bg(o,e,r);break;default:ut()}}),YA.apply(this,arguments)}function bP(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,Se.Z)(function*(n,e,t){const r=JA(n);if(r.dc){for(const o of e){if(r.rc.has(o)){We("SyncEngine","Adding an already active target "+o);continue}const c=yield t1(r.localStore,o),d=yield kg(r.localStore,c);yield xA(r,A1(c),d.targetId,!1,d.resumeToken),cC(r.remoteStore,d)}for(const o of t)r.rc.has(o)&&(yield Og(r.localStore,o,!1).then(()=>{Zv(r.remoteStore,o),Bg(r,o)}).catch(na))}}),QA.apply(this,arguments)}function JA(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=C1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aP.bind(null,e),e.sc.zo=QO.bind(null,e.eventManager),e.sc.wc=JO.bind(null,e.eventManager),e}function XA(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uP.bind(null,e),e}class S1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.It=zv(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Qx(this.persistence,new Yx,e.initialUser,this.It)}yc(e){return new qx(nC.Bs,this.It)}gc(e){return new a1}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class M1 extends S1{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield XA(r.Ac.syncEngine),yield Ng(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Qx(this.persistence,new Yx,e.initialUser,this.It)}Tc(e,t){return new lO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new _T(t,this.persistence);return new mT(e.asyncQueue,r)}yc(e){const t=WT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?go.withCacheSize(this.cacheSizeBytes):go.DEFAULT;return new ZT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,u1(),aC(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new a1}}class EP extends M1{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const o=r.Ac.syncEngine;r.sharedClientState instanceof nA&&(r.sharedClientState.syncEngine={Fr:mP.bind(null,o),$r:vP.bind(null,o),Br:bP.bind(null,o),vi:yP.bind(null,o),Mr:gP.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var c=(0,Se.Z)(function*(d){yield function _P(n,e){return qA.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}gc(e){const t=u1();if(!nA.C(t))throw new Be(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=WT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class eS{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>I1(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=hP.bind(null,r.syncEngine),yield bA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YO}createDatastore(e){const t=zv(e.databaseInfo.databaseId),r=new OO(e.databaseInfo);return new FO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=g=>I1(this.syncEngine,g,0),d=c1.C()?new c1:new xO,new UO(t,r,o,c,d);var t,r,o,c,d}createSyncEngine(e,t){return function(r,o,c,d,g,y,C){const T=new rP(r,o,c,d,g,y);return C&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=nt(t);We("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Pg(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tS(n,e,t){if(!t)throw new Be(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function x1(n,e,t,r){if(!0===e&&!0===r)throw new Be(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function R1(n){if(!it.isDocumentKey(n))throw new Be(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function k1(n){if(it.isDocumentKey(n))throw new Be(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lC(n);throw new Be(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function O1(n,e){if(e<=0)throw new Be(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const P1=new Map;class N1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,x1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new AE;switch(t.type){case"gapi":return new qM(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Be(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=P1.get(e);t&&(We("ComponentProvider","Removing Datastore"),P1.delete(e),t.terminate())}(this),Promise.resolve()}}function F1(n,e,t,r={}){var o;const c=(n=_n(n,Wv))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&yl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=Ur.MOCK_USER;else{d=(0,En.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Be(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ur(y)}n._authCredentials=new lT(new dg(d,g))}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class Ri{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class za extends Ri{constructor(e,t,r){super(e,t,Sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new it(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function L1(n,e,...t){if(n=(0,En.m9)(n),tS("collection","path",e),n instanceof Wv){const r=mn.fromString(e,...t);return k1(r),new za(n,null,r)}{if(!(n instanceof pr||n instanceof za))throw new Be(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return k1(r),new za(n.firestore,null,r)}}function dC(n,e,...t){if(n=(0,En.m9)(n),1===arguments.length&&(e=fT.R()),tS("doc","path",e),n instanceof Wv){const r=mn.fromString(e,...t);return R1(r),new pr(n,null,new it(r))}{if(!(n instanceof pr||n instanceof za))throw new Be(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return R1(r),new pr(n.firestore,n instanceof za?n.converter:null,new it(r))}}function V1(n,e){return n=(0,En.m9)(n),e=(0,En.m9)(e),(n instanceof pr||n instanceof za)&&(e instanceof pr||e instanceof za)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nS(n,e){return n=(0,En.m9)(n),e=(0,En.m9)(e),n instanceof Ri&&e instanceof Ri&&n.firestore===e.firestore&&Ig(n._query,e._query)&&n.converter===e.converter}function U1(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class hC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class IP{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Yr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),o=Number(r);isNaN(o)&&e.Dc(`length string (${r}) is not valid number`);const c=yield e.Cc(o);return new XO(JSON.parse(c),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Se.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class AP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Se.Z)(function*(c,d){const g=nt(c),y=Pv(g.It)+"/documents",C={documents:d.map(Y=>Ov(g.It,Y))},T=yield g._o("BatchGetDocuments",y,C,d.length),x=new Map;T.forEach(Y=>{const se=function Tk(n,e){return"found"in e?function(t,r){Vt(!!r.found);const o=$a(t,r.found.name),c=fi(r.found.updateTime),d=new hi({mapValue:{fields:r.found.fields}});return Xn.newFoundDocument(o,c,d)}(n,e):"missing"in e?function(t,r){Vt(!!r.missing),Vt(!!r.readTime);const o=$a(t,r.missing),c=fi(r.readTime);return Xn.newNoDocument(o,c)}(n,e):ut()}(g.It,Y);x.set(se.key.toString(),se)});const H=[];return d.forEach(Y=>{const se=x.get(Y.toString());Vt(!!se),H.push(se)}),H}),function(c,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ag(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=it.fromPath(o);e.mutations.push(new kT(c,e.precondition(c)))}),yield(r=(0,Se.Z)(function*(o,c){const d=nt(o),g=Pv(d.It)+"/documents",y={writes:c.map(C=>Nv(d.It,C))};yield d.ao("Commit",g,y)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Ft.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ft.min())?Rn.exists(!1):Rn.updateTime(t):Rn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ft.min()))throw new Be(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(t)}return Rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class SP{constructor(e,t,r,o,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=c,this.kc=r.maxAttempts,this.No=new rA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Se.Z)(function*(){const t=new AP(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.Fc(c)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!_g(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!XM(t)}return!1}}class MP{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ur.UNAUTHENTICATED,this.clientId=fT.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Se.Z)(function*(g){We("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(We("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Lg(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function B1(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Se.Z)(function*(c){r.isEqual(c)||(yield Jx(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),rS.apply(this,arguments)}function j1(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oS(n);We("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>m1(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,c)=>m1(e.remoteStore,c)),n.onlineComponents=e}),iS.apply(this,arguments)}function oS(n){return sS.apply(this,arguments)}function sS(){return sS=(0,Se.Z)(function*(n){return n.offlineComponents||(We("FirestoreClient","Using default OfflineComponentProvider"),yield B1(n,new S1)),n.offlineComponents}),sS.apply(this,arguments)}function fC(n){return aS.apply(this,arguments)}function aS(){return aS=(0,Se.Z)(function*(n){return n.onlineComponents||(We("FirestoreClient","Using default OnlineComponentProvider"),yield j1(n,new eS)),n.onlineComponents}),aS.apply(this,arguments)}function $1(n){return oS(n).then(e=>e.persistence)}function pC(n){return oS(n).then(e=>e.localStore)}function cS(n){return fC(n).then(e=>e.remoteStore)}function uS(n){return fC(n).then(e=>e.syncEngine)}function jg(n){return lS.apply(this,arguments)}function lS(){return lS=(0,Se.Z)(function*(n){const e=yield fC(n),t=e.eventManager;return t.onListen=iP.bind(null,e.syncEngine),t.onUnlisten=oP.bind(null,e.syncEngine),t}),lS.apply(this,arguments)}function z1(n,e,t={}){const r=new Yr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,c,d,g,y){const C=new hC({next:x=>{c.enqueueAndForget(()=>DA(o,T));const H=x.docs.has(d);!H&&x.fromCache?y.reject(new Be(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&x.fromCache&&g&&"server"===g.source?y.reject(new Be(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new SA(Sh(d.path),C,{includeMetadataChanges:!0,ku:!0});return CA(o,T)}(yield jg(n),n.asyncQueue,e,t,r)})),r.promise}function G1(n,e,t={}){const r=new Yr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,c,d,g,y){const C=new hC({next:x=>{c.enqueueAndForget(()=>DA(o,T)),x.fromCache&&"server"===g.source?y.reject(new Be(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new SA(d,C,{includeMetadataChanges:!0,ku:!0});return CA(o,T)}(yield jg(n),n.asyncQueue,e,t,r)})),r.promise}class LP{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new rA(this,"async_queue_retry"),this.Wc=()=>{const t=aC();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=aC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=aC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Yr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!ra(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=EA.createAndSchedule(this,e,t,r,c=>this.Yc(c));return this.qc.push(o),o}zc(){this.Kc&&ut()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function dS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class VP{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gr extends Wv{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new LP,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z1(this),this._firestoreClient.terminate()}}function BP(n,e){const t="object"==typeof n?n:(0,Lo.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,Lo._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=(0,En.P0)("firestore");c&&F1(o,...c)}return o}function Br(n){return n._firestoreClient||Z1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Z1(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new vT(n._databaseId,c,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var c,g;n._firestoreClient=new MP(n._authCredentials,n._appCheckCredentials,n._queue,r)}function W1(n,e,t){const r=new Yr;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield B1(n,t),yield j1(n,e),r.resolve()}catch(o){const c=o;if(!("FirebaseError"===(d=c).name?d.code===_e.FAILED_PRECONDITION||d.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw c;yl("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var d})).then(()=>r.promise)}function q1(n){if(n._initialized||n._terminated)throw new Be(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(Rr.fromBase64String(e))}catch(t){throw new Be(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ga(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ou{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._methodName=e}}class gC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const KP=/^__.*__$/;class YP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Wo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ba(e,this.data,t,this.fieldTransforms)}}class K1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Y1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class mC{constructor(e,t,r,o,c,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new mC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.ua(e),o}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return vC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Y1(this.sa)&&KP.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class QP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||zv(e)}da(e,t,r,o=!1){return new mC({sa:e,methodName:t,fa:r,path:hr.emptyPath(),oa:!1,la:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Uh(n){const e=n._freezeSettings(),t=zv(n._databaseId);return new QP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _C(n,e,t,r,o,c={}){const d=n.da(c.merge||c.mergeFields?2:0,e,t,o);gS("Data must be an object, but it was:",d,r);const g=X1(r,d);let y,C;if(c.merge)y=new Mi(d.fieldMask),C=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const x of c.mergeFields){const H=mS(e,x,t);if(!d.contains(H))throw new Be(_e.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);tR(T,H)||T.push(H)}y=new Mi(T),C=d.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,C=d.fieldTransforms;return new YP(new hi(g),y,C)}class qv extends Vh{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qv}}function Q1(n,e,t){return new mC({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class hS extends Vh{_toFieldTransform(e){return new Mt(e.path,new q)}isEqual(e){return e instanceof hS}}class JP extends Vh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Q1(this,e,!0),r=this._a.map(c=>Bh(c,t)),o=new ie(r);return new Mt(e.path,o)}isEqual(e){return this===e}}class XP extends Vh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Q1(this,e,!0),r=this._a.map(c=>Bh(c,t)),o=new Ge(r);return new Mt(e.path,o)}isEqual(e){return this===e}}class eN extends Vh{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new at(e.It,b(e.It,this.wa));return new Mt(e.path,t)}isEqual(e){return this===e}}function fS(n,e,t,r){const o=n.da(1,e,t);gS("Data must be an object, but it was:",o,r);const c=[],d=hi.empty();Pa(r,(y,C)=>{const T=yC(e,y,t);C=(0,En.m9)(C);const x=o.ca(T);if(C instanceof qv)c.push(T);else{const H=Bh(C,x);null!=H&&(c.push(T),d.set(T,H))}});const g=new Mi(c);return new K1(d,g,o.fieldTransforms)}function pS(n,e,t,r,o,c){const d=n.da(1,e,t),g=[mS(e,r,t)],y=[o];if(c.length%2!=0)throw new Be(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<c.length;H+=2)g.push(mS(e,c[H])),y.push(c[H+1]);const C=[],T=hi.empty();for(let H=g.length-1;H>=0;--H)if(!tR(C,g[H])){const Y=g[H];let se=y[H];se=(0,En.m9)(se);const Ne=d.ca(Y);if(se instanceof qv)C.push(Y);else{const Ue=Bh(se,Ne);null!=Ue&&(C.push(Y),T.set(Y,Ue))}}const x=new Mi(C);return new K1(T,x,d.fieldTransforms)}function J1(n,e,t,r=!1){return Bh(t,n.da(r?4:3,e))}function Bh(n,e){if(eR(n=(0,En.m9)(n)))return gS("Unsupported field value:",e,n),X1(n,e);if(n instanceof Vh)return function(t,r){if(!Y1(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const d of t){let g=Bh(d,r.aa(c));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,En.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return b(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=ar.fromDate(t);return{timestampValue:kv(r.It,o)}}if(t instanceof ar){const o=new ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:kv(r.It,o)}}if(t instanceof gC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ga)return{bytesValue:ux(r.It,t._byteString)};if(t instanceof pr){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${lC(t)}`)}(n,e)}function X1(n,e){const t={};return yT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(n,(r,o)=>{const c=Bh(o,e.ra(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function eR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ar||n instanceof gC||n instanceof Ga||n instanceof pr||n instanceof Vh)}function gS(n,e,t){if(!eR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lC(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function mS(n,e,t){if((e=(0,En.m9)(e))instanceof ou)return e._internalPath;if("string"==typeof e)return yC(n,e);throw vC("Field path arguments must be of type string or ",n,!1,void 0,t)}const tN=new RegExp("[~\\*/\\[\\]]");function yC(n,e,t){if(e.search(tN)>=0)throw vC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ou(...e.split("."))._internalPath}catch{throw vC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vC(n,e,t,r,o){const c=r&&!r.isEmpty(),d=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new Be(_e.INVALID_ARGUMENT,g+n+y)}function tR(n,e){return n.some(t=>t.isEqual(e))}class Kv{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nN extends Kv{data(){return super.data()}}function bC(n,e){return"string"==typeof e?yC(n,e):e instanceof ou?e._internalPath:e._delegate._internalPath}function nR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}function Al(n,...e){for(const t of e)n=t._apply(n);return n}class rN extends Yv{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Uh(e.firestore),r=function(o,c,d,g,y,C,T){let x;if(y.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){cR(T,C);const Y=[];for(const se of T)Y.push(aR(g,o,se));x={arrayValue:{values:Y}}}else x=aR(g,o,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||cR(T,C),x=J1(d,"where",T,"in"===C||"not-in"===C);const H=ri.create(y,C,x);return function(Y,se){if(se.dt()){const Ue=Iv(Y);if(null!==Ue&&!Ue.isEqual(se.field))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ue.toString()}' and '${se.field.toString()}'`);const St=zE(Y);null!==St&&uR(0,se.field,St)}const Ne=function(Ue,St){for(const xt of Ue.filters)if(St.indexOf(xt.op)>=0)return xt.op;return null}(Y,function(Ue){switch(Ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==Ne)throw new Be(_e.INVALID_ARGUMENT,Ne===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${Ne.toString()}' filters.`)}(o,H),H}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Ri(e.firestore,e.converter,function(o,c){const d=o.filters.concat([c]);return new Ua(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class oN extends Yv{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Ah(o,c);return function(g,y){if(null===zE(g)){const C=Iv(g);null!==C&&uR(0,C,y.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Ri(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Ua(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class rR extends Yv{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Ri(e.firestore,e.converter,Dv(e._query,this.Ia,this.Ta))}}class iR extends Yv{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=sR(e,this.type,this.Ea,this.Aa);return new Ri(e.firestore,e.converter,(o=t,new Ua((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class oR extends Yv{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=sR(e,this.type,this.Ea,this.Aa);return new Ri(e.firestore,e.converter,(o=t,new Ua((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function sR(n,e,t,r){if(t[0]=(0,En.m9)(t[0]),t[0]instanceof Kv)return function(o,c,d,g,y){if(!g)throw new Be(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const T of Mh(o))if(T.field.isKeyField())C.push(_s(c,g.key));else{const x=g.data.field(T.field);if(hv(x))throw new Be(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const H=T.field.canonicalString();throw new Be(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}C.push(x)}return new tu(C,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Uh(n.firestore);return function(c,d,g,y,C,T){const x=c.explicitOrderBy;if(C.length>x.length)throw new Be(_e.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let Y=0;Y<C.length;Y++){const se=C[Y];if(x[Y].field.isKeyField()){if("string"!=typeof se)throw new Be(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof se}`);if(!GE(c)&&-1!==se.indexOf("/"))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${se}' contains a slash.`);const Ne=c.path.child(mn.fromString(se));if(!it.isDocumentKey(Ne))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Ue=new it(Ne);H.push(_s(d,Ue))}else{const Ne=J1(g,y,se);H.push(Ne)}}return new tu(H,T)}(n._query,n.firestore._databaseId,o,e,t,r)}}function aR(n,e,t){if("string"==typeof(t=(0,En.m9)(t))){if(""===t)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&-1!==t.indexOf("/"))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!it.isDocumentKey(r))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _s(n,new it(r))}if(t instanceof pr)return _s(n,t._key);throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lC(t)}.`)}function cR(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function uR(n,e,t){if(!t.isEqual(e))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _S{convertValue(e,t="none"){switch(Qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const r={};return Pa(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new gC(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const t=Zo(e);return new ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);Vt(yx(r));const o=new Fa(r.get(1),r.get(3)),c=new it(r.popFirst(5));return o.isEqual(t)||xr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function wC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class fN extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}class jh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends Kv{constructor(e,t,r,o,c,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qv extends su{data(e={}){return super.data(e)}}class Sl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new jh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qv(this._firestore,this._userDataWriter,r.key,r,new jh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Qv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new jh(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const g=new Qv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new jh(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,C=-1;return 0!==d.type&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),C=c.indexOf(d.doc.key)),{type:pN(d.type),doc:g,oldIndex:y,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function lR(n,e){return n instanceof su&&e instanceof su?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Sl&&e instanceof Sl&&n._firestore===e._firestore&&nS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ml extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function dR(n,e,t){n=_n(n,pr);const r=_n(n.firestore,gr),o=wC(n.converter,e,t);return $g(r,[_C(Uh(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Rn.none())])}function hR(n,e,t,...r){n=_n(n,pr);const o=_n(n.firestore,gr),c=Uh(o);let d;return d="string"==typeof(e=(0,En.m9)(e))||e instanceof ou?pS(c,"updateDoc",n._key,e,t,r):fS(c,"updateDoc",n._key,e),$g(o,[d.toMutation(n._key,Rn.exists(!0))])}function fR(n,...e){var t,r,o;n=(0,En.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||dS(e[d])||(c=e[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges};if(dS(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(o=x.complete)||void 0===o?void 0:o.bind(x)}let y,C,T;if(n instanceof pr)C=_n(n.firestore,gr),T=Sh(n._key.path),y={next:x=>{e[d]&&e[d](yS(C,n,x))},error:e[d+1],complete:e[d+2]};else{const x=_n(n,Ri);C=_n(x.firestore,gr),T=x._query;const H=new Ml(C);y={next:Y=>{e[d]&&e[d](new Sl(C,H,x,Y))},error:e[d+1],complete:e[d+2]},nR(n._query)}return function(x,H,Y,se){const Ne=new hC(se),Ue=new SA(H,Ne,Y);return x.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return CA(yield jg(x),Ue)})),()=>{Ne.bc(),x.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return DA(yield jg(x),Ue)}))}}(Br(C),T,g,y)}function $g(n,e){return function(t,r){const o=new Yr;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function sP(n,e,t){return OA.apply(this,arguments)}(yield uS(t),r,o)})),o.promise}(Br(n),e)}function yS(n,e,t){const r=t.docs.get(e._key),o=new Ml(n);return new su(n,o,e._key,r,new jh(t.hasPendingWrites,t.fromCache),e.converter)}const IN={maxAttempts:5};class pR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uh(e)}set(e,t,r){this._verifyNotCommitted();const o=xl(e,this._firestore),c=wC(o.converter,t,r),d=_C(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Rn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=xl(e,this._firestore);let d;return d="string"==typeof(t=(0,En.m9)(t))||t instanceof ou?pS(this._dataReader,"WriteBatch.update",c._key,t,r,o):fS(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xl(e,this._firestore);return this._mutations=this._mutations.concat(new Ag(t._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xl(n,e){if((n=(0,En.m9)(n)).firestore!==e)throw new Be(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class DN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Uh(e)}get(e){const t=xl(e,this._firestore),r=new fN(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ut();const c=o[0];if(c.isFoundDocument())return new Kv(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Kv(this._firestore,r,t._key,null,t.converter);throw ut()})}set(e,t,r){const o=xl(e,this._firestore),c=wC(o.converter,t,r),d=_C(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const c=xl(e,this._firestore);let d;return d="string"==typeof(t=(0,En.m9)(t))||t instanceof ou?pS(this._dataReader,"Transaction.update",c._key,t,r,o):fS(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,d),this}delete(e){const t=xl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xl(e,this._firestore),r=new Ml(this._firestore);return super.get(e).then(o=>new su(this._firestore,r,t._key,o._document,new jh(!1,!1),t.converter))}}function vS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function mR(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function _R(){if(!function VE(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yh=Lo.SDK_VERSION,(0,Lo._registerComponent)(new tp.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const c=t.getProvider("app").getImmediate(),d=new gr(new SE(t.getProvider("auth-internal")),new dT(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Be(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(g.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(uT,"3.7.0",n),(0,Lo.registerVersion)(uT,"3.7.0","esm2017")}();class Jv{constructor(e){this._delegate=e}static fromBase64String(e){return _R(),new Jv(Ga.fromBase64String(e))}static fromUint8Array(e){return mR(),new Jv(Ga.fromUint8Array(e))}toBase64(){return _R(),this._delegate.toBase64()}toUint8Array(){return mR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bS(n){return function PN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class NN{enableIndexedDbPersistence(e,t){return function jP(n,e){q1(n=_n(n,gr));const t=Br(n),r=n._freezeSettings(),o=new eS;return W1(t,o,new M1(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $P(n){q1(n=_n(n,gr));const e=Br(n),t=n._freezeSettings(),r=new eS;return W1(e,r,new EP(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function HP(n){if(n._initialized&&!n._terminated)throw new Be(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!Go.C())return Promise.resolve();const o=r+"main";yield Go.delete(o)}),function(r){return t.apply(this,arguments)})(WT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){F1(this._delegate,e,t,r)}enableNetwork(){return function GP(n){return function xP(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield $1(n),t=yield cS(n);return e.setNetworkEnabled(!0),function(r){const o=nt(r);return o.wu.delete(0),Gv(o)}(t)}))}(Br(n=_n(n,gr)))}(this._delegate)}disableNetwork(){return function ZP(n){return function RP(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield $1(n),t=yield cS(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(o){const c=nt(o);c.wu.add(0),yield Pg(c),c.yu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Br(n=_n(n,gr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,x1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zP(n){return function(e){const t=new Yr;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function lP(n,e){return VA.apply(this,arguments)}(yield uS(e),t)})),t.promise}(Br(n=_n(n,gr)))}(this._delegate)}onSnapshotsInSync(e){return function CN(n,e){return function PP(n,e){const t=new hC(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield jg(n),o=t,nt(r).bu.add(o),void o.next();var r,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield jg(n),o=t,void nt(r).bu.delete(o);var r,o}))}}(Br(n=_n(n,gr)),dS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hg(this,L1(this._delegate,e))}catch(t){throw Ki(t,"collection()","Firestore.collection()")}}doc(e){try{return new ys(this,dC(this._delegate,e))}catch(t){throw Ki(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yi(this,function CP(n,e){if(n=_n(n,Wv),tS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ri(n,null,(t=e,new Ua(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ki(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function TN(n,e,t){n=_n(n,gr);const r=Object.assign(Object.assign({},IN),t);return function(o){if(o.maxAttempts<1)throw new Be(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,c,d){const g=new Yr;return o.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const y=yield function H1(n){return fC(n).then(e=>e.datastore)}(o);new SP(o.asyncQueue,y,d,c,g).run()})),g.promise}(Br(n),o=>e(new DN(n,o)),r)}(this._delegate,t=>e(new vR(this,t)))}batch(){return Br(this._delegate),new bR(new pR(this._delegate,e=>$g(this._delegate,e)))}loadBundle(e){return function WP(n,e){const t=Br(n=_n(n,gr)),r=new VP;return function NP(n,e,t,r){const o=function(c,d){let g;return g="string"==typeof c?(new TextEncoder).encode(c):c,y=function(y,C){if(y instanceof Uint8Array)return U1(y,C);if(y instanceof ArrayBuffer)return U1(new Uint8Array(y),C);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new IP(y,d);var y}(t,zv(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function wP(n,e,t){const r=nt(n);var o;(o=(0,Se.Z)(function*(c,d,g){try{const y=yield d.getMetadata();if(yield function(H,Y){const se=nt(H),Ne=fi(Y.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",Ue=>se.Ns.getBundleMetadata(Ue,Y.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Ne)>=0)}(c.localStore,y))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(H=y).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);g._updateProgress(v1(y));const C=new eP(y,c.localStore,d.It);let T=yield d.mc();for(;T;){const H=yield C.Fu(T);H&&g._updateProgress(H),T=yield d.mc()}const x=yield C.complete();return yield iu(c,x.Lu,void 0),yield function(H,Y){const se=nt(H);return se.persistence.runTransaction("Save bundle","readwrite",Ne=>se.Ns.saveBundleMetadata(Ne,Y))}(c.localStore,y),g._completeWith(x.progress),Promise.resolve(x.Bu)}catch(y){return yl("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var H}),function(c,d,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield uS(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function qP(n,e){return function FP(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const o=nt(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Ns.getNamedQuery(c,r))}(yield pC(n),e)}))}(Br(n=_n(n,gr)),e).then(t=>t?new Ri(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Yi(this,t):null)}}class EC extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jv(new Ga(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ys.forKey(t,this.firestore,null)}}class vR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new EC(e)}get(e){const t=Hh(e);return this._delegate.get(t).then(r=>new Xv(this._firestore,new su(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Hh(e);return r?(vS("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Hh(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Hh(e);return this._delegate.delete(t),this}}class bR{constructor(e){this._delegate=e}set(e,t,r){const o=Hh(e);return r?(vS("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Hh(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Hh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $h{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Qv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$h.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new $h(e,new EC(e),t),o.set(t,c)),c}}$h.INSTANCES=new WeakMap;class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new EC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ys(t,new pr(t._delegate,r,new it(e)))}static forKey(e,t,r){return new ys(t,new pr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Hg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hg(this.firestore,L1(this._delegate,e))}catch(t){throw Ki(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,En.m9)(e))instanceof pr&&V1(this._delegate,e)}set(e,t){t=vS("DocumentReference.set",t);try{return t?dR(this._delegate,e,t):dR(this._delegate,e)}catch(r){throw Ki(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?hR(this._delegate,e):hR(this._delegate,e,t,...r)}catch(o){throw Ki(o,"updateDoc()","DocumentReference.update()")}}delete(){return function wN(n){return $g(_n(n.firestore,gr),[new Ag(n._key,Rn.none())])}(this._delegate)}onSnapshot(...e){const t=wR(e),r=ER(e,o=>new Xv(this.firestore,new su(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return fR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function mN(n){n=_n(n,pr);const e=_n(n.firestore,gr),t=Br(e),r=new Ml(e);return function kP(n,e){const t=new Yr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,c,d){try{const g=yield function(y,C){const T=nt(y);return T.persistence.runTransaction("read document","readonly",x=>T.localDocuments.getDocument(x,C))}(o,c);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Be(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=Lg(g,`Failed to get document '${c} from cache`);d.reject(y)}}),function(o,c,d){return r.apply(this,arguments)})(yield pC(n),e,t);var r})),t.promise}(t,n._key).then(o=>new su(e,r,n._key,o,new jh(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function _N(n){n=_n(n,pr);const e=_n(n.firestore,gr);return z1(Br(e),n._key,{source:"server"}).then(t=>yS(e,n,t))}(this._delegate):function gN(n){n=_n(n,pr);const e=_n(n.firestore,gr);return z1(Br(e),n._key).then(t=>yS(e,n,t))}(this._delegate),t.then(r=>new Xv(this.firestore,new su(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?$h.getInstance(this.firestore,e):null))}}function Ki(n,e,t){return n.message=n.message.replace(e,t),n}function wR(n){for(const e of n)if("object"==typeof e&&!bS(e))return e;return{}}function ER(n,e){var t,r;let o;return o=bS(n[0])?n[0]:bS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Xv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ys(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lR(this._delegate,e._delegate)}}class eb extends Xv{data(e){const t=this._delegate.data(e);return function TE(n,e){n||ut()}(void 0!==t),t}}class Yi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new EC(e)}where(e,t,r){try{return new Yi(this.firestore,Al(this._delegate,function iN(n,e,t){const r=e,o=bC("where",n);return new rN(o,r,t)}(e,t,r)))}catch(o){throw Ki(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yi(this.firestore,Al(this._delegate,function sN(n,e="asc"){const t=e,r=bC("orderBy",n);return new oN(r,t)}(e,t)))}catch(r){throw Ki(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yi(this.firestore,Al(this._delegate,function aN(n){return O1("limit",n),new rR("limit",n,"F")}(e)))}catch(t){throw Ki(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yi(this.firestore,Al(this._delegate,function cN(n){return O1("limitToLast",n),new rR("limitToLast",n,"L")}(e)))}catch(t){throw Ki(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yi(this.firestore,Al(this._delegate,function uN(...n){return new iR("startAt",n,!0)}(...e)))}catch(t){throw Ki(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yi(this.firestore,Al(this._delegate,function lN(...n){return new iR("startAfter",n,!1)}(...e)))}catch(t){throw Ki(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yi(this.firestore,Al(this._delegate,function dN(...n){return new oR("endBefore",n,!1)}(...e)))}catch(t){throw Ki(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yi(this.firestore,Al(this._delegate,function hN(...n){return new oR("endAt",n,!0)}(...e)))}catch(t){throw Ki(t,"endAt()","Query.endAt()")}}isEqual(e){return nS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function vN(n){n=_n(n,Ri);const e=_n(n.firestore,gr),t=Br(e),r=new Ml(e);return function OP(n,e){const t=new Yr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,c,d){try{const g=yield iC(o,c,!0),y=new E1(c,g.Hi),C=y.Wu(g.documents),T=y.applyChanges(C,!1);d.resolve(T.snapshot)}catch(g){const y=Lg(g,`Failed to execute query '${c} against cache`);d.reject(y)}}),function(o,c,d){return r.apply(this,arguments)})(yield pC(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Sl(e,r,n,o))}(this._delegate):"server"===e?.source?function bN(n){n=_n(n,Ri);const e=_n(n.firestore,gr),t=Br(e),r=new Ml(e);return G1(t,n._query,{source:"server"}).then(o=>new Sl(e,r,n,o))}(this._delegate):function yN(n){n=_n(n,Ri);const e=_n(n.firestore,gr),t=Br(e),r=new Ml(e);return nR(n._query),G1(t,n._query).then(o=>new Sl(e,r,n,o))}(this._delegate),t.then(r=>new wS(this.firestore,new Sl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=wR(e),r=ER(e,o=>new wS(this.firestore,new Sl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return fR(this._delegate,t,r)}withConverter(e){return new Yi(this.firestore,this._delegate.withConverter(e?$h.getInstance(this.firestore,e):null))}}class LN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new eb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new eb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new LN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new eb(this._firestore,r))})}isEqual(e){return lR(this._delegate,e._delegate)}}class Hg extends Yi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ys(this.firestore,e):null}doc(e){try{return new ys(this.firestore,void 0===e?dC(this._delegate):dC(this._delegate,e))}catch(t){throw Ki(t,"doc()","CollectionReference.doc()")}}add(e){return function EN(n,e){const t=_n(n.firestore,gr),r=dC(n),o=wC(n.converter,e);return $g(t,[_C(Uh(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ys(this.firestore,t))}isEqual(e){return V1(this._delegate,e._delegate)}withConverter(e){return new Hg(this.firestore,this._delegate.withConverter(e?$h.getInstance(this.firestore,e):null))}}function Hh(n){return _n(n,pr)}class ES{constructor(...e){this._delegate=new ou(...e)}static documentId(){return new ES(hr.keyField().canonicalString())}isEqual(e){return(e=(0,En.m9)(e))instanceof ou&&this._delegate._internalPath.isEqual(e._internalPath)}}class zh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function SN(){return new hS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zh(e)}static delete(){const e=function AN(){return new qv("deleteField")}();return e._methodName="FieldValue.delete",new zh(e)}static arrayUnion(...e){const t=function MN(...n){return new JP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zh(t)}static arrayRemove(...e){const t=function xN(...n){return new XP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zh(t)}static increment(e){const t=function RN(n){return new eN("increment",n)}(e);return t._methodName="FieldValue.increment",new zh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const VN={Firestore:yR,GeoPoint:gC,Timestamp:ar,Blob:Jv,Transaction:vR,WriteBatch:bR,DocumentReference:ys,DocumentSnapshot:Xv,Query:Yi,QueryDocumentSnapshot:eb,QuerySnapshot:wS,CollectionReference:Hg,FieldPath:ES,FieldValue:zh,setLogLevel:function FN(n){!function ZM(n){qc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function CR(n,e){return function jN(n,e=Md.z){return new Er.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function CS(n,e){return CR(n,e).pipe((0,_t.U)(t=>({payload:t,type:"query"})))}function CC(n,e){return CS(n,e).pipe(Ro(void 0),Np(),(0,_t.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const y=o.find(T=>T.doc.ref.isEqual(d.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),c}))}function IR(n,e,t){return CC(n,t).pipe(ya((r,o)=>function HN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function zN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return IS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return IS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return IS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),Yd(),(0,_t.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function IS(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function DR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function BN(n){(function UN(n,e){n.INTERNAL.registerComponent(new tp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},VN)))})(n,(e,t)=>new yR(e,t,new NN)),n.registerVersion("@firebase/firestore-compat","0.2.0")}(jM.Z);class TR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=CC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_t.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ro(void 0),Np(),ei(([r,o])=>o.length>0||!r),(0,_t.U)(([r,o])=>o),Wt.iC)}auditTrail(e){return this.stateChanges(e).pipe(ya((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DR(e);return IR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(e={}){return CS(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Wt.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Wt.iC)}add(e){return this.ref.add(e)}doc(e){return new AR(this.ref.doc(e),this.afs)}}class AR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=SR(r,t);return new TR(o,c,this.afs)}snapshotChanges(){return function $N(n,e){return CR(n,e).pipe(Ro(void 0),Np(),(0,_t.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(Wt.iC)}}class GN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CC(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ei(t=>t.length>0),Wt.iC):CC(this.query,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}auditTrail(e){return this.stateChanges(e).pipe(ya((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DR(e);return IR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(e={}){return CS(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Wt.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Wt.iC)}}const ZN=new u.OlP("angularfire2.enableFirestorePersistence"),WN=new u.OlP("angularfire2.firestore.persistenceSettings"),qN=new u.OlP("angularfire2.firestore.settings"),KN=new u.OlP("angularfire2.firestore.use-emulator");function SR(n,e=(t=>t)){return{query:e(n),ref:n}}let DS=(()=>{class n{constructor(t,r,o,c,d,g,y,C,T,x,H,Y,se,Ne,Ue,St,xt){this.schedulers=y;const Qt=(0,uo.on)(t,g,r),Jt=T;x&&_p(Qt,g,H,se,Ne,Ue,Y,St),[this.firestore,this.persistenceEnabled$]=(0,uo.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const Kt=g.runOutsideAngular(()=>Qt.firestore());if(c&&Kt.settings(c),Jt&&Kt.useEmulator(...Jt),o&&!vo(d)){const un=()=>{try{return(0,Sn.D)(Kt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(ii){return typeof console<"u"&&console.warn(ii),pt(!1)}};return[Kt,g.runOutsideAngular(un)]}return[Kt,pt(!1)]},[c,Jt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:d}=SR(o,r),g=this.schedulers.ngZone.run(()=>c);return new TR(g,d,this)}collectionGroup(t,r){const o=r||(d=>d),c=this.firestore.collectionGroup(t);return new GN(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new AR(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uo.Dh),u.LFG(uo.xv,8),u.LFG(ZN,8),u.LFG(qN,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Wt.HU),u.LFG(WN,8),u.LFG(KN,8),u.LFG(Vo,8),u.LFG(mp,8),u.LFG(QI,8),u.LFG(T_,8),u.LFG(A_,8),u.LFG(S_,8),u.LFG(M_,8),u.LFG(Gu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MR=(()=>{class n{constructor(t){this.afs=t}addProduct(t){return t.id=this.afs.createId(),this.afs.collection("/BrightMoonProducts").add(t)}getAllProducts(){return this.afs.collection("/BrightMoonProducts").snapshotChanges()}deleteProduct(t){return this.afs.doc("/BrightMoonProducts/"+t.id).delete()}updateProduct(t){this.deleteProduct(t),this.addProduct(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(DS))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IC=(()=>{class n{constructor(){this.showDialog=!1,this.showClients=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-ledbar"]],decls:1,vars:0,consts:[[1,"gradient-top-line"]],template:function(t,r){1&t&&u._UZ(0,"div",0)},styles:[".gradient-top-line[_ngcontent-%COMP%]{background:linear-gradient(90.42deg,#FF3535,#6691FF,#FF3535,#6691FF);animation:gradient 10s ease infinite;background-size:200% 200%;height:15px;margin:0;padding:0}@media screen and (max-width: 1023px){.gradient-top-line[_ngcontent-%COMP%]{height:12px}}@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]}),n})();function YN(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2)(1,"div",3)(2,"div",4),u._UZ(3,"img",5),u.TgZ(4,"p",6),u._uU(5),u.qZA()(),u.TgZ(6,"div",7)(7,"div",8)(8,"a",9),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.goToDashboard())}),u._UZ(9,"img",10),u.TgZ(10,"p",11),u._uU(11),u.qZA()()(),u.TgZ(12,"div",8)(13,"a",9),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.goToClients())}),u._UZ(14,"img",10),u.TgZ(15,"p",11),u._uU(16),u.qZA()()(),u.TgZ(17,"div",8)(18,"a",9),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.goToPromotions())}),u._UZ(19,"img",10),u.TgZ(20,"p",11),u._uU(21),u.qZA()()(),u.TgZ(22,"div",8)(23,"a",9),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.goToSettings())}),u._UZ(24,"img",10),u.TgZ(25,"p",11),u._uU(26),u.qZA()()()()()()}if(2&n){const t=e.$implicit,r=u.oxw();u.xp6(3),u.Q6J("src",r.logo,u.LSH),u.xp6(2),u.hij(" ",t.navbarLogo," "),u.xp6(4),u.Q6J("src",r.dashboard,u.LSH),u.xp6(2),u.hij(" ",t.navbarDashboard," "),u.xp6(3),u.Q6J("src",r.user,u.LSH),u.xp6(2),u.hij(" ",t.navbarClients," "),u.xp6(3),u.Q6J("src",r.analitycs,u.LSH),u.xp6(2),u.hij(" ",t.navbarPromotions," "),u.xp6(3),u.Q6J("src",r.settings,u.LSH),u.xp6(2),u.hij(" ",t.navbarSettings," ")}}let DC=(()=>{class n{constructor(t){this.route=t,this.logo="assets/images/logo.png",this.analitycs="assets/images/navbar-icons/analitycs.png",this.settings="assets/images/navbar-icons/settings.png",this.user="assets/images/navbar-icons/user.png",this.products="assets/images/navbar-icons/Frame3.png",this.dashboard="assets/images/navbar-icons/Frame.png",this.navbartexts=Bc}goToDashboard(){this.route.navigate(["/dashboard"])}goToClients(){this.route.navigate(["/clients"])}goToPromotions(){this.route.navigate(["/promotions"])}goToSettings(){this.route.navigate(["/settings"])}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:2,vars:1,consts:[[1,"navbar"],["class","navbar_container",4,"ngFor","ngForOf"],[1,"navbar_container"],[1,"navbar_container_base"],[1,"navbar_container_base_title"],[1,"navbar_container_base_title_icon",3,"src"],[1,"navbar_container_base_title_text"],[1,"navbar_container_base_items"],[1,"navbar_container_base_items_item"],[3,"click"],[1,"navbar_container_base_items_item_icon",3,"src"],[1,"navbar_container_base_items_item_text"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,YN,27,10,"div",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.navbartexts))},dependencies:[oi],styles:["@media screen and (min-width: 1024px){.navbar[_ngcontent-%COMP%]{width:100%;height:100%}.navbar_container[_ngcontent-%COMP%]{color:#fff;background:#212429;min-width:252px;max-width:252px;height:694px}.navbar_container_base[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.navbar_container_base_title[_ngcontent-%COMP%]{display:flex;margin-top:10px;justify-content:center;align-items:center}.navbar_container_base_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;color:#fff;margin:0!important}.navbar_container_base_items[_ngcontent-%COMP%]{margin-top:40px;text-align:left}.navbar_container_base_items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.navbar_container_base_items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:flex;justify-content:center;align-items:center;margin:0;text-align:left}.navbar_container_base_items_item[_ngcontent-%COMP%]{margin-top:40px;width:100%;max-width:200px;display:flex;justify-content:center;align-items:center;text-align:left;min-width:200px;text-decoration:none;cursor:pointer}.navbar_container_base_items_item_text[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:20px;line-height:24px;color:#fff;padding:10px}.navbar_container_base_items_item[_ngcontent-%COMP%]:hover{background:#1F1F1F}}@media screen and (max-width: 1023px){.navbar[_ngcontent-%COMP%]{display:none}}"]}),n})(),QN=(()=>{class n{constructor(){this.sales="assets/images/sales-icon.png",this.expanses="assets/images/expanses-icon.png",this.income="assets/images/income-icon.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-analitycs"]],decls:48,vars:3,consts:[[1,"analitycs_block"],[1,"analitycs_block_image"],[3,"src"],[1,"analitycs_block_text"],[1,"analitycs_block_text_name"],[1,"analitycs_block_text_time"],[1,"analitycs_block_percent"],[1,"analitycs_block_number"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"p"),u._uU(6,"Online Orders"),u.qZA()(),u.TgZ(7,"div",5)(8,"p"),u._uU(9,"Last 24 Hours"),u.qZA()()(),u.TgZ(10,"div",6)(11,"p"),u._uU(12,"+21%"),u.qZA()(),u.TgZ(13,"div",7)(14,"p"),u._uU(15,"2078"),u.qZA()()(),u.TgZ(16,"div",0)(17,"div",1),u._UZ(18,"img",2),u.qZA(),u.TgZ(19,"div",3)(20,"div",4)(21,"p"),u._uU(22,"Online Orders"),u.qZA()(),u.TgZ(23,"div",5)(24,"p"),u._uU(25,"Last 24 Hours"),u.qZA()()(),u.TgZ(26,"div",6)(27,"p"),u._uU(28,"+21%"),u.qZA()(),u.TgZ(29,"div",7)(30,"p"),u._uU(31,"2078"),u.qZA()()(),u.TgZ(32,"div",0)(33,"div",1),u._UZ(34,"img",2),u.qZA(),u.TgZ(35,"div",3)(36,"div",4)(37,"p"),u._uU(38,"Online Orders"),u.qZA()(),u.TgZ(39,"div",5)(40,"p"),u._uU(41,"Last 24 Hours"),u.qZA()()(),u.TgZ(42,"div",6)(43,"p"),u._uU(44,"+21%"),u.qZA()(),u.TgZ(45,"div",7)(46,"p"),u._uU(47,"2078"),u.qZA()()()),2&t&&(u.xp6(2),u.Q6J("src",r.sales,u.LSH),u.xp6(16),u.Q6J("src",r.expanses,u.LSH),u.xp6(16),u.Q6J("src",r.income,u.LSH))},styles:["@media screen and (min-width: 1024px){.analitycs_block[_ngcontent-%COMP%]{height:80px!important;max-width:391px!important;min-width:391px!important}.analitycs_block_text[_ngcontent-%COMP%]{font-style:normal!important;font-weight:700!important;font-size:16px!important;line-height:19px!important;color:#fff!important;min-width:150px!important;max-width:150px!important}.analitycs_block_text_time[_ngcontent-%COMP%]{font-style:normal!important;line-height:18px!important;color:#ffffffab!important}.analitycs_block_number[_ngcontent-%COMP%]{color:#fff!important;margin:0!important}}.analitycs_block[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:auto;background:#212429;border-radius:27px;margin-bottom:20px;width:100%;max-width:300px;height:80px;min-width:300px}.analitycs_block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.analitycs_block_image[_ngcontent-%COMP%]{width:50%;margin-left:20px}.analitycs_block_text[_ngcontent-%COMP%]{width:100%}.analitycs_block_text_time[_ngcontent-%COMP%]{font-size:15px;font-weight:400}.analitycs_block_percent[_ngcontent-%COMP%]{width:40%;color:#5affb0;font-style:normal;font-weight:600;font-size:15px;line-height:18px}.analitycs_block_number[_ngcontent-%COMP%]{width:30%;margin-right:10px}"]}),n})(),JN=(()=>{class n{constructor(){this.customer="assets/images/customer-picture.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-updates"]],decls:36,vars:3,consts:[[1,"updates"],[1,"updates_image"],[1,"updates_image_img",3,"src"],[1,"updates_text"],[1,"updates_text_user"],[1,"updates_text_user_name"],[1,"updates_text_user_information"],[1,"updates_text_time"],[1,"updates_text_time_text"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Alexandr Luke"),u.qZA(),u.TgZ(7,"p",6),u._uU(8," received his order of Macbook "),u.qZA()(),u.TgZ(9,"div",7)(10,"p",8),u._uU(11,"2 minutes ago."),u.qZA()()()(),u.TgZ(12,"div",0)(13,"div",1),u._UZ(14,"img",2),u.qZA(),u.TgZ(15,"div",3)(16,"div",4)(17,"h1",5),u._uU(18,"Alexandr Luke"),u.qZA(),u.TgZ(19,"p",6),u._uU(20," received his order of Macbook "),u.qZA()(),u.TgZ(21,"div",7)(22,"p",8),u._uU(23,"2 minutes ago."),u.qZA()()()(),u.TgZ(24,"div",0)(25,"div",1),u._UZ(26,"img",2),u.qZA(),u.TgZ(27,"div",3)(28,"div",4)(29,"h1",5),u._uU(30,"Alexandr Luke"),u.qZA(),u.TgZ(31,"p",6),u._uU(32," received his order of Macbook "),u.qZA()(),u.TgZ(33,"div",7)(34,"p",8),u._uU(35,"2 minutes ago."),u.qZA()()()()),2&t&&(u.xp6(2),u.Q6J("src",r.customer,u.LSH),u.xp6(12),u.Q6J("src",r.customer,u.LSH),u.xp6(12),u.Q6J("src",r.customer,u.LSH))},styles:[".updates[_ngcontent-%COMP%]{margin-top:-10px;max-width:391px;min-width:391px;display:flex;justify-content:center;align-items:center;width:100%;height:auto;line-height:.5}.updates_image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:20px}.updates_text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;height:100%;flex-wrap:wrap;margin-left:30px;margin-top:30px}.updates_text_user[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;flex-wrap:wrap;height:50px}.updates_text_user_image[_ngcontent-%COMP%]{width:50px}.updates_text_user_name[_ngcontent-%COMP%]{width:100%;min-width:300px;max-width:200px;margin-right:2px;font-style:normal;font-weight:700;font-size:14px;line-height:.5;color:#fff}.updates_text_user_information[_ngcontent-%COMP%]{width:100%;font-style:normal;font-weight:400;font-size:14px;color:#fff}.updates_text_time[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:1px!important}.updates_text_time_text[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:10px;line-height:12px;color:#686868}@media screen and (min-width: 1024px){.updates[_ngcontent-%COMP%]{margin-bottom:0!important}}@media screen and (max-width: 1023px){.updates[_ngcontent-%COMP%]{min-width:200px!important}.updates_text_user[_ngcontent-%COMP%]{max-width:123px!important;min-width:200px!important}.updates_text_user_name[_ngcontent-%COMP%]{min-width:111px!important;max-width:20px!important}.updates_text_user_information[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}}"]}),n})(),TC=(()=>{class n{constructor(){this.closeicon="assets/images/close.png",this.burger="assets/images/burger.png",this.user="assets/images/user-avatar.png",this.logo="assets/images/logo.png",this.burgerShow=!0}close(){this.burgerShow=!0,console.log("trybi")}open(){this.burgerShow=!1,console.log("dziala")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mobilenav"]],decls:37,vars:5,consts:[[1,"mobilenav"],[1,"mobilenav_container"],[1,"mobilenav_container_burger"],[3,"src","click"],[1,"mobilenav_container_items"],[1,"mobilenav_container_items_switch"],[3,"src"],[1,"mobilenav_side",3,"hidden"],[1,"mobilenav_side_container"],[1,"mobilenav_side_container_title"],[1,"h5"],[1,"mobilenav_side_container_title_close",3,"src","click"],[1,"mobilenav_side_container_items"],[1,"mobilenav_side_container_items_link"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"app-ledbar"),u.TgZ(2,"div",1)(3,"div",2)(4,"img",3),u.NdJ("click",function(){return r.open()}),u.qZA()(),u.TgZ(5,"div",4)(6,"button",5),u._uU(7,"Switch"),u.qZA(),u._UZ(8,"img",6),u.qZA()(),u.TgZ(9,"div",7)(10,"div",8)(11,"div",9),u._UZ(12,"img",6),u.TgZ(13,"p",10),u._uU(14,"BRIGHTMOON"),u.qZA(),u.TgZ(15,"img",11),u.NdJ("click",function(){return r.close()}),u.qZA()(),u.TgZ(16,"div",12)(17,"div",13),u._UZ(18,"img",6),u.TgZ(19,"p"),u._uU(20,"Dashboard"),u.qZA()(),u.TgZ(21,"div",13),u._UZ(22,"img",6),u.TgZ(23,"p"),u._uU(24,"Clients"),u.qZA()(),u.TgZ(25,"div",13),u._UZ(26,"img",6),u.TgZ(27,"p"),u._uU(28,"Promotions"),u.qZA()(),u.TgZ(29,"div",13),u._UZ(30,"img",6),u.TgZ(31,"p"),u._uU(32,"Dashboard"),u.qZA()(),u.TgZ(33,"div",13),u._UZ(34,"img",6),u.TgZ(35,"p"),u._uU(36,"Dashboard"),u.qZA()()()()()()),2&t&&(u.xp6(4),u.Q6J("src",r.burger,u.LSH),u.xp6(4),u.Q6J("src",r.user,u.LSH),u.xp6(1),u.Q6J("hidden",r.burgerShow),u.xp6(3),u.Q6J("src",r.logo,u.LSH),u.xp6(3),u.Q6J("src",r.closeicon,u.LSH))},dependencies:[tb],styles:[".mobilenav[_ngcontent-%COMP%]{position:fixed;z-index:2;width:100%}.mobilenav_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:60px;background:#212429}.mobilenav_container_burger[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:10px}.mobilenav_container_items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:10px}.mobilenav_container_items_switch[_ngcontent-%COMP%]{margin-right:10px}.mobilenav_side[_ngcontent-%COMP%]{position:absolute;inset:100% 0 0}.mobilenav_side_container[_ngcontent-%COMP%]{display:flex;width:100%;max-width:231px;height:100%;background:#212429;box-shadow:7px 4px 4px #00000040;position:fixed;justify-content:flex-start;flex-direction:column;align-items:center}.mobilenav_side_container_title[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;font-style:normal;font-weight:700;font-size:10px;line-height:24px;color:#fff}.mobilenav_side_container_title_close[_ngcontent-%COMP%]{margin-left:20px}.mobilenav_side_container_items[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:20px;line-height:24px;color:#fff}.mobilenav_side_container_items_link[_ngcontent-%COMP%]:hover{background:#1f1f1f}.mobilenav_side_container_items_link[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;max-width:230px;min-width:200px;height:60px;margin-top:20px}@media screen and (min-width: 1601px){.mobilenav[_ngcontent-%COMP%]{display:none}}"]}),n})(),XN=(()=>{class n{constructor(t,r){this.modal=t,this.data=r,this.display=!0,this.close="assets/images/close.png",this.productObj={id:"",ProductName:"",ProductNumber:"",ProductPayment:"",ProductStatus:""},this.id="",this.ProductName="",this.ProductNumber="",this.ProductPayment="",this.ProductStatus=""}ngOnInit(){}closeModal(){this.display=!1}resetForm(){this.id="",this.ProductName="",this.ProductNumber="",this.ProductPayment="",this.ProductStatus=""}addProduct(){""!=this.ProductName&&""!=this.ProductNumber&&""!=this.ProductPayment&&""!=this.ProductStatus?(this.productObj.id="",this.productObj.ProductName=this.ProductName,this.productObj.ProductNumber=this.ProductNumber,this.productObj.ProductPayment=this.ProductPayment,this.productObj.ProductStatus=this.ProductStatus,this.data.addProduct(this.productObj),this.resetForm()):alert("Wype\u0142nij pola")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(IC),u.Y36(MR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-addproduct"]],outputs:{display:"display"},decls:16,vars:5,consts:[[1,"modal"],[1,"modal_container"],[1,"modal_container_base"],[1,"modal_container_base_close"],[1,"modal_container_base_close_image",3,"src","click"],[1,"modal_container_base_title"],[1,"text-muted"],[1,"modal_container_base_items"],["type","text","placeholder","ProductName",1,"modal_container_base_items_item",3,"ngModel","ngModelChange"],["type","text","placeholder","ProductNumber",1,"modal_container_base_items_item",3,"ngModel","ngModelChange"],["type","text","placeholder","ProductStatus",1,"modal_container_base_items_item",3,"ngModel","ngModelChange"],["type","text","placeholder","ProductPayment",1,"modal_container_base_items_item",3,"ngModel","ngModelChange"],[1,"modal_container_base_button"],[1,"modal_container_base_button_button",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"img",4),u.NdJ("click",function(){return r.modal.showDialog=!1}),u.qZA()(),u.TgZ(5,"div",5)(6,"h3",6),u._uU(7,"ADD PRODUCT"),u.qZA()(),u.TgZ(8,"div",7)(9,"input",8),u.NdJ("ngModelChange",function(c){return r.ProductName=c}),u.qZA(),u.TgZ(10,"input",9),u.NdJ("ngModelChange",function(c){return r.ProductNumber=c}),u.qZA(),u.TgZ(11,"input",10),u.NdJ("ngModelChange",function(c){return r.ProductStatus=c}),u.qZA(),u.TgZ(12,"input",11),u.NdJ("ngModelChange",function(c){return r.ProductPayment=c}),u.qZA()(),u.TgZ(13,"div",12)(14,"button",13),u.NdJ("click",function(){return r.addProduct()}),u._uU(15,"ADD"),u.qZA()()()()()),2&t&&(u.xp6(4),u.Q6J("src",r.close,u.LSH),u.xp6(5),u.Q6J("ngModel",r.ProductName),u.xp6(1),u.Q6J("ngModel",r.ProductNumber),u.xp6(1),u.Q6J("ngModel",r.ProductStatus),u.xp6(1),u.Q6J("ngModel",r.ProductPayment))},dependencies:[Sa,Pc,Vc]}),n})();function eF(n,e){1&n&&u._UZ(0,"app-addproduct")}function tF(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr",35)(1,"td",36),u._uU(2),u.qZA(),u.TgZ(3,"td",36),u._uU(4),u.qZA(),u.TgZ(5,"td",36),u._uU(6),u.qZA(),u.TgZ(7,"td",36),u._uU(8),u.qZA(),u.TgZ(9,"td",36)(10,"button",37),u.NdJ("click",function(){const c=u.CHM(t).$implicit,d=u.oxw(2);return u.KtG(d.deleteProduct(c))}),u._uU(11,"Delete"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.hij(" ",t.ProductName," "),u.xp6(2),u.hij(" ",t.ProductNumber," "),u.xp6(2),u.hij(" ",t.ProductPayment," "),u.xp6(2),u.hij(" ",t.ProductStatus," ")}}function nF(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",3),u._UZ(1,"app-navbar",4)(2,"app-mobilenav"),u.TgZ(3,"div",5),u.YNc(4,eF,1,0,"app-addproduct",6),u.TgZ(5,"div",7)(6,"h1",8),u._uU(7),u.qZA()(),u.TgZ(8,"div",9)(9,"div",10),u._UZ(10,"img",11),u.TgZ(11,"p",12),u._uU(12),u.qZA(),u.TgZ(13,"p",12),u._uU(14),u.qZA(),u.TgZ(15,"div",13)(16,"p",14),u._uU(17,"90%"),u.qZA()()(),u.TgZ(18,"div",10),u._UZ(19,"img",11),u.TgZ(20,"p",12),u._uU(21),u.qZA(),u.TgZ(22,"p",12),u._uU(23),u.qZA(),u.TgZ(24,"div",13)(25,"p",15),u._uU(26,"90%"),u.qZA()()(),u.TgZ(27,"div",10),u._UZ(28,"img",11),u.TgZ(29,"p",12),u._uU(30),u.qZA(),u.TgZ(31,"p",12),u._uU(32),u.qZA(),u.TgZ(33,"div",13)(34,"p",15),u._uU(35,"90%"),u.qZA()()()(),u.TgZ(36,"div",16)(37,"div",17)(38,"p",18),u._uU(39," Recent Products "),u.qZA()(),u.TgZ(40,"div",19)(41,"table",20)(42,"tbody",21)(43,"tr",22)(44,"th",23),u._uU(45," Product Name "),u.qZA(),u.TgZ(46,"th",23),u._uU(47," Number "),u.qZA(),u.TgZ(48,"th",23),u._uU(49," Payment "),u.qZA(),u.TgZ(50,"th",23),u._uU(51," Status "),u.qZA(),u.TgZ(52,"th",23),u._uU(53," Action "),u.qZA()(),u.YNc(54,tF,12,4,"tr",24),u.qZA()()()()(),u.TgZ(55,"div",25)(56,"div",26)(57,"p",27),u._uU(58),u.qZA()(),u.TgZ(59,"div",28),u._UZ(60,"app-updates"),u.qZA(),u.TgZ(61,"div",29)(62,"div",30)(63,"p",31),u._uU(64),u.qZA()(),u._UZ(65,"app-analitycs"),u.TgZ(66,"div",32),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.modal.showDialog=!0)}),u._UZ(67,"img",33),u.TgZ(68,"p",34),u._uU(69," AddProduct"),u.qZA()()()()()}if(2&n){const t=e.$implicit,r=u.oxw();u.xp6(4),u.Q6J("ngIf",r.modal.showDialog),u.xp6(3),u.hij(" ",t.dashboardTitle," "),u.xp6(3),u.Q6J("src",r.sales,u.LSH),u.xp6(2),u.hij(" ",t.dashboardTotalSales," "),u.xp6(2),u.hij(" ",t.dashboardSalesCosts," "),u.xp6(5),u.Q6J("src",r.expanses,u.LSH),u.xp6(2),u.hij(" ",t.dashboardTotalExpanses," "),u.xp6(2),u.hij(" ",t.dashboardExpansesCosts," "),u.xp6(5),u.Q6J("src",r.income,u.LSH),u.xp6(2),u.hij(" ",t.dashboardTotalIncome," "),u.xp6(2),u.hij(" ",t.dashboardIncomeCosts," "),u.xp6(22),u.Q6J("ngForOf",r.productsList),u.xp6(4),u.hij(" ",t.dashboardLastUpdates," "),u.xp6(6),u.hij(" ",t.dashboardSalesAnalitycs," "),u.xp6(3),u.Q6J("src",r.plus,u.LSH)}}let rF=(()=>{class n{constructor(t,r,o){this.auth=t,this.data=r,this.modal=o,this.sales="assets/images/sales-icon.png",this.expanses="assets/images/expanses-icon.png",this.income="assets/images/income-icon.png",this.plus="assets/images/plus-icon.png",this.user="assets/images/user-avatar.png",this.customer="assets/images/customer-picture.png",this.display=!1,this.productsList=[],this.productObj={id:"",ProductName:"",ProductNumber:"",ProductPayment:"",ProductStatus:""},this.id="",this.ProductName="",this.ProductNumber="",this.ProductPayment="",this.ProductStatus="",this.dashboardtexts=Bc}displayModal(){this.display=!0,console.log("Modal",this.display)}ngOnInit(){this.getAllProducts()}getAllProducts(){this.data.getAllProducts().subscribe(t=>{this.productsList=t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o})})}resetForm(){this.id="",this.ProductName="",this.ProductNumber="",this.ProductPayment="",this.ProductStatus=""}addProduct(){""!=this.ProductName&&""!=this.ProductNumber&&""!=this.ProductPayment&&""!=this.ProductStatus?(this.productObj.id="",this.productObj.ProductName=this.ProductName,this.productObj.ProductNumber=this.ProductNumber,this.productObj.ProductPayment=this.ProductPayment,this.productObj.ProductStatus=this.ProductStatus,this.data.addProduct(this.productObj),this.resetForm()):alert("Wype\u0142nij pola")}updateProduct(){}deleteProduct(t){window.confirm("Are you sure to delete?"+t.ProductName+t.ProductNumber)&&this.data.deleteProduct(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zs),u.Y36(MR),u.Y36(IC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:3,vars:1,consts:[[1,"desktop-ledbar"],[1,"brightmoon"],["class","brightmoon_container",4,"ngFor","ngForOf"],[1,"brightmoon_container"],[1,"brightmoon_nav"],[1,"brightmoon_container_base"],[4,"ngIf"],[1,"brightmoon_container_base_title"],[1,"brightmoon_container_base_title_text"],[1,"brightmoon_container_base_salesinfo"],[1,"brightmoon_container_base_salesinfo_block"],[1,"brightmoon_container_base_salesinfo_block_icon",3,"src"],[1,"brightmoon_container_base_salesinfo_block_text"],[1,"brightmoon_container_base_salesinfo_block_chart"],[1,"brightmoon_container_base_salesinfo_block_chart_text"],[1,"dashboard_container_base_salesinfo_block_chart_text"],[1,"brightmoon_container_base_recent"],[1,"brightmoon_container_base_recent_title"],[1,"brightmoon_container_base_recent_title_text"],[1,"brightmoon_container_base_recent_block"],[1,"brightmoon_container_base_recent_block_table"],[1,"brightmoon_container_base_recent_block_table_body"],[1,"brightmoon_container_base_recent_block_table_body_nav"],[1,"brightmoon_container_base_recent_block_table_body_nav_item"],["class","brightmoon_container_base_recent_block_table_body_row",4,"ngFor","ngForOf"],[1,"brightmoon_container_base_updates"],[1,"brightmoon_container_base_updates_title"],[1,"brightmoon_container_base_updates_title_text"],[1,"brightmoon_container_base_updates_block"],[1,"brightmoon_container_base_analitycs"],[1,"brightmoon_container_base_analitycs_title"],[1,"brightmoon_container_base_analitycs_title_text"],[1,"brightmoon_container_base_analitycs_add",3,"click"],[1,"brightmoon_container_base_analitycs_add_icon",3,"src"],[1,"brightmoon_container_base_analitycs_add_text"],[1,"brightmoon_container_base_recent_block_table_body_row"],[1,"brightmoon_container_base_recent_block_table_body_row_item"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(u._UZ(0,"app-ledbar",0),u.TgZ(1,"div",1),u.YNc(2,nF,70,15,"div",2),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngForOf",r.dashboardtexts))},dependencies:[oi,ir,tb,DC,QN,JN,TC,XN]}),n})(),iF=(()=>{class n{constructor(){this.Cover="assets/images/Cover.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-pagenotfound"]],decls:10,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],["href","/login"],[1,"d-flex","justify-content-center","align-items-center","w-100",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Nie mu strony kt\xf3rej szukasz :("),u.qZA(),u.TgZ(4,"h4"),u._uU(5,"Wr\xf3\u0107 do strony G\u0142w\xf3nej"),u.qZA(),u.TgZ(6,"a",2),u._uU(7,"Wr\xf3\u0107 do strony G\u0142\xf3wnej"),u.qZA(),u.TgZ(8,"div",0),u._UZ(9,"img",3),u.qZA()()()),2&t&&(u.xp6(9),u.Q6J("src",r.Cover,u.LSH))}}),n})(),oF=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password="",this.logo="assets/images/logo.png"}ngOnInit(){}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Please enter Password"):alert("Please enter email")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zs))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:3,consts:[[1,"component"],[1,"component_container"],[1,"component_container_big_circle"],[1,"component_container_small_circle"],[1,"component_container_logotype"],[1,"component_container_logotype_logo"],[1,"component_container_logotype_logo_logo",3,"src"],[1,"component_container_logotype_title_title"],[1,"component_container_logotype_title"],[1,"component_container_base"],[1,"component_container_base_form"],[1,"component_container_base_form_title"],[1,"component_container_base_form_title_text"],[1,"component_container_base_form_inputs"],["type","email","placeholder","Email",1,"component_container_base_form_inputs_input",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"component_container_base_form_inputs_input",3,"ngModel","ngModelChange"],[1,"component_container_base_form_button"],[1,"component_container_base_form_button_button",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7)(8,"h5",8),u._uU(9,"BRIGHTMOON"),u.qZA()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"p",12),u._uU(14,"REGISTER"),u.qZA()(),u.TgZ(15,"div",13)(16,"input",14),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(17,"input",15),u.NdJ("ngModelChange",function(c){return r.password=c}),u.qZA()(),u.TgZ(18,"div",16)(19,"button",17),u.NdJ("click",function(){return r.register()}),u._uU(20,"Register"),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("src",r.logo,u.LSH),u.xp6(10),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngModel",r.password))},dependencies:[Sa,Pc,Vc]}),n})(),sF=(()=>{class n{constructor(t){this.route=t,this.logo="assets/images/logo.png"}goToLogin(){this.route.navigate(["/login"])}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-verify-email"]],decls:23,vars:1,consts:[[1,"component"],[1,"component_container"],[1,"component_container_big_circle"],[1,"component_container_small_circle"],[1,"component_container_logotype"],[1,"component_container_logotype_logo"],[1,"component_container_logotype_logo_logo",3,"src"],[1,"component_container_logotype_title_title"],[1,"component_container_logotype_title"],[1,"component_container_base"],[1,"component_container_form"],[1,"mb-3"],[1,"text-danger","text-muted","h3"],[1,"text-muted","blockquote"],[1,"component_container_base_form_button"],[1,"component_container_base_form_button_button",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7)(8,"h5",8),u._uU(9,"BRIGHTMOON"),u.qZA()()(),u.TgZ(10,"div",9)(11,"form",10)(12,"div",11)(13,"h4",12),u._uU(14,"Welcome"),u.qZA()(),u.TgZ(15,"div",11)(16,"p",13),u._uU(17," Link has sent on your register email. Please verify it. "),u.qZA()(),u.TgZ(18,"div",14)(19,"p",13),u._uU(20,"You verify your email?"),u.qZA(),u.TgZ(21,"button",15),u.NdJ("click",function(){return r.goToLogin()}),u._uU(22," Login "),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("src",r.logo,u.LSH))},dependencies:[gw,O_,Sp]}),n})(),aF=(()=>{class n{constructor(t){this.auth=t,this.logo="assets/images/logo.png"}ngOnInit(){}forgotPassword(){this.auth.forgotPassword(this.email),this.email=""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zs))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-forgot-password"]],decls:23,vars:2,consts:[[1,"component"],[1,"component_container"],[1,"component_container_big_circle"],[1,"component_container_small_circle"],[1,"component_container_logotype"],[1,"component_container_logotype_logo"],[1,"component_container_logotype_logo_logo",3,"src"],[1,"component_container_logotype_title_title"],[1,"component_container_logotype_title"],[1,"component_container_base"],[1,"component_container_base_form"],[1,"component_container_base_form_title"],[1,"component_container_base_form_title_text"],[1,"component_container_base_form_inputs"],["type","email","placeholder","Email",1,"component_container_base_form_inputs_input",3,"ngModel","ngModelChange"],[1,"component_container_base_form_button"],[1,"component_container_base_form_button_button",3,"click"],[1,"col-6","d-flex","justify-content-center","align-items-center","m-2"],["href","/login",2,"text-decoration","none","color","rgba(206, 81, 116, 0.59)"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7)(8,"h5",8),u._uU(9,"BRIGHTMOON"),u.qZA()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"p",12),u._uU(14,"FORGOT PASSWORD"),u.qZA()(),u.TgZ(15,"div",13)(16,"input",14),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA()(),u.TgZ(17,"div",15)(18,"button",16),u.NdJ("click",function(){return r.forgotPassword()}),u._uU(19,"Send Link"),u.qZA()(),u.TgZ(20,"div",17)(21,"a",18),u._uU(22,"Back to login"),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("src",r.logo,u.LSH),u.xp6(10),u.Q6J("ngModel",r.email))},dependencies:[Sa,Pc,Vc]}),n})(),cF=(()=>{class n{constructor(t){this.ars=t}addPromotion(t){return t.id=this.ars.createId(),this.ars.collection("/BrightMoonPromotions").add(t)}getAllPromotions(){return this.ars.collection("/BrightMoonPromotions").snapshotChanges()}deletePromotion(t){return this.ars.doc("/BrightMoonPromotions/"+t.id).delete()}updatePromotion(t){this.deletePromotion(t),this.addPromotion(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(DS))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uF(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr",17)(1,"td",18),u._uU(2),u.qZA(),u.TgZ(3,"td",18),u._uU(4),u.qZA(),u.TgZ(5,"td",18),u._uU(6),u.qZA(),u.TgZ(7,"td",18),u._uU(8),u.qZA(),u.TgZ(9,"td",18)(10,"button",27),u.NdJ("click",function(){const c=u.CHM(t).$implicit,d=u.oxw();return u.KtG(d.deletePromotion(c))}),u._uU(11,"Delete"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.name),u.xp6(2),u.Oqu(t.code),u.xp6(2),u.Oqu(t.value),u.xp6(2),u.Oqu(t.time)}}let lF=(()=>{class n{constructor(t){this.promotiones=t,this.PromotionList=[],this.PromotionObj={id:"",name:"",code:"",value:0,time:""},this.id="",this.name="",this.code="",this.value=0,this.time=""}ngOnInit(){this.getAllPromotions()}getAllPromotions(){this.promotiones.getAllPromotions().subscribe(t=>{this.PromotionList=t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o})})}resetForm(){this.id="",this.name="",this.code="",this.value=0,this.time=""}addPromotion(){""!=this.name&&""!=this.code&&0!=this.value&&""!=this.time?(this.PromotionObj.id="",this.PromotionObj.name=this.name,this.PromotionObj.code=this.code,this.PromotionObj.value=this.value,this.PromotionObj.time=this.time,this.promotiones.addPromotion(this.PromotionObj),this.resetForm()):alert("Wype\u0142nij pola")}deletePromotion(t){window.confirm("Are you sure to delete "+t.name+" ?")&&this.promotiones.deletePromotion(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(cF))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-promotions"]],decls:63,vars:1,consts:[[1,"desktop-ledbar"],[1,"brightmoon"],[1,"brightmoon_container"],[1,"brightmoon_nav"],[1,"brightmoon_container_base"],[1,"brightmoon_container_base_title"],[1,"brightmoon_container_base_title_text"],[1,"brightmoon_container_base_recent"],[1,"brightmoon_container_base_recent_title"],[1,"brightmoon_container_base_recent_title_text"],[1,"brightmoon_container_base_recent_block","h-75"],[1,"brightmoon_container_base_recent_block_table"],[1,"brightmoon_container_base_recent_block_table_body"],[1,"brightmoon_container_base_recent_block_table_body_nav"],[1,"brightmoon_container_base_recent_block_table_body_nav_item"],["class","brightmoon_container_base_recent_block_table_body_row",4,"ngFor","ngForOf"],[1,"brightmoon_container_base_recent_block"],[1,"brightmoon_container_base_recent_block_table_body_row"],[1,"brightmoon_container_base_recent_block_table_body_row_item"],[1,"btn","btn-outline-danger"],[1,"brightmoon_container_base_updates"],[1,"brightmoon_container_base_updates_title"],[1,"brightmoon_container_base_updates_title_text"],[1,"brightmoon_container_base_updates_block"],[1,"brightmoon_container_base_analitycs"],[1,"brightmoon_container_base_analitycs_title"],[1,"brightmoon_container_base_analitycs_title_text"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(u._UZ(0,"app-ledbar",0),u.TgZ(1,"div",1)(2,"div",2),u._UZ(3,"app-navbar",3)(4,"app-mobilenav"),u.TgZ(5,"div",4)(6,"div",5)(7,"h1",6),u._uU(8,"Promotions"),u.qZA()(),u.TgZ(9,"div",7)(10,"div",8)(11,"p",9),u._uU(12," Reedem Code "),u.qZA()(),u.TgZ(13,"div",10)(14,"table",11)(15,"tbody",12)(16,"tr",13)(17,"td",14),u._uU(18," Name "),u.qZA(),u.TgZ(19,"th",14),u._uU(20," Code "),u.qZA(),u.TgZ(21,"th",14),u._uU(22," Value "),u.qZA(),u.TgZ(23,"th",14),u._uU(24," Time "),u.qZA(),u.TgZ(25,"th",14),u._uU(26," Action "),u.qZA()(),u.YNc(27,uF,12,4,"tr",15),u.qZA()()()(),u.TgZ(28,"div",7)(29,"div",8)(30,"p",9),u._uU(31," Promotion Code "),u.qZA()(),u.TgZ(32,"div",16)(33,"table",11)(34,"tbody",12)(35,"tr",13)(36,"th",14),u._uU(37," Name "),u.qZA(),u.TgZ(38,"th",14),u._uU(39," Code "),u.qZA(),u.TgZ(40,"th",14),u._uU(41," Value "),u.qZA(),u.TgZ(42,"th",14),u._uU(43," Time "),u.qZA(),u.TgZ(44,"th",14),u._uU(45," Action "),u.qZA()(),u.TgZ(46,"tr",17),u._UZ(47,"td",18)(48,"td",18)(49,"td",18)(50,"td",18),u.TgZ(51,"td",18)(52,"button",19),u._uU(53,"Delete"),u.qZA()()()()()()()(),u.TgZ(54,"div",20)(55,"div",21)(56,"p",22),u._uU(57," Online Clients "),u.qZA()(),u._UZ(58,"div",23),u.TgZ(59,"div",24)(60,"div",25)(61,"p",26),u._uU(62,"New Code"),u.qZA()()()()()()),2&t&&(u.xp6(27),u.Q6J("ngForOf",r.PromotionList))},dependencies:[oi,tb,DC,TC]}),n})(),xR=(()=>{class n{constructor(t){this.ans=t}addClient(t){return t.id=this.ans.createId(),this.ans.collection("/BrightMoonClients").add(t)}getAllClients(){return this.ans.collection("/BrightMoonClients").snapshotChanges()}removeClient(t){return this.ans.doc("/BrightMoonClients/"+t.id).delete()}updateClitent(t){this.removeClient(t),this.addClient(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(DS))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dF=(()=>{class n{constructor(t,r){this.modal=t,this.clients=r,this.display=!1,this.close="assets/images/close.png",this.clientObj={id:"",name:"",surname:"",email:"",tel:""},this.id="",this.name="",this.surname="",this.email="",this.tel=""}ngOnInit(){}closeModal(){this.display=!0}resetForm(){this.id="",this.name="",this.surname="",this.email="",this.tel=""}addClient(){""!=this.name&&""!=this.surname&&""!=this.email&&""!=this.tel?(this.clientObj.id="",this.clientObj.name=this.name,this.clientObj.surname=this.surname,this.clientObj.email=this.email,this.clientObj.tel=this.tel,this.clients.addClient(this.clientObj),this.resetForm()):alert("Please , fill the inputs")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(IC),u.Y36(xR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-addclient"]],outputs:{display:"display"},decls:16,vars:5,consts:[[1,"modal"],[1,"modal_container"],[1,"modal_container_base"],[1,"modal_container_base_close"],[1,"modal_container_base_close_image",3,"src","click"],[1,"modal_container_base_title"],[1,"text-muted"],[1,"modal_container_base_items"],["type","text","placeholder","Name",1,"modal_container_base_items_item",3,"ngModel","ngModelChange"],["type","text","placeholder","Surname",1,"modal_container_base_items_item",3,"ngModel","ngModelChange"],["type","text","placeholder","Email",1,"modal_container_base_items_item",3,"ngModel","ngModelChange"],["type","text","placeholder","Number",1,"modal_container_base_items_item",3,"ngModel","ngModelChange"],[1,"modal_container_base_button"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"img",4),u.NdJ("click",function(){return r.modal.showClients=!1}),u.qZA()(),u.TgZ(5,"div",5)(6,"h3",6),u._uU(7,"ADD Client"),u.qZA()(),u.TgZ(8,"div",7)(9,"input",8),u.NdJ("ngModelChange",function(c){return r.name=c}),u.qZA(),u.TgZ(10,"input",9),u.NdJ("ngModelChange",function(c){return r.surname=c}),u.qZA(),u.TgZ(11,"input",10),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(12,"input",11),u.NdJ("ngModelChange",function(c){return r.tel=c}),u.qZA()(),u.TgZ(13,"div",12)(14,"button",13),u.NdJ("click",function(){return r.addClient()}),u._uU(15,"ADD"),u.qZA()()()()()),2&t&&(u.xp6(4),u.Q6J("src",r.close,u.LSH),u.xp6(5),u.Q6J("ngModel",r.name),u.xp6(1),u.Q6J("ngModel",r.surname),u.xp6(1),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngModel",r.tel))},dependencies:[Sa,Pc,Vc]}),n})();function hF(n,e){1&n&&u._UZ(0,"app-addclient")}function fF(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr",28)(1,"td",29),u._uU(2),u.qZA(),u.TgZ(3,"td",29),u._uU(4),u.qZA(),u.TgZ(5,"td",29),u._uU(6),u.qZA(),u.TgZ(7,"td",29),u._uU(8),u.qZA(),u.TgZ(9,"td",29)(10,"button",30),u.NdJ("click",function(){const c=u.CHM(t).$implicit,d=u.oxw();return u.KtG(d.deleteProduct(c))}),u._uU(11,"Delete"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.hij(" ",t.name," "),u.xp6(2),u.hij(" ",t.surname," "),u.xp6(2),u.hij(" ",t.email," "),u.xp6(2),u.hij(" ",t.tel," ")}}let pF=(()=>{class n{constructor(t,r){this.clients=t,this.modal=r,this.plus="assets/images/plus-icon.png",this.clientList=[],this.clientObj={id:"",name:"",surname:"",email:"",tel:""},this.id="",this.name="",this.surname="",this.email="",this.tel=""}ngOnInit(){this.getAllClients()}getAllClients(){this.clients.getAllClients().subscribe(t=>{this.clientList=t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o})})}removeClient(t){}addClient(){""!=this.id&&""!=this.name&&""!=this.surname&&""!=this.email&&""!=this.tel?(this.clientObj.id="",this.clientObj.name=this.name,this.clientObj.surname=this.surname,this.clientObj.email=this.email,this.clientObj.tel=this.tel):alert("Please , fill the inputs")}deleteProduct(t){window.confirm("Are you sure to delete?"+t.name+t.surname)&&this.clients.removeClient(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xR),u.Y36(IC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-clients"]],decls:46,vars:3,consts:[[1,"desktop-ledbar"],[1,"brightmoon"],[1,"brightmoon_container"],[1,"brightmoon_nav"],[1,"brightmoon_container_base","align-items-center"],[4,"ngIf"],[1,"brightmoon_container_base_title"],[1,"brightmoon_container_base_title_text","mt-4"],[1,"brightmoon_container_base_recent"],[1,"brightmoon_container_base_recent_title"],[1,"brightmoon_container_base_recent_block_clients"],[1,"brightmoon_container_base_recent_block_table"],[1,"brightmoon_container_base_recent_block_table_body"],[1,"brightmoon_container_base_recent_block_table_body_nav"],[1,"brightmoon_container_base_recent_block_table_body_nav_item"],["class","brightmoon_container_base_recent_block_table_body_row",4,"ngFor","ngForOf"],[1,"brightmoon_container_base_analitycs_add","m-4"],[1,"brightmoon_container_base_analitycs_add_icon",3,"src"],[1,"brightmoon_container_base_analitycs_add_text",3,"click"],[1,"brightmoon_container_base_updates"],[1,"brightmoon_container_base_updates_title"],[1,"brightmoon_container_base_updates_title_text"],[1,"brightmoon_container_base_updates_block","d-flex","justify-content-center","align-items-center","flex-column"],[1,"brightmoon_container_base_salesinfo_block_text","d-flex","justify-content-center","flex-column","align-items-center"],[1,"brightmoon_container_base_salesinfo_block_chart"],[1,"brightmoon_container_base_analitycs"],[1,"brightmoon_container_base_analitycs_title"],[1,"brightmoon_container_base_analitycs_title_text","m-4"],[1,"brightmoon_container_base_recent_block_table_body_row"],[1,"brightmoon_container_base_recent_block_table_body_row_item"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(u._UZ(0,"app-ledbar",0),u.TgZ(1,"div",1)(2,"div",2),u._UZ(3,"app-navbar",3)(4,"app-mobilenav"),u.TgZ(5,"div",4),u.YNc(6,hF,1,0,"app-addclient",5),u.TgZ(7,"div",6)(8,"h1",7),u._uU(9,"Clients"),u.qZA()(),u.TgZ(10,"div",8),u._UZ(11,"div",9),u.TgZ(12,"div",10)(13,"table",11)(14,"tbody",12)(15,"tr",13)(16,"th",14),u._uU(17," Name "),u.qZA(),u.TgZ(18,"th",14),u._uU(19," Surname "),u.qZA(),u.TgZ(20,"th",14),u._uU(21," Email "),u.qZA(),u.TgZ(22,"th",14),u._uU(23," Tel "),u.qZA(),u.TgZ(24,"th",14),u._uU(25," Action "),u.qZA()(),u.YNc(26,fF,12,4,"tr",15),u.qZA()()()(),u.TgZ(27,"div",16),u._UZ(28,"img",17),u.TgZ(29,"p",18),u.NdJ("click",function(){return r.modal.showClients=!0}),u._uU(30,"AddClient"),u.qZA()()(),u.TgZ(31,"div",19)(32,"div",20)(33,"p",21),u._uU(34," Online Clients "),u.qZA()(),u.TgZ(35,"div",22)(36,"div",23)(37,"p"),u._uU(38,"Online Clients"),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Last 24 hours"),u.qZA()(),u._UZ(41,"div",24),u.qZA(),u.TgZ(42,"div",25)(43,"div",26)(44,"p",27),u._uU(45,"????"),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("ngIf",r.modal.showClients),u.xp6(20),u.Q6J("ngForOf",r.clientList),u.xp6(2),u.Q6J("src",r.plus,u.LSH))},dependencies:[oi,ir,tb,DC,TC,dF]}),n})(),gF=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}ngOnInit(){}logout(){this.auth.logout(),this.auth.isLoggedIn=!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zs),u.Y36(Qn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-settings"]],decls:19,vars:0,consts:[[1,"desktop-ledbar"],[1,"brightmoon"],[1,"brightmoon_container"],[1,"brightmoon_nav"],[1,"settings-base"],[1,"brightmoon_container_base_title","settings-title"],[1,"brightmoon_container_base_title_text"],[1,"settings-container"],[1,"settings-container-content"],[1,"brightmoon_button"],[1,"brightmoon_button",3,"click"]],template:function(t,r){1&t&&(u._UZ(0,"app-ledbar",0),u.TgZ(1,"div",1),u._UZ(2,"app-mobilenav"),u.TgZ(3,"div",2),u._UZ(4,"app-navbar",3),u.TgZ(5,"div",4)(6,"div",5)(7,"h1",6),u._uU(8,"SETTINGS"),u.qZA()(),u.TgZ(9,"div",7)(10,"div",8)(11,"button",9),u._uU(12," Zmie\u0144 Email "),u.qZA(),u.TgZ(13,"button",9),u._uU(14," Zmie\u0144 Has\u0142o "),u.qZA(),u.TgZ(15,"button",9),u._uU(16," Zmie\u0144 Zdj\u0119cie "),u.qZA(),u.TgZ(17,"button",10),u.NdJ("click",function(){return r.logout()}),u._uU(18," Wyloguj si\u0119 "),u.qZA()()()()()())},dependencies:[tb,DC,TC],styles:[".settings-title[_ngcontent-%COMP%]{align-items:baseline!important;justify-content:center!important;margin-top:30px!important}.settings-base[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%}.settings-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:7px}.settings-container-content[_ngcontent-%COMP%]{border-radius:45px;width:100%;height:auto;justify-content:center;align-items:center;display:flex;flex-direction:column}.settings-container-content-button[_ngcontent-%COMP%]{color:#fff;width:100%;height:100%;min-height:44px;max-width:130px;border-radius:40px;margin:10px;background-color:#00a3ff}"]}),n})(),AC=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.checkLogin(r.url)}checkLogin(t){return 1==this.authService.isLoggedIn||(console.log("XDD"),this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zs),u.LFG(Qn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mF=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:AD},{path:"register",component:oF},{path:"verify-email",component:sF},{path:"forgot-password",component:aF},{path:"dashboard",component:rF,canActivate:[AC]},{path:"promotions",component:lF,canActivate:[AC]},{path:"clients",component:pF,canActivate:[AC]},{path:"settings",component:gF,canActivate:[AC]},{path:"**",component:iF}];let _F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[c0.forRoot(mF),c0]}),n})(),yF=(()=>{class n{constructor(){this.title="Brightmoon"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Ec],styles:[".app[_ngcontent-%COMP%]{margin:0;padding:0;width:100%}"]}),n})();var RR=N(4408);const nb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=nb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const o=e(c=>{t=void 0,n(c)});return new id.w0(()=>t?.(o))},requestAnimationFrame(...n){const{delegate:e}=nb;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=nb;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var kR=N(7565);new class bF extends kR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;e=e||r.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw o}}}(class vF extends RR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=nb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(o=c[c.length-1])||void 0===o?void 0:o.id)!==t&&(nb.cancelAnimationFrame(t),e._scheduled=void 0)}});let TS,EF=1;const SC={};function OR(n){return n in SC&&(delete SC[n],!0)}const CF={setImmediate(n){const e=EF++;return SC[e]=!0,TS||(TS=Promise.resolve()),TS.then(()=>OR(e)&&n()),e},clearImmediate(n){OR(n)}},{setImmediate:IF,clearImmediate:DF}=CF,MC={setImmediate(...n){const{delegate:e}=MC;return(e?.setImmediate||IF)(...n)},clearImmediate(n){const{delegate:e}=MC;return(e?.clearImmediate||DF)(n)},delegate:void 0};new class AF extends kR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;e=e||r.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw o}}}(class TF extends RR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=MC.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(o=c[c.length-1])||void 0===o?void 0:o.id)!==t&&(MC.clearImmediate(t),e._scheduled=void 0)}});let AS,PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();try{AS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{AS=!1}let NR=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Hr(n){return n===Ni}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LR(n){return Array.isArray(n)?n:[n]}function BF(n){return(0,dr.e)((e,t)=>{(0,Mo.Xf)(n).subscribe((0,lr.x)(t,()=>t.complete(),d0.Z)),!t.closed&&e.subscribe(t)})}const VR=new Set;let Gg,jF=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):HF}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $F(n){if(!VR.has(n))try{Gg||(Gg=document.createElement("style"),Gg.setAttribute("type","text/css"),document.head.appendChild(Gg)),Gg.sheet&&(Gg.sheet.insertRule(`@media ${n} {body{ }}`,0),VR.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NR))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HF(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zF=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Vi.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return UR(LR(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let c=td(UR(LR(t)).map(d=>this._registerQuery(d).observable));return c=rs(c.pipe(Pn(1)),c.pipe(function VF(n){return ei((e,t)=>n<=t)}(1),function UF(n,e=Md.z){return(0,dr.e)((t,r)=>{let o=null,c=null,d=null;const g=()=>{if(o){o.unsubscribe(),o=null;const C=c;c=null,r.next(C)}};function y(){const C=d+n,T=e.now();if(T<C)return o=this.schedule(void 0,C-T),void r.add(o);g()}t.subscribe((0,lr.x)(r,C=>{c=C,d=e.now(),o||(o=e.schedule(y,n),r.add(o))},()=>{g(),r.complete()},void 0,()=>{c=o=null}))})}(0))),c.pipe((0,_t.U)(d=>{const g={matches:!1,breakpoints:{}};return d.forEach(({matches:y,query:C})=>{g.matches=g.matches||y,g.breakpoints[C]=y}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new Er.y(d=>{const g=y=>this._zone.run(()=>d.next(y));return r.addListener(g),()=>{r.removeListener(g)}}).pipe(Ro(r),(0,_t.U)(({matches:d})=>({query:t,matches:d})),BF(this._destroySubject)),mql:r};return this._queries.set(t,c),c}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jF),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UR(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const HR="cdk-high-contrast-black-on-white",zR="cdk-high-contrast-white-on-black",xS="cdk-high-contrast-active";let XF=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(zF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(xS,HR,zR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(xS,HR):2===r&&t.add(xS,zR)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NR),u.LFG(de))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const rL=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function nL(){return!0}});let Zg=(()=>{class n{constructor(t,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function RF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(XF),u.LFG(rL,8),u.LFG(de))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[GR,GR]}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zg,Zg]}),n})(),dL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[la,Zg,PR,PR,Zg]}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[cL,Zg,Zg]}),n})();const kS_firebase={projectId:"brightmoon-946fa",appId:"1:417038608079:web:22e02f1e13be4ad72c79ba",storageBucket:"brightmoon-946fa.appspot.com",apiKey:"AIzaSyATNfNOWQi3-hrcWJKKDHERXzmu1zz5OAo",authDomain:"brightmoon-946fa.firebaseapp.com",messagingSenderId:"417038608079",measurementId:"G-FX9LY81PMX"};var pL=N(655),OS=N(6148),nk=N(9934);function gL(n){return new Er.y(function(e){return{unsubscribe:(0,nk.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class RC{constructor(e){return e}}class ik{constructor(){return(0,Wt.vb)("auth")}}const PS=new u.OlP("angularfire2.auth-instances");function yL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new RC(r)}}const vL={provide:ik,deps:[[new u.FiY,PS]]},bL={provide:RC,useFactory:function _L(n,e){const t=(0,Wt.JM)("auth",n,e);return t&&new RC(t)},deps:[[new u.FiY,PS],Tc]};let wL=(()=>{class n{constructor(){(0,fs.KN)("angularfire",Wt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[bL,vL]}),n})();function EL(n,...e){return{ngModule:wL,providers:[{provide:PS,useFactory:yL(n),multi:!0,deps:[u.R0b,u.zs3,Wt.HU,$s,[new u.FiY,Gu],...e]}]}}const CL=(0,Wt.u3)(gL,!0),IL=(0,Wt.u3)(nk.n,!0);class ob{constructor(e){return e}}const ok="analytics",sk=Wt.nk.async,TL=(0,Wt.u3)(OS.IH,!0),AL=(0,Wt.u3)(OS.Kz,!0),SL=(0,Wt.u3)(OS.Iv,!0);let NS=(()=>{class n{constructor(t,r,o){let c;this.disposables=[],(0,fs.KN)("angularfire",Wt.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(d=>{c=d})),sk().then(()=>{const d=o.get(ob);d?this.disposables=[CL(t).subscribe(g=>{SL(d,g?.uid),c()})]:c()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(RC),u.LFG(u.R0b),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ak="firebase_screen_id",FS="outlet",sb="screen_class",ck="screen_name";let BL=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const LS={},jL=n=>{const e=[n[sb],n[FS]].join("#");if(LS.hasOwnProperty(e))return LS[e];{const t=BL++;return LS[e]=t,t}};let uk=(()=>{class n{constructor(t,r,o,c,d,g){(0,fs.KN)("angularfire",Wt.q4.full,"screen-tracking"),sk().then(()=>{const y=g.get(ob);!t||!y||c.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(ei(o=>o instanceof Dm)).pipe(yr(o=>{var c;const g=(null===(c=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,Y=>Y.replace("://",":///"))).root.children[o.snapshot.outlet])||void 0===c?void 0:c.toString())||"",y=n.routerState.root.children.map(Y=>Y).find(Y=>Y.outlet===o.snapshot.outlet);if(!y)return pt(null);let C=y;for(;C.firstChild;)C=C.firstChild;const T=C.pathFromRoot.map(Y=>{var se;return null===(se=Y.routeConfig)||void 0===se?void 0:se.path}).filter(Y=>Y).join("/")||"/",x={[ck]:T,page_path:`/${g}`,firebase_event_origin:"auto",firebase_screen:T,[FS]:o.snapshot.outlet};e&&(x.page_title=e.getTitle());let H=y.component;if(H){if(H===Ia){let Y=o.snapshot;for(;Y.firstChild;)Y=Y.firstChild;H=Y.component}}else H=o.snapshot.component;if("string"==typeof H)return pt(Object.assign(Object.assign({},x),{[sb]:H}));if(H){const Y=t.resolveComponentFactory(H);return pt(Object.assign(Object.assign({},x),{[sb]:Y.selector}))}return pt(null)}),ei(o=>!!o),(0,_t.U)(o=>Object.assign({firebase_screen_class:o[sb],[ak]:jL(o)},o)),function fL(n,e,t,r){return(0,dr.e)((o,c)=>{let d;e&&"function"!=typeof e?({duration:t,element:d,connector:r}=e):d=e;const g=new Map,y=se=>{g.forEach(se),se(c)},C=se=>y(Ne=>Ne.error(se));let T=0,x=!1;const H=new lr.Q(c,se=>{try{const Ne=n(se);let Ue=g.get(Ne);if(!Ue){g.set(Ne,Ue=r?r():new Vi.x);const St=function Y(se,Ne){const Ue=new Er.y(St=>{T++;const xt=Ne.subscribe(St);return()=>{xt.unsubscribe(),0==--T&&x&&H.unsubscribe()}});return Ue.key=se,Ue}(Ne,Ue);if(c.next(St),t){const xt=(0,lr.x)(Ue,()=>{Ue.complete(),xt?.unsubscribe()},void 0,void 0,()=>g.delete(Ne));H.add((0,Mo.Xf)(t(St)).subscribe(xt))}}Ue.next(d?d(se):se)}catch(Ne){C(Ne)}},()=>y(se=>se.complete()),C,()=>g.clear(),()=>(x=!0,0===T));o.subscribe(H)})}(o=>o[FS]),(0,Cr.z)(o=>o.pipe(Yd((c,d)=>JSON.stringify(c)===JSON.stringify(d)),Ro(void 0),Np(),(0,_t.U)(([c,d])=>c?Object.assign({firebase_previous_class:c[sb],firebase_previous_screen:c[ck],firebase_previous_id:c[ak]},d):d)))))(t,r,o).pipe(yr(C=>(0,pL.mG)(this,void 0,void 0,function*(){return d&&(yield d.initialized),AL(y,"screen_view",C)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qn,8),u.LFG(Ao,8),u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(NS,8),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const VS=new u.OlP("angularfire2.analytics-instances");function zL(n){return(e,t)=>{if(!Wt.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new ob(r)}}const GL={provide:class DL{constructor(){return(0,Wt.vb)(ok)}},deps:[[new u.FiY,VS]]},ZL={provide:ob,useFactory:function HL(n,e){if(!Wt.nk.sync())return null;const t=(0,Wt.JM)(ok,n,e);return t&&new ob(t)},deps:[[new u.FiY,VS],Tc]};let WL=(()=>{class n{constructor(t,r){(0,fs.KN)("angularfire",Wt.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uk,8),u.LFG(NS,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ZL,GL,{provide:u.ip1,useValue:Wt.nk.async,multi:!0}]}),n})();function qL(n,...e){return{ngModule:WL,providers:[{provide:VS,useFactory:zL(n),multi:!0,deps:[u.R0b,u.zs3,Wt.HU,$s,...e]}]}}class US{constructor(e){return e}}const lk="firestore",BS=new u.OlP("angularfire2.firestore-instances");function QL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new US(r)}}const JL={provide:class KL{constructor(){return(0,Wt.vb)(lk)}},deps:[[new u.FiY,BS]]},XL={provide:US,useFactory:function YL(n,e){const t=(0,Wt.JM)(lk,n,e);return t&&new US(t)},deps:[[new u.FiY,BS],Tc]};let eV=(()=>{class n{constructor(){(0,fs.KN)("angularfire",Wt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[XL,JL]}),n})();function tV(n,...e){return{ngModule:eV,providers:[{provide:BS,useFactory:QL(n),multi:!0,deps:[u.R0b,u.zs3,Wt.HU,$s,[new u.FiY,ik],[new u.FiY,Gu],...e]}]}}const nV=(0,Wt.u3)(BP,!0);let rV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),iV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[yF]}),n.\u0275inj=u.cJS({providers:[uk,NS],imports:[pa,uo.hO.initializeApp(kS_firebase),_F,rV,dL,hL,xI(()=>kI(kS_firebase)),qL(()=>TL()),EL(()=>IL()),tV(()=>nV()),Qu]}),n})();(0,u.G48)(),oc().bootstrapModule(iV).catch(n=>console.error(n))},6148:(gt,Re,N)=>{N.d(Re,{IH:()=>ur,Gb:()=>_r,Kz:()=>yt,Iv:()=>Dn});var u=N(5861),B=N(9681),P=N(1877),ne=N(2090),ge=N(4859);N(2833);const de="analytics",pe="firebase_id",z="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q="https://www.googletagmanager.com/gtag/js",Oe=new P.Yd("@firebase/analytics");function De(O){return Promise.all(O.map(R=>R.catch(D=>D)))}function Te(O,R){const D=document.createElement("script");D.src=`${Q}?l=${O}&id=${R}`,D.async=!0,document.head.appendChild(D)}function be(O,R,D,k,$,ce){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(O,R,D,k,$,ce){const Le=k[$];try{if(Le)yield R[Le];else{const me=(yield De(D)).find(xe=>xe.measurementId===$);me&&(yield R[me.appId])}}catch(Ze){Oe.error(Ze)}O("config",$,ce)})).apply(this,arguments)}function ot(O,R,D,k,$){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(function*(O,R,D,k,$){try{let ce=[];if($&&$.send_to){let Le=$.send_to;Array.isArray(Le)||(Le=[Le]);const Ze=yield De(D);for(const me of Le){const xe=Ze.find(Gt=>Gt.measurementId===me),ct=xe&&R[xe.appId];if(!ct){ce=[];break}ce.push(ct)}}0===ce.length&&(ce=Object.values(R)),yield Promise.all(ce),O("event",k,$||{})}catch(ce){Oe.error(ce)}})).apply(this,arguments)}function Ce(O){const R=window.document.getElementsByTagName("script");for(const D of Object.values(R))if(D.src&&D.src.includes(Q)&&D.src.includes(O))return D;return null}const te=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),X=new class J{constructor(R={},D=1e3){this.throttleMetadata=R,this.intervalMillis=D}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,D){this.throttleMetadata[R]=D}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function he(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function oe(O){return He.apply(this,arguments)}function He(){return(He=(0,u.Z)(function*(O){var R;const{appId:D,apiKey:k}=O,$={method:"GET",headers:he(k)},ce=z.replace("{app-id}",D),Le=yield fetch(ce,$);if(200!==Le.status&&304!==Le.status){let Ze="";try{const me=yield Le.json();null!==(R=me.error)&&void 0!==R&&R.message&&(Ze=me.error.message)}catch{}throw te.create("config-fetch-failed",{httpStatus:Le.status,responseMessage:Ze})}return Le.json()})).apply(this,arguments)}function je(O){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(O,R=X,D){const{appId:k,apiKey:$,measurementId:ce}=O.options;if(!k)throw te.create("no-app-id");if(!$){if(ce)return{measurementId:ce,appId:k};throw te.create("no-api-key")}const Le=R.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Nn;return setTimeout((0,u.Z)(function*(){Ze.abort()}),void 0!==D?D:6e4),Xt({appId:k,apiKey:$,measurementId:ce},Le,Ze,R)})).apply(this,arguments)}function Xt(O,R,D){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(O,{throttleEndTimeMillis:R,backoffCount:D},k,$=X){var ce,Le;const{appId:Ze,measurementId:me}=O;try{yield qe(k,R)}catch(xe){if(me)return Oe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${null===(ce=xe)||void 0===ce?void 0:ce.message}]`),{appId:Ze,measurementId:me};throw xe}try{const xe=yield oe(O);return $.deleteThrottleMetadata(Ze),xe}catch(xe){const ct=xe;if(!ln(ct)){if($.deleteThrottleMetadata(Ze),me)return Oe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Ze,measurementId:me};throw xe}const Gt=503===Number(null===(Le=ct?.customData)||void 0===Le?void 0:Le.httpStatus)?(0,ne.$s)(D,$.intervalMillis,30):(0,ne.$s)(D,$.intervalMillis),It={throttleEndTimeMillis:Date.now()+Gt,backoffCount:D+1};return $.setThrottleMetadata(Ze,It),Oe.debug(`Calling attemptFetch again in ${Gt} millis`),Xt(O,It,k,$)}})).apply(this,arguments)}function qe(O,R){return new Promise((D,k)=>{const $=Math.max(R-Date.now(),0),ce=setTimeout(D,$);O.addEventListener(()=>{clearTimeout(ce),k(te.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function ln(O){if(!(O instanceof ne.ZR&&O.customData))return!1;const R=Number(O.customData.httpStatus);return 429===R||500===R||503===R||504===R}class Nn{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let an,$n;function Ut(){return(Ut=(0,u.Z)(function*(O,R,D,k,$){if($&&$.global)O("event",D,k);else{const ce=yield R;O("event",D,Object.assign(Object.assign({},k),{send_to:ce}))}})).apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(O,R,D,k){if(k&&k.global)return O("set",{user_id:D}),Promise.resolve();O("config",yield R,{update:!0,user_id:D})})).apply(this,arguments)}function mr(O){$n=O}function $r(O){an=O}function et(){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(){var O;if(!(0,ne.hl)())return Oe.warn(te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(R){return Oe.warn(te.create("indexeddb-unavailable",{errorInfo:null===(O=R)||void 0===O?void 0:O.toString()}).message),!1}return!0})).apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(O,R,D,k,$,ce,Le){var Ze;const me=je(O);me.then(Bt=>{D[Bt.measurementId]=Bt.appId,O.options.measurementId&&Bt.measurementId!==O.options.measurementId&&Oe.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${Bt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bt=>Oe.error(Bt)),R.push(me);const xe=et().then(Bt=>{if(Bt)return k.getId()}),[ct,Gt]=yield Promise.all([me,xe]);Ce(ce)||Te(ce,ct.measurementId),$n&&($("consent","default",$n),mr(void 0)),$("js",new Date);const It=null!==(Ze=Le?.config)&&void 0!==Ze?Ze:{};return It.origin="firebase",It.update=!0,null!=Gt&&(It[pe]=Gt),$("config",ct.measurementId,It),an&&($("set",an),$r(void 0)),ct.measurementId})).apply(this,arguments)}class tr{constructor(R){this.app=R}_delete(){return delete vr[this.app.options.appId],Promise.resolve()}}let vr={},yn=[];const vn={};let lt,ht,rn="dataLayer",bn=!1;function Dt(O,R,D){!function rr(){const O=[];if((0,ne.ru)()&&O.push("This is a browser extension environment."),(0,ne.zI)()||O.push("Cookies are not available."),O.length>0){const R=O.map((k,$)=>`(${$+1}) ${k}`).join(" "),D=te.create("invalid-analytics-context",{errorInfo:R});Oe.warn(D.message)}}();const k=O.options.appId;if(!k)throw te.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw te.create("no-api-key");Oe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vr[k])throw te.create("already-exists",{id:k});if(!bn){!function Je(O){let R=[];Array.isArray(window[O])?R=window[O]:window[O]=R}(rn);const{wrappedGtag:ce,gtagCore:Le}=function Pe(O,R,D,k,$){let ce=function(...Le){window[k].push(arguments)};return window[$]&&"function"==typeof window[$]&&(ce=window[$]),window[$]=function Fe(O,R,D,k){function ce(){return(ce=(0,u.Z)(function*(Le,Ze,me){try{"event"===Le?yield ot(O,R,D,Ze,me):"config"===Le?yield be(O,R,D,k,Ze,me):"consent"===Le?O("consent","update",me):O("set",Ze)}catch(xe){Oe.error(xe)}})).apply(this,arguments)}return function $(Le,Ze,me){return ce.apply(this,arguments)}}(ce,O,R,D),{gtagCore:ce,wrappedGtag:window[$]}}(vr,yn,vn,rn,"gtag");ht=ce,lt=Le,bn=!0}return vr[k]=function Fn(O,R,D,k,$,ce,Le){return dn.apply(this,arguments)}(O,yn,vn,R,lt,rn,D),new tr(O)}function ur(O=(0,B.getApp)()){O=(0,ne.m9)(O);const R=(0,B._getProvider)(O,de);return R.isInitialized()?R.getImmediate():function kt(O,R={}){const D=(0,B._getProvider)(O,de);if(D.isInitialized()){const $=D.getImmediate();if((0,ne.vZ)(R,D.getOptions()))return $;throw te.create("already-initialized")}return D.initialize({options:R})}(O)}function _r(){return jt.apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}function Dn(O,R,D){O=(0,ne.m9)(O),function kr(O,R,D,k){return jr.apply(this,arguments)}(ht,vr[O.app.options.appId],R,D).catch(k=>Oe.error(k))}function yt(O,R,D,k){O=(0,ne.m9)(O),function en(O,R,D,k,$){return Ut.apply(this,arguments)}(ht,vr[O.app.options.appId],R,D,k).catch($=>Oe.error($))}const Ht="@firebase/analytics",G="0.8.2";!function j(){(0,B._registerComponent)(new ge.wA(de,(R,{options:D})=>Dt(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),D),"PUBLIC")),(0,B._registerComponent)(new ge.wA("analytics-internal",function O(R){try{const D=R.getProvider(de).getImmediate();return{logEvent:(k,$,ce)=>yt(D,k,$,ce)}}catch(D){throw te.create("interop-component-reg-failed",{reason:D})}},"PRIVATE")),(0,B.registerVersion)(Ht,G),(0,B.registerVersion)(Ht,G,"esm2017")}()},5867:(gt,Re,N)=>{N.d(Re,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=N(9681);(0,u.registerVersion)("firebase","9.12.0","app")},127:(gt,Re,N)=>{N.d(Re,{Z:()=>u.Z});var u=N(3942);u.Z.registerVersion("firebase","9.12.0","app-compat")},5881:(gt,Re,N)=>{N.r(Re);var u=N(5861),B=N(3942),P=N(9934),ne=N(2090),de=(N(9681),N(1877),N(4859));function pe(){return window}function z(){return(z=(0,u.Z)(function*(R,D,k){var $;const{BuildInfo:ce}=pe();(0,P.aq)(D.sessionId,"AuthEvent did not contain a session ID");const Le=yield le(D.sessionId),Ze={};return(0,P.ar)()?Ze.ibi=ce.packageName:(0,P.as)()?Ze.apn=ce.packageName:(0,P.at)(R,"operation-not-supported-in-this-environment"),ce.displayName&&(Ze.appDisplayName=ce.displayName),Ze.sessionId=Le,(0,P.au)(R,k,D.type,void 0,null!==($=D.eventId)&&void 0!==$?$:void 0,Ze)})).apply(this,arguments)}function Oe(){return(Oe=(0,u.Z)(function*(R){const{BuildInfo:D}=pe(),k={};(0,P.ar)()?k.iosBundleId=D.packageName:(0,P.as)()?k.androidPackageName=D.packageName:(0,P.at)(R,"operation-not-supported-in-this-environment"),yield(0,P.av)(R,k)})).apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(R,D,k){const{cordova:$}=pe();let ce=()=>{};try{yield new Promise((Le,Ze)=>{let me=null;function xe(){var It;Le();const Bt=null===(It=$.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof Bt&&Bt(),"function"==typeof k?.close&&k.close()}function ct(){me||(me=window.setTimeout(()=>{Ze((0,P.aw)(R,"redirect-cancelled-by-user"))},2e3))}function Gt(){"visible"===document?.visibilityState&&ct()}D.addPassiveListener(xe),document.addEventListener("resume",ct,!1),(0,P.as)()&&document.addEventListener("visibilitychange",Gt,!1),ce=()=>{D.removePassiveListener(xe),document.removeEventListener("resume",ct,!1),document.removeEventListener("visibilitychange",Gt,!1),me&&window.clearTimeout(me)}})}finally{ce()}})).apply(this,arguments)}function le(R){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(R){const D=Ye(R),k=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(k)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ye(R){if((0,P.aq)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(R);const D=new ArrayBuffer(R.length),k=new Uint8Array(D);for(let $=0;$<R.length;$++)k[$]=R.charCodeAt($);return k}class Pe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(D)),super.onEvent(D)}initialized(){var D=this;return(0,u.Z)(function*(){yield D.initPromise})()}}function te(R){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.Z)(function*(R){const D=yield X()._get(he(R));return D&&(yield X()._remove(he(R))),D})).apply(this,arguments)}function J(){const R=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const $=Math.floor(Math.random()*D.length);R.push(D.charAt($))}return R.join("")}function X(){return(0,P.ay)(P.b)}function he(R){return(0,P.az)("authEvent",R.config.apiKey,R.name)}function je(R){if(!R?.includes("?"))return{};const[D,...k]=R.split("?");return(0,ne.zd)(k.join("?"))}function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Ut(){var R;return(null===(R=self?.location)||void 0===R?void 0:R.protocol)||null}function In(R=(0,ne.z$)()){return!("file:"!==Ut()&&"ionic:"!==Ut()&&"capacitor:"!==Ut()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function Or(){try{const R=self.localStorage,D=P.aI();if(R)return R.setItem(D,"1"),R.removeItem(D),!function er(R=(0,ne.z$)()){return function jr(){return(0,ne.w1)()&&11===document?.documentMode}()||function kn(R=(0,ne.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,ne.hl)()}catch{return jn()&&(0,ne.hl)()}return!1}function jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function Et(){return"http:"===Ut()||"https:"===Ut()}()||(0,ne.ru)()||In())&&!function kr(){return(0,ne.b$)()||(0,ne.UG)()}()&&Or()&&!jn()}function mr(){return In()&&typeof document<"u"}function et(){return(et=(0,u.Z)(function*(){return!!mr()&&new Promise(R=>{const D=setTimeout(()=>{R(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(D),R(!0)})})})).apply(this,arguments)}const Fn={LOCAL:"local",NONE:"none",SESSION:"session"},dn=P.ax,tr="persistence";function yn(R){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(R){yield R._initializationPromise;const D=dt(),k=P.az(tr,R.config.apiKey,R.name);D&&D.setItem(k,R._getPersistence())})).apply(this,arguments)}function dt(){var R;try{return(null===(R=function fn(){return typeof window<"u"?window:null}())||void 0===R?void 0:R.sessionStorage)||null}catch{return null}}const lt=P.ax;class ht{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class Xt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(D){var k=this;return(0,u.Z)(function*(){const $=D._key();let ce=k.eventManagers.get($);return ce||(ce=new Pe(D),k.eventManagers.set($,ce),k.attachCallbackListeners(D,ce)),ce})()}_openPopup(D){(0,P.at)(D,"operation-not-supported-in-this-environment")}_openRedirect(D,k,$,ce){var Le=this;return(0,u.Z)(function*(){!function be(R){var D,k,$,ce,Le,Ze,me,xe,ct,Gt;const It=pe();(0,P.ax)("function"==typeof(null===(D=It?.universalLinks)||void 0===D?void 0:D.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(k=It?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Le=null===(ce=null===($=It?.cordova)||void 0===$?void 0:$.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Le?void 0:Le.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(xe=null===(me=null===(Ze=It?.cordova)||void 0===Ze?void 0:Ze.plugins)||void 0===me?void 0:me.browsertab)||void 0===xe?void 0:xe.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Gt=null===(ct=It?.cordova)||void 0===ct?void 0:ct.InAppBrowser)||void 0===Gt?void 0:Gt.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const Ze=yield Le._initialize(D);yield Ze.initialized(),Ze.resetRedirect(),(0,P.aD)(),yield Le._originValidation(D);const me=function Ce(R,D,k=null){return{type:D,eventId:k,urlResponse:null,sessionId:J(),postBody:null,tenantId:R.tenantId,error:(0,P.aw)(R,"no-auth-event")}}(D,$,ce);yield function Ke(R,D){return X()._set(he(R),D)}(D,me);const xe=yield function W(R,D,k){return z.apply(this,arguments)}(D,me,k),ct=yield function De(R){const{cordova:D}=pe();return new Promise(k=>{D.plugins.browsertab.isAvailable($=>{let ce=null;$?D.plugins.browsertab.openUrl(R):ce=D.InAppBrowser.open(R,(0,P.ap)()?"_blank":"_system","location=yes"),k(ce)})})}(xe);return function Te(R,D,k){return Je.apply(this,arguments)}(D,Ze,ct)})()}_isIframeWebStorageSupported(D,k){throw new Error("Method not implemented.")}_originValidation(D){const k=D._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Q(R){return Oe.apply(this,arguments)}(D)),this.originValidationPromises[k]}attachCallbackListeners(D,k){const{universalLinks:$,handleOpenURL:ce,BuildInfo:Le}=pe(),Ze=setTimeout((0,u.Z)(function*(){yield te(D),k.onEvent(qe())}),500),me=function(){var Gt=(0,u.Z)(function*(It){clearTimeout(Ze);const Bt=yield te(D);let Xr=null;Bt&&It?.url&&(Xr=function we(R,D){var k,$;const ce=function He(R){const D=je(R),k=D.link?decodeURIComponent(D.link):void 0,$=je(k).link,ce=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return je(ce).link||ce||$||k||R}(D);if(ce.includes("/__/auth/callback")){const Le=je(ce),Ze=Le.firebaseError?function oe(R){try{return JSON.parse(R)}catch{return null}}(decodeURIComponent(Le.firebaseError)):null,me=null===($=null===(k=Ze?.code)||void 0===k?void 0:k.split("auth/"))||void 0===$?void 0:$[1],xe=me?(0,P.aw)(me):null;return xe?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:ce,postBody:null}}return null}(Bt,It.url)),k.onEvent(Xr||qe())});return function(Bt){return Gt.apply(this,arguments)}}();typeof $<"u"&&"function"==typeof $.subscribe&&$.subscribe(null,me);const xe=ce,ct=`${Le.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Gt=(0,u.Z)(function*(It){if(It.toLowerCase().startsWith(ct)&&me({url:It}),"function"==typeof xe)try{xe(It)}catch(Bt){console.error(Bt)}});return function(It){return Gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(D){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,k,$,ce){var Le=this;return(0,u.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openPopup(D,k,$,ce)})()}_openRedirect(D,k,$,ce){var Le=this;return(0,u.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openRedirect(D,k,$,ce)})()}_isIframeWebStorageSupported(D,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,k)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,u.Z)(function*(){if(D.underlyingResolver)return;const k=yield function $r(){return et.apply(this,arguments)}();D.underlyingResolver=k?D.cordovaResolver:D.browserResolver})()}}function bn(R){return R.unwrap()}function rr(R){return ur(R)}function ur(R){const{_tokenResponse:D}=R instanceof ne.ZR?R.customData:R;if(!D)return null;if(!(R instanceof ne.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return P.P.credentialFromResult(R);const k=D.providerId;if(!k||k===P.o.PASSWORD)return null;let $;switch(k){case P.o.GOOGLE:$=P.Q;break;case P.o.FACEBOOK:$=P.N;break;case P.o.GITHUB:$=P.T;break;case P.o.TWITTER:$=P.W;break;default:const{oauthIdToken:ce,oauthAccessToken:Le,oauthTokenSecret:Ze,pendingToken:me,nonce:xe}=D;return Le||Ze||ce||me?me?k.startsWith("saml.")?P.aL._create(k,me):P.J._fromParams({providerId:k,signInMethod:k,pendingToken:me,idToken:ce,accessToken:Le}):new P.U(k).credential({idToken:ce,accessToken:Le,rawNonce:xe}):null}return R instanceof ne.ZR?$.credentialFromError(R):$.credentialFromResult(R)}function kt(R,D){return D.catch(k=>{throw k instanceof ne.ZR&&function Dt(R,D){var k,$;const ce=null===(k=D.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null===($=D)||void 0===$?void 0:$.code))D.resolver=new Zn(R,P.an(R,D));else if(ce){const Le=ur(D),Ze=D;Le&&(Ze.credential=Le,Ze.tenantId=ce.tenantId||void 0,Ze.email=ce.email||void 0,Ze.phoneNumber=ce.phoneNumber||void 0)}}(R,k),k}).then(k=>{const ce=k.user;return{operationType:k.operationType,credential:rr(k),additionalUserInfo:P.al(k),user:Dn.getOrCreate(ce)}})}function _r(R,D){return jt.apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(R,D){const k=yield D;return{verificationId:k.verificationId,confirm:$=>kt(R,k.confirm($))}})).apply(this,arguments)}class Zn{constructor(D,k){this.resolver=k,this.auth=function nr(R){return R.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return kt(bn(this.auth),this.resolver.resolveSignIn(D))}}class Dn{constructor(D){this._delegate=D,this.multiFactor=P.ao(D)}static getOrCreate(D){return Dn.USER_MAP.has(D)||Dn.USER_MAP.set(D,new Dn(D)),Dn.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var k=this;return(0,u.Z)(function*(){return kt(k.auth,P.Z(k._delegate,D))})()}linkWithPhoneNumber(D,k){var $=this;return(0,u.Z)(function*(){return _r($.auth,P.l($._delegate,D,k))})()}linkWithPopup(D){var k=this;return(0,u.Z)(function*(){return kt(k.auth,P.d(k._delegate,D,ht))})()}linkWithRedirect(D){var k=this;return(0,u.Z)(function*(){return yield yn(P.aE(k.auth)),P.g(k._delegate,D,ht)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var k=this;return(0,u.Z)(function*(){return kt(k.auth,P._(k._delegate,D))})()}reauthenticateWithPhoneNumber(D,k){return _r(this.auth,P.r(this._delegate,D,k))}reauthenticateWithPopup(D){return kt(this.auth,P.e(this._delegate,D,ht))}reauthenticateWithRedirect(D){var k=this;return(0,u.Z)(function*(){return yield yn(P.aE(k.auth)),P.h(k._delegate,D,ht)})()}sendEmailVerification(D){return P.ab(this._delegate,D)}unlink(D){var k=this;return(0,u.Z)(function*(){return yield P.ak(k._delegate,D),k})()}updateEmail(D){return P.ag(this._delegate,D)}updatePassword(D){return P.ah(this._delegate,D)}updatePhoneNumber(D){return P.u(this._delegate,D)}updateProfile(D){return P.af(this._delegate,D)}verifyBeforeUpdateEmail(D,k){return P.ac(this._delegate,D,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dn.USER_MAP=new WeakMap;const Xe=P.ax;let Me=(()=>{class R{constructor(k,$){if(this.app=k,$.isInitialized())return this._delegate=$.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=k.options;Xe(ce,"invalid-api-key",{appName:k.name}),Xe(ce,"invalid-api-key",{appName:k.name});const Le=typeof window<"u"?ht:void 0;this._delegate=$.initialize({options:{persistence:yt(ce,k.name),popupRedirectResolver:Le}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,$){P.G(this._delegate,k,$)}applyActionCode(k){return P.a2(this._delegate,k)}checkActionCode(k){return P.a3(this._delegate,k)}confirmPasswordReset(k,$){return P.a1(this._delegate,k,$)}createUserWithEmailAndPassword(k,$){var ce=this;return(0,u.Z)(function*(){return kt(ce._delegate,P.a5(ce._delegate,k,$))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.aa(this._delegate,k)}isSignInWithEmailLink(k){return P.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,u.Z)(function*(){Xe($n(),k._delegate,"operation-not-supported-in-this-environment");const $=yield P.j(k._delegate,ht);return $?kt(k._delegate,Promise.resolve($)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function ln(R,D){(0,P.aE)(R)._logFramework(D)}(this._delegate,k)}onAuthStateChanged(k,$,ce){const{next:Le,error:Ze,complete:me}=rt(k,$,ce);return this._delegate.onAuthStateChanged(Le,Ze,me)}onIdTokenChanged(k,$,ce){const{next:Le,error:Ze,complete:me}=rt(k,$,ce);return this._delegate.onIdTokenChanged(Le,Ze,me)}sendSignInLinkToEmail(k,$){return P.a7(this._delegate,k,$)}sendPasswordResetEmail(k,$){return P.a0(this._delegate,k,$||void 0)}setPersistence(k){var $=this;return(0,u.Z)(function*(){let ce;switch(function vr(R,D){dn(Object.values(Fn).includes(D),R,"invalid-persistence-type"),(0,ne.b$)()?dn(D!==Fn.SESSION,R,"unsupported-persistence-type"):(0,ne.UG)()?dn(D===Fn.NONE,R,"unsupported-persistence-type"):jn()?dn(D===Fn.NONE||D===Fn.LOCAL&&(0,ne.hl)(),R,"unsupported-persistence-type"):dn(D===Fn.NONE||Or(),R,"unsupported-persistence-type")}($._delegate,k),k){case Fn.SESSION:ce=P.a;break;case Fn.LOCAL:ce=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case Fn.NONE:ce=P.L;break;default:return P.at("argument-error",{appName:$._delegate.name})}return $._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return kt(this._delegate,P.X(this._delegate))}signInWithCredential(k){return kt(this._delegate,P.Y(this._delegate,k))}signInWithCustomToken(k){return kt(this._delegate,P.$(this._delegate,k))}signInWithEmailAndPassword(k,$){return kt(this._delegate,P.a6(this._delegate,k,$))}signInWithEmailLink(k,$){return kt(this._delegate,P.a9(this._delegate,k,$))}signInWithPhoneNumber(k,$){return _r(this._delegate,P.s(this._delegate,k,$))}signInWithPopup(k){var $=this;return(0,u.Z)(function*(){return Xe($n(),$._delegate,"operation-not-supported-in-this-environment"),kt($._delegate,P.c($._delegate,k,ht))})()}signInWithRedirect(k){var $=this;return(0,u.Z)(function*(){return Xe($n(),$._delegate,"operation-not-supported-in-this-environment"),yield yn($._delegate),P.f($._delegate,k,ht)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=Fn,R})();function rt(R,D,k){let $=R;"function"!=typeof R&&({next:$,error:D,complete:k}=R);const ce=$;return{next:Ze=>ce(Ze&&Dn.getOrCreate(Ze)),error:D,complete:k}}function yt(R,D){const k=function rn(R,D){const k=dt();if(!k)return[];const $=P.az(tr,R,D);switch(k.getItem($)){case Fn.NONE:return[P.L];case Fn.LOCAL:return[P.i,P.a];case Fn.SESSION:return[P.a];default:return[]}}(R,D);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const $ of[P.b,P.a])k.includes($)||k.push($);return k.includes(P.L)||k.push(P.L),k}class Ct{constructor(){this.providerId="phone",this._delegate=new P.P(bn(B.Z.auth()))}static credential(D,k){return P.P.credential(D,k)}verifyPhoneNumber(D,k){return this._delegate.verifyPhoneNumber(D,k)}unwrap(){return this._delegate}}Ct.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ct.PROVIDER_ID=P.P.PROVIDER_ID;const Ht=P.ax;class G{constructor(D,k,$=B.Z.app()){var ce;Ht(null===(ce=$.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:$.name}),this._delegate=new P.R(D,k,$.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function O(R){R.INTERNAL.registerComponent(new de.wA("auth-compat",D=>{const k=D.getProvider("app-compat").getImmediate(),$=D.getProvider("auth");return new Me(k,$)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:Ct,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:G,TwitterAuthProvider:P.W,Auth:Me,AuthCredential:P.H,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.2.22")}(B.Z)},9751:(gt,Re,N)=>{N.d(Re,{y:()=>pe});var u=N(930),B=N(727),P=N(8822),ne=N(9635),ge=N(2416),ve=N(576),de=N(2806);let pe=(()=>{class Q{constructor(De){De&&(this._subscribe=De)}lift(De){const Te=new Q;return Te.source=this,Te.operator=De,Te}subscribe(De,Te,Je){const be=function z(Q){return Q&&Q instanceof u.Lv||function W(Q){return Q&&(0,ve.m)(Q.next)&&(0,ve.m)(Q.error)&&(0,ve.m)(Q.complete)}(Q)&&(0,B.Nn)(Q)}(De)?De:new u.Hp(De,Te,Je);return(0,de.x)(()=>{const{operator:le,source:ot}=this;be.add(le?le.call(be,ot):ot?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(De){try{return this._subscribe(De)}catch(Te){De.error(Te)}}forEach(De,Te){return new(Te=ye(Te))((Je,be)=>{const le=new u.Hp({next:ot=>{try{De(ot)}catch(Ye){be(Ye),le.unsubscribe()}},error:be,complete:Je});this.subscribe(le)})}_subscribe(De){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(De)}[P.L](){return this}pipe(...De){return(0,ne.U)(De)(this)}toPromise(De){return new(De=ye(De))((Te,Je)=>{let be;this.subscribe(le=>be=le,le=>Je(le),()=>Te(be))})}}return Q.create=Oe=>new Q(Oe),Q})();function ye(Q){var Oe;return null!==(Oe=Q??ge.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(gt,Re,N)=>{N.d(Re,{x:()=>de});var u=N(9751),B=N(727);const ne=(0,N(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=N(8737),ve=N(2806);let de=(()=>{class ye extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Q=new pe(this,this);return Q.operator=z,Q}_throwIfClosed(){if(this.closed)throw new ne}next(z){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(z)}})}error(z){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Q}=this;for(;Q.length;)Q.shift().error(z)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Q,isStopped:Oe,observers:De}=this;return Q||Oe?B.Lc:(this.currentObservers=null,De.push(z),new B.w0(()=>{this.currentObservers=null,(0,ge.P)(De,z)}))}_checkFinalizedStatuses(z){const{hasError:Q,thrownError:Oe,isStopped:De}=this;Q?z.error(Oe):De&&z.complete()}asObservable(){const z=new u.y;return z.source=this,z}}return ye.create=(W,z)=>new pe(W,z),ye})();class pe extends de{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Q||Q.call(z,W)}error(W){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Q||Q.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,Q;return null!==(Q=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==Q?Q:B.Lc}}},930:(gt,Re,N)=>{N.d(Re,{Hp:()=>Je,Lv:()=>Q});var u=N(576),B=N(727),P=N(2416),ne=N(7849),ge=N(5032);const ve=ye("C",void 0,void 0);function ye(Fe,Pe,Ce){return{kind:Fe,value:Pe,error:Ce}}var W=N(3410),z=N(2806);class Q extends B.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,B.Nn)(Pe)&&Pe.add(this)):this.destination=Ye}static create(Pe,Ce,Ke){return new Je(Pe,Ce,Ke)}next(Pe){this.isStopped?ot(function pe(Fe){return ye("N",Fe,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?ot(function de(Fe){return ye("E",void 0,Fe)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?ot(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function De(Fe,Pe){return Oe.call(Fe,Pe)}class Te{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Pe)}catch(Ke){be(Ke)}}error(Pe){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Pe)}catch(Ke){be(Ke)}else be(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ce){be(Ce)}}}class Je extends Q{constructor(Pe,Ce,Ke){let te;if(super(),(0,u.m)(Pe)||!Pe)te={next:Pe??void 0,error:Ce??void 0,complete:Ke??void 0};else{let ae;this&&P.v.useDeprecatedNextContext?(ae=Object.create(Pe),ae.unsubscribe=()=>this.unsubscribe(),te={next:Pe.next&&De(Pe.next,ae),error:Pe.error&&De(Pe.error,ae),complete:Pe.complete&&De(Pe.complete,ae)}):te=Pe}this.destination=new Te(te)}}function be(Fe){P.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Fe):(0,ne.h)(Fe)}function ot(Fe,Pe){const{onStoppedNotification:Ce}=P.v;Ce&&W.z.setTimeout(()=>Ce(Fe,Pe))}const Ye={closed:!0,next:ge.Z,error:function le(Fe){throw Fe},complete:ge.Z}},727:(gt,Re,N)=>{N.d(Re,{Lc:()=>ve,w0:()=>ge,Nn:()=>de});var u=N(576);const P=(0,N(3888).d)(ye=>function(z){ye(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Q,Oe)=>`${Oe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ne=N(8737);class ge{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const De of z)De.remove(this);else z.remove(this);const{initialTeardown:Q}=this;if((0,u.m)(Q))try{Q()}catch(De){W=De instanceof P?De.errors:[De]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const De of Oe)try{pe(De)}catch(Te){W=W??[],Te instanceof P?W=[...W,...Te.errors]:W.push(Te)}}if(W)throw new P(W)}}add(W){var z;if(W&&W!==this)if(this.closed)pe(W);else{if(W instanceof ge){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,ne.P)(z,W)}remove(W){const{_finalizers:z}=this;z&&(0,ne.P)(z,W),W instanceof ge&&W._removeParent(this)}}ge.EMPTY=(()=>{const ye=new ge;return ye.closed=!0,ye})();const ve=ge.EMPTY;function de(ye){return ye instanceof ge||ye&&"closed"in ye&&(0,u.m)(ye.remove)&&(0,u.m)(ye.add)&&(0,u.m)(ye.unsubscribe)}function pe(ye){(0,u.m)(ye)?ye():ye.unsubscribe()}},2416:(gt,Re,N)=>{N.d(Re,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,Re,N)=>{N.d(Re,{E:()=>B});const B=new(N(9751).y)(ge=>ge.complete())},8996:(gt,Re,N)=>{N.d(Re,{D:()=>Pe});var u=N(8421),B=N(5363),P=N(9468),ve=N(9751),pe=N(2202),ye=N(576),W=N(9672);function Q(Ce,Ke){if(!Ce)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,W.f)(te,Ke,()=>{const ae=Ce[Symbol.asyncIterator]();(0,W.f)(te,Ke,()=>{ae.next().then(we=>{we.done?te.complete():te.next(we.value)})},0,!0)})})}var Oe=N(3670),De=N(8239),Te=N(1144),Je=N(6495),be=N(2206),le=N(4532),ot=N(3260);function Pe(Ce,Ke){return Ke?function Fe(Ce,Ke){if(null!=Ce){if((0,Oe.c)(Ce))return function ne(Ce,Ke){return(0,u.Xf)(Ce).pipe((0,P.R)(Ke),(0,B.Q)(Ke))}(Ce,Ke);if((0,Te.z)(Ce))return function de(Ce,Ke){return new ve.y(te=>{let ae=0;return Ke.schedule(function(){ae===Ce.length?te.complete():(te.next(Ce[ae++]),te.closed||this.schedule())})})}(Ce,Ke);if((0,De.t)(Ce))return function ge(Ce,Ke){return(0,u.Xf)(Ce).pipe((0,P.R)(Ke),(0,B.Q)(Ke))}(Ce,Ke);if((0,be.D)(Ce))return Q(Ce,Ke);if((0,Je.T)(Ce))return function z(Ce,Ke){return new ve.y(te=>{let ae;return(0,W.f)(te,Ke,()=>{ae=Ce[pe.h](),(0,W.f)(te,Ke,()=>{let we,J;try{({value:we,done:J}=ae.next())}catch(X){return void te.error(X)}J?te.complete():te.next(we)},0,!0)}),()=>(0,ye.m)(ae?.return)&&ae.return()})}(Ce,Ke);if((0,ot.L)(Ce))return function Ye(Ce,Ke){return Q((0,ot.Q)(Ce),Ke)}(Ce,Ke)}throw(0,le.z)(Ce)}(Ce,Ke):(0,u.Xf)(Ce)}},8421:(gt,Re,N)=>{N.d(Re,{Xf:()=>Oe});var u=N(655),B=N(1144),P=N(8239),ne=N(9751),ge=N(3670),ve=N(2206),de=N(4532),pe=N(6495),ye=N(3260),W=N(576),z=N(7849),Q=N(8822);function Oe(Fe){if(Fe instanceof ne.y)return Fe;if(null!=Fe){if((0,ge.c)(Fe))return function De(Fe){return new ne.y(Pe=>{const Ce=Fe[Q.L]();if((0,W.m)(Ce.subscribe))return Ce.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,B.z)(Fe))return function Te(Fe){return new ne.y(Pe=>{for(let Ce=0;Ce<Fe.length&&!Pe.closed;Ce++)Pe.next(Fe[Ce]);Pe.complete()})}(Fe);if((0,P.t)(Fe))return function Je(Fe){return new ne.y(Pe=>{Fe.then(Ce=>{Pe.closed||(Pe.next(Ce),Pe.complete())},Ce=>Pe.error(Ce)).then(null,z.h)})}(Fe);if((0,ve.D)(Fe))return le(Fe);if((0,pe.T)(Fe))return function be(Fe){return new ne.y(Pe=>{for(const Ce of Fe)if(Pe.next(Ce),Pe.closed)return;Pe.complete()})}(Fe);if((0,ye.L)(Fe))return function ot(Fe){return le((0,ye.Q)(Fe))}(Fe)}throw(0,de.z)(Fe)}function le(Fe){return new ne.y(Pe=>{(function Ye(Fe,Pe){var Ce,Ke,te,ae;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Fe);!(Ke=yield Ce.next()).done;)if(Pe.next(Ke.value),Pe.closed)return}catch(we){te={error:we}}finally{try{Ke&&!Ke.done&&(ae=Ce.return)&&(yield ae.call(Ce))}finally{if(te)throw te.error}}Pe.complete()})})(Fe,Pe).catch(Ce=>Pe.error(Ce))})}},6451:(gt,Re,N)=>{N.d(Re,{T:()=>ve});var u=N(8189),B=N(8421),P=N(515),ne=N(3269),ge=N(8996);function ve(...de){const pe=(0,ne.yG)(de),ye=(0,ne._6)(de,1/0),W=de;return W.length?1===W.length?(0,B.Xf)(W[0]):(0,u.J)(ye)((0,ge.D)(W,pe)):P.E}},5403:(gt,Re,N)=>{N.d(Re,{Q:()=>P,x:()=>B});var u=N(930);function B(ne,ge,ve,de,pe){return new P(ne,ge,ve,de,pe)}class P extends u.Lv{constructor(ge,ve,de,pe,ye,W){super(ge),this.onFinalize=ye,this.shouldUnsubscribe=W,this._next=ve?function(z){try{ve(z)}catch(Q){ge.error(Q)}}:super._next,this._error=pe?function(z){try{pe(z)}catch(Q){ge.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(z){ge.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(gt,Re,N)=>{N.d(Re,{U:()=>P});var u=N(4482),B=N(5403);function P(ne,ge){return(0,u.e)((ve,de)=>{let pe=0;ve.subscribe((0,B.x)(de,ye=>{de.next(ne.call(ge,ye,pe++))}))})}},8189:(gt,Re,N)=>{N.d(Re,{J:()=>P});var u=N(5577),B=N(4671);function P(ne=1/0){return(0,u.z)(B.y,ne)}},5577:(gt,Re,N)=>{N.d(Re,{z:()=>pe});var u=N(4004),B=N(8421),P=N(4482),ne=N(9672),ge=N(5403),de=N(576);function pe(ye,W,z=1/0){return(0,de.m)(W)?pe((Q,Oe)=>(0,u.U)((De,Te)=>W(Q,De,Oe,Te))((0,B.Xf)(ye(Q,Oe))),z):("number"==typeof W&&(z=W),(0,P.e)((Q,Oe)=>function ve(ye,W,z,Q,Oe,De,Te,Je){const be=[];let le=0,ot=0,Ye=!1;const Fe=()=>{Ye&&!be.length&&!le&&W.complete()},Pe=Ke=>le<Q?Ce(Ke):be.push(Ke),Ce=Ke=>{De&&W.next(Ke),le++;let te=!1;(0,B.Xf)(z(Ke,ot++)).subscribe((0,ge.x)(W,ae=>{Oe?.(ae),De?Pe(ae):W.next(ae)},()=>{te=!0},void 0,()=>{if(te)try{for(le--;be.length&&le<Q;){const ae=be.shift();Te?(0,ne.f)(W,Te,()=>Ce(ae)):Ce(ae)}Fe()}catch(ae){W.error(ae)}}))};return ye.subscribe((0,ge.x)(W,Pe,()=>{Ye=!0,Fe()})),()=>{Je?.()}}(Q,Oe,ye,z)))}},5363:(gt,Re,N)=>{N.d(Re,{Q:()=>ne});var u=N(9672),B=N(4482),P=N(5403);function ne(ge,ve=0){return(0,B.e)((de,pe)=>{de.subscribe((0,P.x)(pe,ye=>(0,u.f)(pe,ge,()=>pe.next(ye),ve),()=>(0,u.f)(pe,ge,()=>pe.complete(),ve),ye=>(0,u.f)(pe,ge,()=>pe.error(ye),ve)))})}},3099:(gt,Re,N)=>{N.d(Re,{B:()=>ge});var u=N(8421),B=N(7579),P=N(930),ne=N(4482);function ge(de={}){const{connector:pe=(()=>new B.x),resetOnError:ye=!0,resetOnComplete:W=!0,resetOnRefCountZero:z=!0}=de;return Q=>{let Oe,De,Te,Je=0,be=!1,le=!1;const ot=()=>{De?.unsubscribe(),De=void 0},Ye=()=>{ot(),Oe=Te=void 0,be=le=!1},Fe=()=>{const Pe=Oe;Ye(),Pe?.unsubscribe()};return(0,ne.e)((Pe,Ce)=>{Je++,!le&&!be&&ot();const Ke=Te=Te??pe();Ce.add(()=>{Je--,0===Je&&!le&&!be&&(De=ve(Fe,z))}),Ke.subscribe(Ce),!Oe&&Je>0&&(Oe=new P.Hp({next:te=>Ke.next(te),error:te=>{le=!0,ot(),De=ve(Ye,ye,te),Ke.error(te)},complete:()=>{be=!0,ot(),De=ve(Ye,W),Ke.complete()}}),(0,u.Xf)(Pe).subscribe(Oe))})(Q)}}function ve(de,pe,...ye){if(!0===pe)return void de();if(!1===pe)return;const W=new P.Hp({next:()=>{W.unsubscribe(),de()}});return pe(...ye).subscribe(W)}},9468:(gt,Re,N)=>{N.d(Re,{R:()=>B});var u=N(4482);function B(P,ne=0){return(0,u.e)((ge,ve)=>{ve.add(P.schedule(()=>ge.subscribe(ve),ne))})}},8505:(gt,Re,N)=>{N.d(Re,{b:()=>ge});var u=N(576),B=N(4482),P=N(5403),ne=N(4671);function ge(ve,de,pe){const ye=(0,u.m)(ve)||de||pe?{next:ve,error:de,complete:pe}:ve;return ye?(0,B.e)((W,z)=>{var Q;null===(Q=ye.subscribe)||void 0===Q||Q.call(ye);let Oe=!0;W.subscribe((0,P.x)(z,De=>{var Te;null===(Te=ye.next)||void 0===Te||Te.call(ye,De),z.next(De)},()=>{var De;Oe=!1,null===(De=ye.complete)||void 0===De||De.call(ye),z.complete()},De=>{var Te;Oe=!1,null===(Te=ye.error)||void 0===Te||Te.call(ye,De),z.error(De)},()=>{var De,Te;Oe&&(null===(De=ye.unsubscribe)||void 0===De||De.call(ye)),null===(Te=ye.finalize)||void 0===Te||Te.call(ye)}))}):ne.y}},4408:(gt,Re,N)=>{N.d(Re,{o:()=>ge});var u=N(727);class B extends u.w0{constructor(de,pe){super()}schedule(de,pe=0){return this}}const P={setInterval(ve,de,...pe){const{delegate:ye}=P;return ye?.setInterval?ye.setInterval(ve,de,...pe):setInterval(ve,de,...pe)},clearInterval(ve){const{delegate:de}=P;return(de?.clearInterval||clearInterval)(ve)},delegate:void 0};var ne=N(8737);class ge extends B{constructor(de,pe){super(de,pe),this.scheduler=de,this.work=pe,this.pending=!1}schedule(de,pe=0){var ye;if(this.closed)return this;this.state=de;const W=this.id,z=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(z,W,pe)),this.pending=!0,this.delay=pe,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(z,this.id,pe),this}requestAsyncId(de,pe,ye=0){return P.setInterval(de.flush.bind(de,this),ye)}recycleAsyncId(de,pe,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return pe;null!=pe&&P.clearInterval(pe)}execute(de,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(de,pe);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,pe){let W,ye=!1;try{this.work(de)}catch(z){ye=!0,W=z||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:de,scheduler:pe}=this,{actions:ye}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ye,this),null!=de&&(this.id=this.recycleAsyncId(pe,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,Re,N)=>{N.d(Re,{v:()=>P});var u=N(6063);class B{constructor(ge,ve=B.now){this.schedulerActionCtor=ge,this.now=ve}schedule(ge,ve=0,de){return new this.schedulerActionCtor(this,ge).schedule(de,ve)}}B.now=u.l.now;class P extends B{constructor(ge,ve=B.now){super(ge,ve),this.actions=[],this._active=!1}flush(ge){const{actions:ve}=this;if(this._active)return void ve.push(ge);let de;this._active=!0;do{if(de=ge.execute(ge.state,ge.delay))break}while(ge=ve.shift());if(this._active=!1,de){for(;ge=ve.shift();)ge.unsubscribe();throw de}}}},4986:(gt,Re,N)=>{N.d(Re,{P:()=>ne,z:()=>P});var u=N(4408);const P=new(N(7565).v)(u.o),ne=P},6063:(gt,Re,N)=>{N.d(Re,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(gt,Re,N)=>{N.d(Re,{z:()=>u});const u={setTimeout(B,P,...ne){const{delegate:ge}=u;return ge?.setTimeout?ge.setTimeout(B,P,...ne):setTimeout(B,P,...ne)},clearTimeout(B){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(gt,Re,N)=>{N.d(Re,{h:()=>B});const B=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Re,N)=>{N.d(Re,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,Re,N)=>{N.d(Re,{_6:()=>ve,jO:()=>ne,yG:()=>ge});var u=N(576),B=N(3532);function P(de){return de[de.length-1]}function ne(de){return(0,u.m)(P(de))?de.pop():void 0}function ge(de){return(0,B.K)(P(de))?de.pop():void 0}function ve(de,pe){return"number"==typeof P(de)?de.pop():pe}},8737:(gt,Re,N)=>{function u(B,P){if(B){const ne=B.indexOf(P);0<=ne&&B.splice(ne,1)}}N.d(Re,{P:()=>u})},3888:(gt,Re,N)=>{function u(B){const ne=B(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}N.d(Re,{d:()=>u})},2806:(gt,Re,N)=>{N.d(Re,{O:()=>ne,x:()=>P});var u=N(2416);let B=null;function P(ge){if(u.v.useDeprecatedSynchronousErrorHandling){const ve=!B;if(ve&&(B={errorThrown:!1,error:null}),ge(),ve){const{errorThrown:de,error:pe}=B;if(B=null,de)throw pe}}else ge()}function ne(ge){u.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ge)}},9672:(gt,Re,N)=>{function u(B,P,ne,ge=0,ve=!1){const de=P.schedule(function(){ne(),ve?B.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(B.add(de),!ve)return de}N.d(Re,{f:()=>u})},4671:(gt,Re,N)=>{function u(B){return B}N.d(Re,{y:()=>u})},1144:(gt,Re,N)=>{N.d(Re,{z:()=>u});const u=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(gt,Re,N)=>{N.d(Re,{D:()=>B});var u=N(576);function B(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(gt,Re,N)=>{function u(B){return"function"==typeof B}N.d(Re,{m:()=>u})},3670:(gt,Re,N)=>{N.d(Re,{c:()=>P});var u=N(8822),B=N(576);function P(ne){return(0,B.m)(ne[u.L])}},6495:(gt,Re,N)=>{N.d(Re,{T:()=>P});var u=N(2202),B=N(576);function P(ne){return(0,B.m)(ne?.[u.h])}},8239:(gt,Re,N)=>{N.d(Re,{t:()=>B});var u=N(576);function B(P){return(0,u.m)(P?.then)}},3260:(gt,Re,N)=>{N.d(Re,{L:()=>ne,Q:()=>P});var u=N(655),B=N(576);function P(ge){return(0,u.FC)(this,arguments,function*(){const de=ge.getReader();try{for(;;){const{value:pe,done:ye}=yield(0,u.qq)(de.read());if(ye)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(pe)}}finally{de.releaseLock()}})}function ne(ge){return(0,B.m)(ge?.getReader)}},3532:(gt,Re,N)=>{N.d(Re,{K:()=>B});var u=N(576);function B(P){return P&&(0,u.m)(P.schedule)}},4482:(gt,Re,N)=>{N.d(Re,{A:()=>B,e:()=>P});var u=N(576);function B(ne){return(0,u.m)(ne?.lift)}function P(ne){return ge=>{if(B(ge))return ge.lift(function(ve){try{return ne(ve,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,Re,N)=>{function u(){}N.d(Re,{Z:()=>u})},9635:(gt,Re,N)=>{N.d(Re,{U:()=>P,z:()=>B});var u=N(4671);function B(...ne){return P(ne)}function P(ne){return 0===ne.length?u.y:1===ne.length?ne[0]:function(ve){return ne.reduce((de,pe)=>pe(de),ve)}}},7849:(gt,Re,N)=>{N.d(Re,{h:()=>P});var u=N(2416),B=N(3410);function P(ne){B.z.setTimeout(()=>{const{onUnhandledError:ge}=u.v;if(!ge)throw ne;ge(ne)})}},4532:(gt,Re,N)=>{function u(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Re,{z:()=>u})},655:(gt,Re,N)=>{function ne(J,X){var he={};for(var oe in J)Object.prototype.hasOwnProperty.call(J,oe)&&X.indexOf(oe)<0&&(he[oe]=J[oe]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(oe=Object.getOwnPropertySymbols(J);He<oe.length;He++)X.indexOf(oe[He])<0&&Object.prototype.propertyIsEnumerable.call(J,oe[He])&&(he[oe[He]]=J[oe[He]])}return he}function pe(J,X,he,oe){return new(he||(he=Promise))(function(je,mt){function Xt(ln){try{qe(oe.next(ln))}catch(Nn){mt(Nn)}}function Rt(ln){try{qe(oe.throw(ln))}catch(Nn){mt(Nn)}}function qe(ln){ln.done?je(ln.value):function He(je){return je instanceof he?je:new he(function(mt){mt(je)})}(ln.value).then(Xt,Rt)}qe((oe=oe.apply(J,X||[])).next())})}function be(J){return this instanceof be?(this.v=J,this):new be(J)}function le(J,X,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,oe=he.apply(J,X||[]),je=[];return He={},mt("next"),mt("throw"),mt("return"),He[Symbol.asyncIterator]=function(){return this},He;function mt(an){oe[an]&&(He[an]=function(en){return new Promise(function(Ut,Et){je.push([an,en,Ut,Et])>1||Xt(an,en)})})}function Xt(an,en){try{!function Rt(an){an.value instanceof be?Promise.resolve(an.value.v).then(qe,ln):Nn(je[0][2],an)}(oe[an](en))}catch(Ut){Nn(je[0][3],Ut)}}function qe(an){Xt("next",an)}function ln(an){Xt("throw",an)}function Nn(an,en){an(en),je.shift(),je.length&&Xt(je[0][0],je[0][1])}}function Ye(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=J[Symbol.asyncIterator];return X?X.call(J):(J=function Q(J){var X="function"==typeof Symbol&&Symbol.iterator,he=X&&J[X],oe=0;if(he)return he.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&oe>=J.length&&(J=void 0),{value:J&&J[oe++],done:!J}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),he={},oe("next"),oe("throw"),oe("return"),he[Symbol.asyncIterator]=function(){return this},he);function oe(je){he[je]=J[je]&&function(mt){return new Promise(function(Xt,Rt){!function He(je,mt,Xt,Rt){Promise.resolve(Rt).then(function(qe){je({value:qe,done:Xt})},mt)}(Xt,Rt,(mt=J[je](mt)).done,mt.value)})}}}N.d(Re,{FC:()=>le,KL:()=>Ye,_T:()=>ne,mG:()=>pe,qq:()=>be})},4650:(gt,Re,N)=>{N.d(Re,{$8M:()=>Iu,$Z:()=>i_,AFp:()=>_e,AaK:()=>pe,CHM:()=>zn,CRH:()=>hl,CZH:()=>nt,CqO:()=>Ip,D6c:()=>HE,EJc:()=>hT,EpF:()=>qu,F4k:()=>L_,FYo:()=>HC,FiY:()=>Kn,G48:()=>Fa,GfV:()=>Rb,Gpc:()=>z,JOm:()=>ds,KtG:()=>Nt,LFG:()=>Pn,LSH:()=>Df,Lbi:()=>lT,Lck:()=>Kw,MMx:()=>Ay,NdJ:()=>Dp,OlP:()=>Ln,Oqu:()=>Kd,PXZ:()=>_T,Q6J:()=>iw,QGY:()=>jd,QP$:()=>ce,Qsj:()=>zS,R0b:()=>vi,RDi:()=>wf,Rgc:()=>Xs,SBq:()=>Ia,Sil:()=>ar,Suo:()=>hh,TTD:()=>_o,TgZ:()=>Ep,X6Q:()=>vT,XFs:()=>et,Xpm:()=>Me,Xts:()=>Im,Y36:()=>$i,YKP:()=>tl,YNc:()=>rD,Yjl:()=>R,Yz7:()=>en,Z0I:()=>kr,ZZ4:()=>Ev,_Bn:()=>Dy,_UZ:()=>N_,_Vd:()=>Ec,_c5:()=>ST,_uU:()=>ww,aQg:()=>Cv,c2e:()=>ME,cJS:()=>Et,cg1:()=>sy,dDg:()=>ue,dqk:()=>ht,eFA:()=>fr,ekj:()=>Mp,eoX:()=>bh,f3M:()=>ei,g9A:()=>AE,h0i:()=>el,hGG:()=>$E,hij:()=>Rp,iGM:()=>dE,ifc:()=>lt,ip1:()=>TE,jDz:()=>Yw,kL8:()=>DD,lG2:()=>O,lqb:()=>ls,lri:()=>na,n5z:()=>ts,oAB:()=>Ht,oxw:()=>iD,q4F:()=>kb,qLn:()=>Ed,qOj:()=>R_,qZA:()=>Cp,rWj:()=>pg,sBO:()=>La,sIi:()=>Zu,s_b:()=>ng,soG:()=>av,tb:()=>SE,tp0:()=>Ls,uIk:()=>vp,vHH:()=>Te,vpe:()=>Ho,wAp:()=>Pt,xp6:()=>u0,z2F:()=>Zo,zSh:()=>Mf,zs3:()=>Dc});var u=N(7579),B=N(727),P=N(9751),ne=N(6451),ge=N(3099);function ve(i){for(let s in i)if(i[s]===ve)return s;throw Error("Could not find renamed property on target object.")}function de(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function pe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(pe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ye(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const W=ve({__forward_ref__:ve});function z(i){return i.__forward_ref__=z,i.toString=function(){return pe(this())},i}function Q(i){return Oe(i)?i():i}function Oe(i){return"function"==typeof i&&i.hasOwnProperty(W)&&i.__forward_ref__===z}class Te extends Error{constructor(s,a){super(function Je(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function be(i){return"string"==typeof i?i:null==i?"":String(i)}function Pe(i,s){throw new Te(-201,!1)}function Rt(i,s){null==i&&function qe(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function en(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Et(i){return{providers:i.providers||[],imports:i.imports||[]}}function In(i){return jr(i,jn)||jr(i,mr)}function kr(i){return null!==In(i)}function jr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Or(i){return i&&(i.hasOwnProperty($n)||i.hasOwnProperty($r))?i[$n]:null}const jn=ve({\u0275prov:ve}),$n=ve({\u0275inj:ve}),mr=ve({ngInjectableDef:ve}),$r=ve({ngInjectorDef:ve});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let fn;function dn(i){const s=fn;return fn=i,s}function tr(i,s,a){const l=In(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&et.Optional?null:void 0!==s?s:void Pe(pe(i))}function yn(i){return{toString:i}.toString()}var vn=(()=>((vn=vn||{})[vn.OnPush=0]="OnPush",vn[vn.Default=1]="Default",vn))(),lt=(()=>{return(i=lt||(lt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",lt;var i})();const ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rr={},Dt=[],ur=ve({\u0275cmp:ve}),kt=ve({\u0275dir:ve}),_r=ve({\u0275pipe:ve}),jt=ve({\u0275mod:ve}),Zn=ve({\u0275fac:ve}),Dn=ve({__NG_ELEMENT_ID__:ve});let Xe=0;function Me(i){return yn(()=>{const a=!0===i.standalone,l={},h={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===vn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Dt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||lt.Emulated,id:"c"+Xe++,styles:i.styles||Dt,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.dependencies,_=i.features;return h.inputs=j(i.inputs,l),h.outputs=j(i.outputs),_&&_.forEach(b=>b(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(yt).filter(Ct):null,h.pipeDefs=f?()=>("function"==typeof f?f():f).map($).filter(Ct):null,h})}function yt(i){return D(i)||k(i)}function Ct(i){return null!==i}function Ht(i){return yn(()=>({type:i.type,bootstrap:i.bootstrap||Dt,declarations:i.declarations||Dt,imports:i.imports||Dt,exports:i.exports||Dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function j(i,s){if(null==i)return rr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=l,s&&(s[h]=f)}return a}const O=Me;function R(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function D(i){return i[ur]||null}function k(i){return i[kt]||null}function $(i){return i[_r]||null}function ce(i){const s=D(i)||k(i)||$(i);return null!==s&&s.standalone}function Le(i,s){const a=i[jt]||null;if(!a&&!0===s)throw new Error(`Type ${pe(i)} does not have '\u0275mod' property.`);return a}function br(i){return Array.isArray(i)&&"object"==typeof i[1]}function Fr(i){return Array.isArray(i)&&!0===i[1]}function Xi(i){return 0!=(8&i.flags)}function qo(i){return 2==(2&i.flags)}function Ko(i){return 1==(1&i.flags)}function si(i){return null!==i.template}function oa(i){return 0!=(256&i[2])}function Dr(i,s){return i.hasOwnProperty(Zn)?i[Zn]:null}class Cs{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function _o(){return qa}function qa(i){return i.type.prototype.ngOnChanges&&(i.setInput=ua),Ka}function Ka(){const i=Qo(this),s=i?.current;if(s){const a=i.previous;if(a===rr)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function ua(i,s,a,l){const h=Qo(i)||function la(i,s){return i[Ya]=s}(i,{previous:rr,current:null}),f=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[a],E=_[b];f[b]=new Cs(E&&E.currentValue,s,_===rr),i[l]=s}_o.ngInherit=!0;const Ya="__ngSimpleChanges__";function Qo(i){return i[Ya]||null}function Hn(i){for(;Array.isArray(i);)i=i[0];return i}function Ei(i,s){return Hn(s[i])}function Vr(i,s){return Hn(s[i.index])}function Is(i,s){return i.data[s]}function gn(i,s){const a=s[i];return br(a)?a:a[0]}function wo(i){return 64==(64&i[2])}function mi(i,s){return null==s?null:i[s]}function Ds(i){i[18]=0}function Ts(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Lt={lFrame:Bl(null),bindingsEnabled:!0};function Qe(){return Lt.bindingsEnabled}function Ie(){return Lt.lFrame.lView}function Ot(){return Lt.lFrame.tView}function zn(i){return Lt.lFrame.contextLView=i,i[8]}function Nt(i){return Lt.lFrame.contextLView=null,i}function On(){let i=Eo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Eo(){return Lt.lFrame.currentTNode}function Tr(i,s){const a=Lt.lFrame;a.currentTNode=i,a.isParent=s}function to(){return Lt.lFrame.isParent}function ec(){return Lt.lFrame.bindingIndex++}function Xh(i,s){const a=Lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,hu(s)}function hu(i){Lt.lFrame.currentDirectiveIndex=i}function Ll(){return Lt.lFrame.currentQueryIndex}function Vl(i){Lt.lFrame.currentQueryIndex=i}function Ul(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Qg(i,s,a){if(a&et.SkipSelf){let h=s,f=i;for(;!(h=h.parent,null!==h||a&et.Host||(h=Ul(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;s=h,i=f}const l=Lt.lFrame=Jg();return l.currentTNode=s,l.lView=i,!0}function fu(i){const s=Jg(),a=i[1];Lt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Jg(){const i=Lt.lFrame,s=null===i?null:i.child;return null===s?Bl(i):s}function Bl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Xg(){const i=Lt.lFrame;return Lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ef=Xg;function ha(){const i=Xg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wn(){return Lt.lFrame.selectedIndex}function Do(i){Lt.lFrame.selectedIndex=i}function qn(){const i=Lt.lFrame;return Is(i.tView,i.selectedIndex)}function tc(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:M}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),E&&(i.viewHooks||(i.viewHooks=[])).push(-a,E),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function nc(i,s,a){Hl(i,s,3,a)}function Ss(i,s,a,l){(3&i[2])===a&&Hl(i,s,a,l)}function $l(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Hl(i,s,a,l){const f=l??-1,_=s.length-1;let b=0;for(let E=void 0!==l?65535&i[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(b=s[E],null!=l&&b>=l)break}else s[E]<0&&(i[18]+=65536),(b<f||-1==f)&&(tf(i,a,s,E),i[18]=(4294901760&i[18])+E+2),E++}function tf(i,s,a,l){const h=a[l]<0,f=a[l+1],b=i[h?-a[l]:a[l]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(b)}finally{}}}else try{f.call(b)}finally{}}class Ci{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function To(i,s,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const f=a[l++],_=a[l++],b=a[l++];i.setAttribute(s,_,b,f)}else{const f=h,_=a[++l];Wl(f)?i.setProperty(s,f,_):i.setAttribute(s,f,_),l++}}return l}function Zl(i){return 3===i||4===i||6===i}function Wl(i){return 64===i.charCodeAt(0)}function ic(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||rf(i,a,h,null,-1===a||2===a?s[++l]:null)}}return i}function rf(i,s,a,l,h){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const b=i[f++];if("number"==typeof b){if(b===s){_=-1;break}if(b>s){_=f-1;break}}}for(;f<i.length;){const b=i[f];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==h&&(i[f+1]=h));if(l===i[f+1])return void(i[f+2]=h)}f++,null!==l&&f++,null!==h&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==h&&i.splice(f++,0,h)}function am(i){return-1!==i}function Ms(i){return 32767&i}function es(i,s){let a=function cm(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let ql=!0;function _u(i){const s=ql;return ql=i,s}let sf=0;const Li={};function xs(i,s){const a=yu(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Kl(l.data,i),Kl(s,null),Kl(l.blueprint,null));const h=oc(i,s),f=i.injectorIndex;if(am(h)){const _=Ms(h),b=es(h,s),E=b[1].data;for(let I=0;I<8;I++)s[f+I]=b[_+I]|E[_+I]}return s[f+8]=h,f}function Kl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function yu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function oc(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){if(l=Cu(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function sc(i,s,a){!function lm(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Dn)&&(l=a[Dn]),null==l&&(l=a[Dn]=sf++);const h=255&l;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function vu(i,s,a){if(a&et.Optional||void 0!==i)return i;Pe()}function pa(i,s,a,l){if(a&et.Optional&&void 0===l&&(l=null),0==(a&(et.Self|et.Host))){const h=i[9],f=dn(void 0);try{return h?h.get(s,l,a&et.Optional):tr(s,l,a&et.Optional)}finally{dn(f)}}return vu(l,0,a)}function bu(i,s,a,l=et.Default,h){if(null!==i){if(1024&s[2]){const _=function hm(i,s,a,l,h){let f=i,_=s;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=af(f,_,a,l|et.Self,Li);if(b!==Li)return b;let E=f.parent;if(!E){const I=_[21];if(I){const M=I.get(a,Li,l);if(M!==Li)return M}E=Cu(_),_=_[15]}f=E}return h}(i,s,a,l,Li);if(_!==Li)return _}const f=af(i,s,a,l,Li);if(f!==Li)return f}return pa(s,a,l,h)}function af(i,s,a,l,h){const f=function dm(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Dn)?i[Dn]:void 0;return"number"==typeof s?s>=0?255&s:lf:s}(a);if("function"==typeof f){if(!Qg(s,i,l))return l&et.Host?vu(h,0,l):pa(s,a,l,h);try{const _=f(l);if(null!=_||l&et.Optional)return _;Pe()}finally{ef()}}else if("number"==typeof f){let _=null,b=yu(i,s),E=-1,I=l&et.Host?s[16][6]:null;for((-1===b||l&et.SkipSelf)&&(E=-1===b?oc(i,s):s[b+8],-1!==E&&uf(l,!1)?(_=s[1],b=Ms(E),s=es(E,s)):b=-1);-1!==b;){const M=s[1];if(wu(f,b,M.data)){const U=cf(b,s,a,_,l,I);if(U!==Li)return U}E=s[b+8],-1!==E&&uf(l,s[1].data[b+8]===I)&&wu(f,b,s)?(_=M,b=Ms(E),s=es(E,s)):b=-1}}return h}function cf(i,s,a,l,h,f){const _=s[1],b=_.data[i+8],M=cc(b,_,a,null==l?qo(b)&&ql:l!=_&&0!=(3&b.type),h&et.Host&&f===b);return null!==M?Ao(s,_,M,b):Li}function cc(i,s,a,l,h){const f=i.providerIndexes,_=s.data,b=1048575&f,E=i.directiveStart,M=f>>20,q=h?b+M:i.directiveEnd;for(let ie=l?b:b+M;ie<q;ie++){const Ae=_[ie];if(ie<E&&a===Ae||ie>=E&&Ae.type===a)return ie}if(h){const ie=_[E];if(ie&&si(ie)&&ie.type===a)return E}return null}function Ao(i,s,a,l){let h=i[a];const f=s.data;if(function zl(i){return i instanceof Ci}(h)){const _=h;_.resolving&&function ot(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function le(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():be(i)}(f[a]));const b=_u(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?dn(_.injectImpl):null;Qg(i,l,et.Default);try{h=i[a]=_.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function pu(i,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(l){const _=qa(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==E&&dn(E),_u(b),_.resolving=!1,ef()}}return h}function wu(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function uf(i,s){return!(i&et.Self||i&et.Host&&s)}class uc{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return bu(this._tNode,this._lView,s,l,a)}}function lf(){return new uc(On(),Ie())}function ts(i){return yn(()=>{const s=i.prototype.constructor,a=s[Zn]||Eu(s),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const f=h[Zn]||Eu(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function Eu(i){return Oe(i)?()=>{const s=Eu(Q(i));return s&&s()}:Dr(i)}function Cu(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Iu(i){return function ac(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const f=a[h];if(Zl(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(On(),i)}const lc="__parameters__";function dc(i,s,a){return yn(()=>{const l=function df(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...f){if(this instanceof h)return l.apply(this,f),this;const _=new h(...f);return b.annotation=_,b;function b(E,I,M){const U=E.hasOwnProperty(lc)?E[lc]:Object.defineProperty(E,lc,{value:[]})[lc];for(;U.length<=M;)U.push(null);return(U[M]=U[M]||[]).push(_),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class Ln{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Un(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Un(l,s)):s!==i&&s.push(l)}return s}function So(i,s){i.forEach(a=>Array.isArray(a)?So(a,s):s(a))}function ks(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Er(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function _t(i,s,a){let l=ns(i,s);return l>=0?i[1|l]=a:(l=~l,function pm(i,s,a,l){let h=i.length;if(h==s)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Jl(i,s){const a=ns(i,s);if(a>=0)return i[1|a]}function ns(i,s){return function Xl(i,s,a){let l=0,h=i.length>>a;for(;h!==l;){const f=l+(h-l>>1),_=i[f<<a];if(s===_)return f<<a;_>s?h=f:l=f+1}return~(h<<a)}(i,s,1)}const _a={},rd="__NG_DI_FLAG__",is="ngTempTokenPath",xo=/\n/gm,dr="__source";let os;function ss(i){const s=os;return os=i,s}function yr(i,s=et.Default){if(void 0===os)throw new Te(-203,!1);return null===os?tr(i,void 0,s):os.get(i,s&et.Optional?null:void 0,s)}function Pn(i,s=et.Default){return(function Fn(){return fn}()||yr)(Q(i),s)}function ei(i,s=et.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Pn(i,s)}function Cr(i){const s=[];for(let a=0;a<i.length;a++){const l=Q(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Te(900,!1);let h,f=et.Default;for(let _=0;_<l.length;_++){const b=l[_],E=_f(b);"number"==typeof E?-1===E?h=b.token:f|=E:h=b}s.push(Pn(h,f))}else s.push(Pn(l))}return s}function io(i,s){return i[rd]=s,i.prototype[rd]=s,i}function _f(i){return i[rd]}const Kn=io(dc("Optional"),8),Ls=io(dc("SkipSelf"),4);let cd;function wf(i){cd=i}class Cf{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function oo(i){return i instanceof Cf?i.changingThisBreaksApplicationSecurity:i}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function Df(i){const s=function md(){const i=Ie();return i&&i[12]}();return s?s.sanitize(Gn.URL,i)||"":function Fo(i,s){const a=function hd(i){return i instanceof Cf&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?oo(i):function m(i){return(i=String(i)).match(p)?i:"unsafe:"+i}(be(i))}const Im=new Ln("ENVIRONMENT_INITIALIZER"),bb=new Ln("INJECTOR",-1),wb=new Ln("INJECTOR_DEF_TYPES");class Eb{get(s,a=_a){if(a===_a){const l=new Error(`NullInjectorError: No provider for ${pe(s)}!`);throw l.name="NullInjectorError",l}return a}}function UC(...i){return{\u0275providers:Cb(0,i)}}function Cb(i,...s){const a=[],l=new Set;let h;return So(s,f=>{const _=f;Af(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&Dm(h,a),a}function Dm(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];So(h,f=>{s.push(f)})}}function Af(i,s,a,l){if(!(i=Q(i)))return!1;let h=null,f=Or(i);const _=!f&&D(i);if(f||_){if(_&&!_.standalone)return!1;h=i}else{const E=i.ngModule;if(f=Or(E),!f)return!1;h=E}const b=l.has(h);if(_){if(b)return!1;if(l.add(h),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const I of E)Af(I,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!b){let I;l.add(h);try{So(f.imports,M=>{Af(M,s,a,l)&&(I||(I=[]),I.push(M))})}finally{}void 0!==I&&Dm(I,s)}if(!b){const I=Dr(h)||(()=>new h);s.push({provide:h,useFactory:I,deps:Dt},{provide:wb,useValue:h,multi:!0},{provide:Im,useValue:()=>Pn(h),multi:!0})}const E=f.providers;null==E||b||So(E,M=>{s.push(M)})}}return h!==i&&void 0!==i.providers}const Ib=ve({provide:String,useValue:ve});function _d(i){return null!==i&&"object"==typeof i&&Ib in i}function so(i){return"function"==typeof i}const Mf=new Ln("Set Injector scope."),xf={},wc={};let Rf;function kf(){return void 0===Rf&&(Rf=new Eb),Rf}class ls{}class Tm extends ls{constructor(s,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pf(s,_=>this.processProvider(_)),this.records.set(bb,Nu(void 0,this)),h.has("environment")&&this.records.set(ls,Nu(void 0,this));const f=this.records.get(Mf);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(wb.multi,Dt,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=ss(this),l=dn(void 0);try{return s()}finally{ss(a),dn(l)}}get(s,a=_a,l=et.Default){this.assertNotDestroyed();const h=ss(this),f=dn(void 0);try{if(!(l&et.SkipSelf)){let b=this.records.get(s);if(void 0===b){const E=function jC(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ln}(s)&&In(s);b=E&&this.injectableDefInScope(E)?Nu(yd(s),xf):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(l&et.Self?kf():this.parent).get(s,a=l&et.Optional&&a===_a?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[is]=_[is]||[]).unshift(pe(s)),h)throw _;return function gm(i,s,a,l){const h=i[is];throw s[dr]&&h.unshift(s[dr]),i.message=function Ui(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=pe(s);if(Array.isArray(s))h=s.map(pe).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let b=s[_];f.push(_+":"+("string"==typeof b?JSON.stringify(b):pe(b)))}h=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(xo,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[is]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{dn(f),ss(h)}}resolveInjectorInitializers(){const s=ss(this),a=dn(void 0);try{const l=this.get(Im.multi,Dt,et.Self);for(const h of l)h()}finally{ss(s),dn(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(pe(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(s){let a=so(s=Q(s))?s:Q(s&&s.provide);const l=function Am(i){return _d(i)?Nu(void 0,i.useValue):Nu(Of(i),xf)}(s);if(so(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Nu(void 0,xf,!0),h.factory=()=>Cr(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===xf&&(a.value=wc,a.value=a.factory()),"object"==typeof a.value&&a.value&&function BC(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function yd(i){const s=In(i),a=null!==s?s.factory:Dr(i);if(null!==a)return a;if(i instanceof Ln)throw new Te(204,!1);if(i instanceof Function)return function Tb(i){const s=i.length;if(s>0)throw function Os(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Te(204,!1);const a=function kn(i){const s=i&&(i[jn]||i[mr]);if(s){const a=function er(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Te(204,!1)}function Of(i,s,a){let l;if(so(i)){const h=Q(i);return Dr(h)||yd(h)}if(_d(i))l=()=>Q(i.useValue);else if(function us(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Cr(i.deps||[]));else if(function Sf(i){return!(!i||!i.useExisting)}(i))l=()=>Pn(Q(i.useExisting));else{const h=Q(i&&(i.useClass||i.provide));if(!function vd(i){return!!i.deps}(i))return Dr(h)||yd(h);l=()=>new h(...Cr(i.deps))}return l}function Nu(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Sm(i){return!!i.\u0275providers}function Pf(i,s){for(const a of i)Array.isArray(a)?Pf(a,s):Sm(a)?Pf(a.\u0275providers,s):s(a)}class Mm{}class Ff{resolveComponentFactory(s){throw function Sb(i){const s=Error(`No component factory found for ${pe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Ec=(()=>{class i{}return i.NULL=new Ff,i})();function $C(){return Fu(On(),Ie())}function Fu(i,s){return new Ia(Vr(i,s))}let Ia=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=$C,i})();function xb(i){return i instanceof Ia?i.nativeElement:i}class HC{}let zS=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function GS(){const i=Ie(),a=gn(On().index,i);return(br(a)?a:i)[11]}(),i})(),xm=(()=>{class i{}return i.\u0275prov=en({token:i,providedIn:"root",factory:()=>null}),i})();class Rb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const kb=new Rb("14.2.5"),Rm={};function Lm(i){return i.ngOriginalError}class Ed{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Lm(s);for(;a&&Lm(a);)a=Lm(a);return a||null}}const Vm=new Map;let YC=0;const $f="__ngContext__";function Zr(i,s){br(s)?(i[$f]=s[20],function JC(i){Vm.set(i[20],i)}(s)):i[$f]=s}function js(i){return i instanceof Function?i():i}var ds=(()=>((ds=ds||{})[ds.Important=1]="Important",ds[ds.DashCase=2]="DashCase",ds))();function Hm(i,s){return undefined(i,s)}function ju(i){const s=i[3];return Fr(s)?s[3]:s}function Gf(i){return zb(i[13])}function Zf(i){return zb(i[4])}function zb(i){for(;null!==i&&!Fr(i);)i=i[4];return i}function $u(i,s,a,l,h){if(null!=l){let f,_=!1;Fr(l)?f=l:br(l)&&(_=!0,l=l[0]);const b=Hn(l);0===i&&null!==a?null==h?Qb(s,a,b):hs(s,a,b,h||null,!0):1===i&&null!==a?hs(s,a,b,h||null,!0):2===i?function hI(i,s,a){const l=Kf(i,s);l&&function dI(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,b,_):3===i&&s.destroyNode(b),null!=f&&function tM(i,s,a,l,h){const f=a[7];f!==Hn(a)&&$u(s,i,l,f,h);for(let b=10;b<a.length;b++){const E=a[b];Cc(E[1],E,i,s,l,f)}}(s,i,f,a,h)}}function Wf(i,s,a){return i.createElement(s,a)}function qb(i,s){const a=i[9],l=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,Ts(h,-1)),a.splice(l,1)}function Wm(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const h=l[17];null!==h&&h!==i&&qb(h,l),s>0&&(i[a-1][4]=l[4]);const f=Er(i,10+s);!function Zm(i,s){Cc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=f[19];null!==_&&_.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Dd(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&Cc(i,s,a,3,null,null),function XS(i){let s=i[13];if(!s)return qf(i[1],i);for(;s;){let a=null;if(br(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)br(s)&&qf(s[1],s),s=s[3];null===s&&(s=i),br(s)&&qf(s[1],s),a=s&&s[4]}s=a}}(s)}}function qf(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Km(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof Ci)){const f=a[l+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const b=h[f[_]],E=f[_+1];try{E.call(b)}finally{}}else try{f.call(h)}finally{}}}}(i,s),function qm(i,s){const a=i.cleanup,l=s[7];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],b="function"==typeof _?_(s):Hn(s[_]),E=l[h=a[f+2]],I=a[f+3];"boolean"==typeof I?b.removeEventListener(a[f],E,I):I>=0?l[h=I]():l[h=-I].unsubscribe(),f+=2}else{const _=l[h=a[f+1]];a[f].call(_)}if(null!==l){for(let f=h+1;f<l.length;f++)(0,l[f])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Fr(s[3])){a!==s[3]&&qb(a,s);const l=s[19];null!==l&&l.detachView(i)}!function XC(i){Vm.delete(i[20])}(s)}}function Kb(i,s,a){return function Yb(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const h=i.data[l.directiveStart].encapsulation;if(h===lt.None||h===lt.Emulated)return null}return Vr(l,a)}(i,s.parent,a)}function hs(i,s,a,l,h){i.insertBefore(s,a,l,h)}function Qb(i,s,a){i.appendChild(s,a)}function Jb(i,s,a,l,h){null!==l?hs(i,s,a,l,h):Qb(i,s,a)}function Kf(i,s){return i.parentNode(s)}let Ym=function e0(i,s,a){return 40&i.type?Vr(i,a):null};function Qf(i,s,a,l){const h=Kb(i,l,s),f=s[11],b=function Qn(i,s,a){return Ym(i,s,a)}(l.parent||s[6],l,s);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Jb(f,h,a[E],b,!1);else Jb(f,h,a,b,!1)}function Jf(i,s){if(null!==s){const a=s.type;if(3&a)return Vr(s,i);if(4&a)return t0(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Jf(i,l);{const h=i[s.index];return Fr(h)?t0(-1,h):Hn(h)}}if(32&a)return Hm(s,i)()||Hn(i[s.index]);{const l=Qm(i,s);return null!==l?Array.isArray(l)?l[0]:Jf(ju(i[16]),l):Jf(i,s.next)}}return null}function Qm(i,s){return null!==s?i[16][6].projection[s.projection]:null}function t0(i,s){const a=10+i+1;if(a<s.length){const l=s[a],h=l[1].firstChild;if(null!==h)return Jf(l,h)}return s[7]}function Jm(i,s,a,l,h,f,_){for(;null!=a;){const b=l[a.index],E=a.type;if(_&&0===s&&(b&&Zr(Hn(b),l),a.flags|=4),64!=(64&a.flags))if(8&E)Jm(i,s,a.child,l,h,f,!1),$u(s,i,h,b,f);else if(32&E){const I=Hm(a,l);let M;for(;M=I();)$u(s,i,h,M,f);$u(s,i,h,b,f)}else 16&E?Ad(i,s,l,a,h,f):$u(s,i,h,b,f);a=_?a.projectionNext:a.next}}function Cc(i,s,a,l,h,f){Jm(a,l,i.firstChild,s,h,f,!1)}function Ad(i,s,a,l,h,f){const _=a[16],E=_[6].projection[l.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)$u(s,i,h,E[I],f);else Jm(i,s,E,_[3],h,f,!0)}function Ic(i,s,a){i.setAttribute(s,"style",a)}function Sd(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function fI(i,s,a){let l=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=s.length;if(h+f===l||i.charCodeAt(h+f)<=32)return h}a=h+1}}const Xm="ng-template";function e_(i,s,a){let l=0;for(;l<i.length;){let h=i[l++];if(a&&"class"===h){if(h=i[l],-1!==fI(h.toLowerCase(),s,0))return!0}else if(1===h){for(;l<i.length&&"string"==typeof(h=i[l++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function o0(i){return 4===i.type&&i.value!==Xm}function gI(i,s,a){return s===(4!==i.type||a?i.value:Xm)}function mI(i,s,a){let l=4;const h=i.attrs||[],f=function nM(i){for(let s=0;s<i.length;s++)if(Zl(i[s]))return s;return i.length}(h);let _=!1;for(let b=0;b<s.length;b++){const E=s[b];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!gI(i,E,a)||""===E&&1===s.length){if(co(l))return!1;_=!0}}else{const I=8&l?E:s[++b];if(8&l&&null!==i.attrs){if(!e_(i.attrs,I,a)){if(co(l))return!1;_=!0}continue}const U=_I(8&l?"class":E,h,o0(i),a);if(-1===U){if(co(l))return!1;_=!0;continue}if(""!==I){let q;q=U>f?"":h[U+1].toLowerCase();const ie=8&l?q:null;if(ie&&-1!==fI(ie,I,0)||2&l&&I!==q){if(co(l))return!1;_=!0}}}}else{if(!_&&!co(l)&&!co(E))return!1;if(_&&co(E))continue;_=!1,l=E|1&l}}return co(l)||_}function co(i){return 0==(1&i)}function _I(i,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let f=!1;for(;h<s.length;){const _=s[h];if(_===i)return h;if(3===_||6===_)f=!0;else{if(1===_||2===_){let b=s[++h];for(;"string"==typeof b;)b=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=f?1:2}return-1}return function s0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function yI(i,s,a=!1){for(let l=0;l<s.length;l++)if(mI(i,s[l],a))return!0;return!1}function a0(i,s){return i?":not("+s.trim()+")":s}function c0(i){let s=i[0],a=1,l=2,h="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const b=i[++a];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!co(_)&&(s+=a0(f,h),h=""),l=_,f=f||!co(l);a++}return""!==h&&(s+=a0(f,h)),s}const Zt={};function u0(i){l0(Ot(),Ie(),Wn()+i,!1)}function l0(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&nc(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Ss(s,f,0,a)}Do(a)}function p0(i,s=null,a=null,l){const h=g0(i,s,a,l);return h.resolveInjectorInitializers(),h}function g0(i,s=null,a=null,l,h=new Set){const f=[a||Dt,UC(i)];return l=l||("object"==typeof i?void 0:pe(i)),new Tm(f,s||kf(),l||null,h)}let Dc=(()=>{class i{static create(a,l){if(Array.isArray(a))return p0({name:""},l,a,"");{const h=a.name??"";return p0({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=_a,i.NULL=new Eb,i.\u0275prov=en({token:i,providedIn:"any",factory:()=>Pn(bb)}),i.__NG_ELEMENT_ID__=-1,i})();function $i(i,s=et.Default){const a=Ie();return null===a?Pn(i,s):bu(On(),a,Q(i),s)}function i_(){throw new Error("invalid")}function np(i,s){return i<<17|s<<2}function Vn(i){return i>>17&32767}function xd(i){return 2|i}function Hs(i){return(131068&i)>>2}function o_(i,s){return-131069&i|s<<2}function ip(i){return 1|i}function hp(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],f=a[l+1];if(-1!==f){const _=i.data[f];Vl(h),_.contentQueries(2,s[f],f)}}}function fp(i,s,a,l,h,f,_,b,E,I,M){const U=s.blueprint.slice();return U[0]=h,U[2]=76|l,(null!==M||i&&1024&i[2])&&(U[2]|=1024),Ds(U),U[3]=U[15]=i,U[8]=a,U[10]=_||i&&i[10],U[11]=b||i&&i[11],U[12]=E||i&&i[12]||null,U[9]=I||i&&i[9]||null,U[6]=f,U[20]=function QC(){return YC++}(),U[21]=M,U[16]=2==s.type?i[16]:U,U}function Ac(i,s,a,l,h){let f=i.data[s];if(null===f)f=function Aa(i,s,a,l,h){const f=Eo(),_=to(),E=i.data[s]=function b_(i,s,a,l,h,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,l,h);return null===i.firstChild&&(i.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(i,s,a,l,h),function Jh(){return Lt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=h;const _=function Co(){const i=Lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Tr(f,!0),f}function Sc(i,s,a,l){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return h}function p_(i,s,a){fu(s);try{const l=i.viewQuery;null!==l&&mp(1,l,a);const h=i.template;null!==h&&M0(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&hp(i,s),i.staticViewQueries&&mp(2,i.viewQuery,a);const f=i.components;null!==f&&function S0(i,s){for(let a=0;a<s.length;a++)EM(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ha()}}function pp(i,s,a,l){const h=s[2];if(128!=(128&h)){fu(s);try{Ds(s),function Xa(i){return Lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&M0(i,s,a,2,l);const _=3==(3&h);if(_){const I=i.preOrderCheckHooks;null!==I&&nc(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Ss(s,I,0,null),$l(s,0)}if(function wM(i){for(let s=Gf(i);null!==s;s=Zf(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const h=a[l],f=h[3];0==(512&h[2])&&Ts(f,1),h[2]|=512}}}(s),function bM(i){for(let s=Gf(i);null!==s;s=Zf(s))for(let a=10;a<s.length;a++){const l=s[a],h=l[1];wo(l)&&pp(h,l,h.template,l[8])}}(s),null!==i.contentQueries&&hp(i,s),_){const I=i.contentCheckHooks;null!==I&&nc(s,I)}else{const I=i.contentHooks;null!==I&&Ss(s,I,1),$l(s,1)}!function h_(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Do(~h);else{const f=h,_=a[++l],b=a[++l];Xh(_,f),b(2,s[f])}}}finally{Do(-1)}}(i,s);const b=i.components;null!==b&&function f_(i,s){for(let a=0;a<s.length;a++)YI(i,s[a])}(s,b);const E=i.viewQuery;if(null!==E&&mp(2,E,l),_){const I=i.viewCheckHooks;null!==I&&nc(s,I)}else{const I=i.viewHooks;null!==I&&Ss(s,I,2),$l(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Ts(s[3],-1))}finally{ha()}}}function M0(i,s,a,l,h){const f=Wn(),_=2&l;try{Do(-1),_&&s.length>22&&l0(i,s,22,!1),a(l,h)}finally{Do(f)}}function g_(i,s,a){!Qe()||(function mM(i,s,a,l){const h=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||xs(a,s),Zr(l,s);const _=a.initialInputs;for(let b=h;b<f;b++){const E=i.data[b],I=si(E);I&&_M(s,a,E);const M=Ao(s,i,b,a);Zr(M,s),null!==_&&KI(0,b-h,M,E,0,_),I&&(gn(a.index,s)[8]=M)}}(i,s,a,Vr(a,s)),128==(128&a.flags)&&function E_(i,s,a){const l=a.directiveStart,h=a.directiveEnd,f=a.index,_=function cb(){return Lt.lFrame.currentDirectiveIndex}();try{Do(f);for(let b=l;b<h;b++){const E=i.data[b],I=s[b];hu(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&ZI(E,I)}}finally{Do(-1),hu(_)}}(i,s,a))}function m_(i,s,a=Vr){const l=s.localNames;if(null!==l){let h=s.index+1;for(let f=0;f<l.length;f+=2){const _=l[f+1],b=-1===_?a(s,i):i[_];i[h++]=b}}}function R0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=__(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function __(i,s,a,l,h,f,_,b,E,I){const M=22+l,U=M+h,q=function HI(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Zt);return a}(M,U),ie="function"==typeof I?I():I;return q[1]={type:i,blueprint:q,template:a,queries:null,viewQuery:b,declTNode:s,data:q.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:ie,incompleteFirstPass:!1}}function v_(i,s,a,l){const h=T_(s);null===a?h.push(l):(h.push(a),i.firstCreatePass&&A_(i).push(l,h.length-1))}function O0(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const h=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,h):a[l]=[s,h]}return a}function P0(i,s){const l=s.directiveEnd,h=i.data,f=s.attrs,_=[];let b=null,E=null;for(let I=s.directiveStart;I<l;I++){const M=h[I],U=M.inputs,q=null===f||o0(s)?null:yM(U,f);_.push(q),b=O0(U,I,b),E=O0(M.outputs,I,E)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=b,s.outputs=E}function w_(i,s){const a=gn(s,i);16&a[2]||(a[2]|=32)}function L0(i,s,a,l){let h=!1;if(Qe()){const f=function WI(i,s,a){const l=i.directiveRegistry;let h=null;if(l)for(let f=0;f<l.length;f++){const _=l[f];yI(a,_.selectors,!1)&&(h||(h=[]),sc(xs(a,s),i,_.type),si(_)?(C_(i,a),h.unshift(_)):h.push(_))}return h}(i,s,a),_=null===l?null:{"":-1};if(null!==f){h=!0,gp(a,i.data.length,f.length);for(let M=0;M<f.length;M++){const U=f[M];U.providersResolver&&U.providersResolver(U)}let b=!1,E=!1,I=Sc(i,s,f.length,null);for(let M=0;M<f.length;M++){const U=f[M];a.mergedAttrs=ic(a.mergedAttrs,U.hostAttrs),Gu(i,a,s,I,U),U0(I,U,_),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const q=U.type.prototype;!b&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!E&&(q.ngOnChanges||q.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),E=!0),I++}P0(i,a)}_&&function qI(i,s,a){if(s){const l=i.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new Te(-301,!1);l.push(s[h],f)}}}(a,l,_)}return a.mergedAttrs=ic(a.mergedAttrs,a.attrs),h}function V0(i,s,a,l,h,f){const _=f.hostBindings;if(_){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const E=~s.index;(function gM(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=E&&b.push(E),b.push(l,h,_)}}function ZI(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function C_(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function U0(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;si(s)&&(a[""]=i)}}function gp(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Gu(i,s,a,l,h){i.data[l]=h;const f=h.factory||(h.factory=Dr(h.type)),_=new Ci(f,si(h),$i);i.blueprint[l]=_,a[l]=_,V0(i,s,0,l,Sc(i,a,h.hostVars,Zt),h)}function _M(i,s,a){const l=Vr(s,i),h=R0(a),f=i[10],_=I_(i,fp(i,h,null,a.onPush?32:16,l,s,f,f.createRenderer(l,a),null,null,null));i[s.index]=_}function lo(i,s,a,l,h,f){const _=Vr(i,s);!function B0(i,s,a,l,h,f,_){if(null==f)i.removeAttribute(s,h,a);else{const b=null==_?be(f):_(f,l||"",h);i.setAttribute(s,h,b,a)}}(s[11],_,f,i.value,a,l,h)}function KI(i,s,a,l,h,f){const _=f[s];if(null!==_){const b=l.setInput;for(let E=0;E<_.length;){const I=_[E++],M=_[E++],U=_[E++];null!==b?l.setInput(a,U,I,M):a[M]=U}}}function yM(i,s){let a=null,l=0;for(;l<s.length;){const h=s[l];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[l+1])),l+=2}else l+=2;else l+=4}return a}function j0(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function YI(i,s){const a=gn(s,i);if(wo(a)){const l=a[1];48&a[2]?pp(l,a,l.template,a[8]):a[5]>0&&$0(a)}}function $0(i){for(let l=Gf(i);null!==l;l=Zf(l))for(let h=10;h<l.length;h++){const f=l[h];if(wo(f))if(512&f[2]){const _=f[1];pp(_,f,_.template,f[8])}else f[5]>0&&$0(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=gn(a[l],i);wo(h)&&h[5]>0&&$0(h)}}function EM(i,s){const a=gn(s,i),l=a[1];(function CM(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),p_(l,a,a[8])}function I_(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function H0(i){for(;i;){i[2]|=32;const s=ju(i);if(oa(i)&&!s)return i;i=s}return null}function D_(i,s,a,l=!0){const h=s[10];h.begin&&h.begin();try{pp(i,s,i.template,a)}catch(_){throw l&&M_(s,_),_}finally{h.end&&h.end()}}function mp(i,s,a){Vl(0),s(i,a)}function T_(i){return i[7]||(i[7]=[])}function A_(i){return i.cleanup||(i.cleanup=[])}function M_(i,s){const a=i[9],l=a?a.get(Ed,null):null;l&&l.handleError(s)}function _p(i,s,a,l,h){for(let f=0;f<a.length;){const _=a[f++],b=a[f++],E=s[_],I=i.data[_];null!==I.setInput?I.setInput(E,h,l,b):E[b]=h}}function x_(i,s,a){let l=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const b=s[_];"number"==typeof b?f=b:1==f?h=ye(h,b):2==f&&(l=ye(l,b+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function zs(i,s,a,l,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(Hn(f)),Fr(f))for(let b=10;b<f.length;b++){const E=f[b],I=E[1].firstChild;null!==I&&zs(E[1],E,I,l)}const _=a.type;if(8&_)zs(i,s,a.child,l);else if(32&_){const b=Hm(a,s);let E;for(;E=b();)l.push(E)}else if(16&_){const b=Qm(s,a);if(Array.isArray(b))l.push(...b);else{const E=ju(s[16]);zs(E[1],E,b,l,!0)}}a=h?a.projectionNext:a.next}return l}class Nd{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return zs(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Fr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Wm(s,l),Er(a,l))}this._attachedToViewContainer=!1}Dd(this._lView[1],this._lView)}onDestroy(s){v_(this._lView[1],this._lView,null,s)}markForCheck(){H0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){D_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wb(i,s){Cc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=s}}class z0 extends Nd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;D_(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Gs extends Ec{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=D(s);return new Fd(a,this.ngModule)}}function Uo(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class G0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const h=this.injector.get(s,Rm,l);return h!==Rm||a===Rm?h:this.parentInjector.get(s,a,l)}}class Fd extends Mm{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function bI(i){return i.map(c0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Uo(this.componentDef.inputs)}get outputs(){return Uo(this.componentDef.outputs)}create(s,a,l,h){let f=(h=h||this.ngModule)instanceof ls?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new G0(s,f):s,b=_.get(HC,null);if(null===b)throw new Te(407,!1);const E=_.get(xm,null),I=b.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",U=l?function k0(i,s,a){return i.selectRootElement(s,a===lt.ShadowDom)}(I,l,this.componentDef.encapsulation):Wf(b.createRenderer(null,this.componentDef),M,function JI(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),q=this.componentDef.onPush?288:272,ie=__(0,null,null,1,0,null,null,null,null,null),Ae=fp(null,ie,null,q,null,null,b,I,E,_,null);let Ge,tt;fu(Ae);try{const at=function Ma(i,s,a,l,h,f){const _=a[1];a[22]=i;const E=Ac(_,22,2,"#host",null),I=E.mergedAttrs=s.hostAttrs;null!==I&&(x_(E,I,!0),null!==i&&(To(h,i,I),null!==E.classes&&Sd(h,i,E.classes),null!==E.styles&&Ic(h,i,E.styles)));const M=l.createRenderer(i,s),U=fp(a,R0(s),null,s.onPush?32:16,a[22],E,l,M,f||null,null,null);return _.firstCreatePass&&(sc(xs(E,a),_,s.type),C_(_,E),gp(E,a.length,1)),I_(a,U),a[22]=U}(U,this.componentDef,Ae,b,I);if(U)if(l)To(I,U,["ng-version",kb.full]);else{const{attrs:At,classes:Ve}=function wI(i){const s=[],a=[];let l=1,h=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===h?""!==f&&s.push(f,i[++l]):8===h&&a.push(f);else{if(!co(h))break;h=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);At&&To(I,U,At),Ve&&Ve.length>0&&Sd(I,U,Ve.join(" "))}if(tt=Is(ie,22),void 0!==a){const At=tt.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const Mt=a[Ve];At.push(null!=Mt?Array.from(Mt):null)}}Ge=function Z0(i,s,a,l){const h=a[1],f=function F0(i,s,a){const l=On();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Gu(i,l,s,Sc(i,s,1,null),a),P0(i,l));const h=Ao(s,i,l.directiveStart,l);Zr(h,s);const f=Vr(l,s);return f&&Zr(f,s),h}(h,a,s);if(i[8]=a[8]=f,null!==l)for(const b of l)b(f,s);if(s.contentQueries){const b=On();s.contentQueries(1,f,b.directiveStart)}const _=On();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Do(_.index),V0(a[1],_,0,_.directiveStart,_.directiveEnd,s),ZI(s,f)),f}(at,this.componentDef,Ae,[ui]),p_(ie,Ae,null)}finally{ha()}return new Sa(this.componentType,Ge,Fu(tt,Ae),Ae,tt)}}class Sa extends class Ab{}{constructor(s,a,l,h,f){super(),this.location=l,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new z0(h),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){const f=this._rootLView;_p(f[1],f,h,s,a),w_(f,this._tNode.index)}}get injector(){return new uc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function ui(){const i=On();tc(Ie()[1],i)}function R_(i){let s=function Zs(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let h;if(si(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Te(903,!1);h=s.\u0275dir}if(h){if(a){l.push(h);const _=i;_.inputs=yp(i.inputs),_.declaredInputs=yp(i.declaredInputs),_.outputs=yp(i.outputs);const b=h.hostBindings;b&&K0(i,b);const E=h.viewQuery,I=h.contentQueries;if(E&&W0(i,E),I&&q0(i,I),de(i.inputs,h.inputs),de(i.declaredInputs,h.declaredInputs),de(i.outputs,h.outputs),si(h)&&h.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let _=0;_<f.length;_++){const b=f[_];b&&b.ngInherit&&b(i),b===R_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function AM(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=s+=h.hostVars,h.hostAttrs=ic(h.hostAttrs,a=ic(a,h.hostAttrs))}}(l)}function yp(i){return i===rr?{}:i===Dt?[]:i}function W0(i,s){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function q0(i,s){const a=i.contentQueries;i.contentQueries=a?(l,h,f)=>{s(l,h,f),a(l,h,f)}:s}function K0(i,s){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}let Ld=null;function gs(){if(!Ld){const i=ht.Symbol;if(i&&i.iterator)Ld=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Ld=l)}}}return Ld}function Zu(i){return!!k_(i)&&(Array.isArray(i)||!(i instanceof Map)&&gs()in i)}function k_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ti(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function vp(i,s,a,l){const h=Ie();return ti(h,ec(),s)&&(Ot(),lo(qn(),h,i,s,a,l)),vp}function rD(i,s,a,l,h,f,_,b){const E=Ie(),I=Ot(),M=i+22,U=I.firstCreatePass?function MM(i,s,a,l,h,f,_,b,E){const I=s.consts,M=Ac(s,i,4,_||null,mi(I,b));L0(s,a,M,mi(I,E)),tc(s,M);const U=M.tViews=__(2,M,l,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,M),U.queries=s.queries.embeddedTView(M)),M}(M,I,E,s,a,l,h,f,_):I.data[M];Tr(U,!1);const q=E[11].createComment("");Qf(I,E,q,U),Zr(q,E),I_(E,E[M]=j0(q,E,q,U)),Ko(U)&&g_(I,E,U),null!=_&&m_(E,U,b)}function iw(i,s,a){const l=Ie();return ti(l,ec(),s)&&function Ti(i,s,a,l,h,f,_,b){const E=Vr(s,a);let M,I=s.inputs;!b&&null!=I&&(M=I[l])?(_p(i,a,M,l,h),qo(s)&&w_(a,s.index)):3&s.type&&(l=function zI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=_?_(h,s.value||"",l):h,f.setProperty(E,l,h))}(Ot(),qn(),l,i,s,l[11],a,!1),iw}function P_(i,s,a,l,h){const _=h?"class":"style";_p(i,a,s.inputs[_],_,l)}function Ep(i,s,a,l){const h=Ie(),f=Ot(),_=22+i,b=h[11],E=h[_]=Wf(b,s,function jl(){return Lt.lFrame.currentNamespace}()),I=f.firstCreatePass?function ow(i,s,a,l,h,f,_){const b=s.consts,I=Ac(s,i,2,h,mi(b,f));return L0(s,a,I,mi(b,_)),null!==I.attrs&&x_(I,I.attrs,!1),null!==I.mergedAttrs&&x_(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,f,h,0,s,a,l):f.data[_];Tr(I,!0);const M=I.mergedAttrs;null!==M&&To(b,E,M);const U=I.classes;null!==U&&Sd(b,E,U);const q=I.styles;return null!==q&&Ic(b,E,q),64!=(64&I.flags)&&Qf(f,h,E,I),0===function K(){return Lt.lFrame.elementDepthCount}()&&Zr(E,h),function fe(){Lt.lFrame.elementDepthCount++}(),Ko(I)&&(g_(f,h,I),function x0(i,s,a){if(Xi(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}(f,I,h)),null!==l&&m_(h,I),Ep}function Cp(){let i=On();to()?function da(){Lt.lFrame.isParent=!1}():(i=i.parent,Tr(i,!1));const s=i;!function $e(){Lt.lFrame.elementDepthCount--}();const a=Ot();return a.firstCreatePass&&(tc(a,i),Xi(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function gu(i){return 0!=(16&i.flags)}(s)&&P_(a,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function mu(i){return 0!=(32&i.flags)}(s)&&P_(a,s,Ie(),s.stylesWithoutHost,!1),Cp}function N_(i,s,a,l){return Ep(i,s,a,l),Cp(),N_}function qu(){return Ie()}function jd(i){return!!i&&"function"==typeof i.then}function L_(i){return!!i&&"function"==typeof i.subscribe}const Ip=L_;function Dp(i,s,a,l){const h=Ie(),f=Ot(),_=On();return function V_(i,s,a,l,h,f,_,b){const E=Ko(l),M=i.firstCreatePass&&A_(i),U=s[8],q=T_(s);let ie=!0;if(3&l.type||b){const tt=Vr(l,s),at=b?b(tt):tt,At=q.length,Ve=b?Mn=>b(Hn(Mn[l.index])):l.index;let Mt=null;if(!b&&E&&(Mt=function sw(i,s,a,l){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const _=h[f];if(_===a&&h[f+1]===l){const b=s[7],E=h[f+2];return b.length>E?b[E]:null}"string"==typeof _&&(f+=2)}return null}(i,s,h,l.index)),null!==Mt)(Mt.__ngLastListenerFn__||Mt).__ngNextListenerFn__=f,Mt.__ngLastListenerFn__=f,ie=!1;else{f=Tp(l,s,U,f,!1);const Mn=a.listen(at,h,f);q.push(f,Mn),M&&M.push(h,Ve,At,At+1)}}else f=Tp(l,s,U,f,!1);const Ae=l.outputs;let Ge;if(ie&&null!==Ae&&(Ge=Ae[h])){const tt=Ge.length;if(tt)for(let at=0;at<tt;at+=2){const cr=s[Ge[at]][Ge[at+1]].subscribe(f),Rn=q.length;q.push(f,cr),M&&M.push(h,l.index,Rn,-(Rn+1))}}}(f,h,h[11],_,i,s,0,l),Dp}function U_(i,s,a,l){try{return!1!==a(l)}catch(h){return M_(i,h),!1}}function Tp(i,s,a,l,h){return function f(_){if(_===Function)return l;H0(2&i.flags?gn(i.index,s):s);let E=U_(s,0,l,_),I=f.__ngNextListenerFn__;for(;I;)E=U_(s,0,I,_)&&E,I=I.__ngNextListenerFn__;return h&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function iD(i=1){return function As(i){return(Lt.lFrame.contextLView=function em(i,s){for(;i>0;)s=s[15],i--;return s}(i,Lt.lFrame.contextLView))[8]}(i)}function aD(i,s,a,l,h){const f=i[a+1],_=null===s;let b=l?Vn(f):Hs(f),E=!1;for(;0!==b&&(!1===E||_);){const M=i[b+1];cD(i[b],s)&&(E=!0,i[b+1]=l?ip(M):xd(M)),b=l?Vn(M):Hs(M)}E&&(i[a+1]=l?xd(f):ip(f))}function cD(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ns(i,s)>=0}function Mp(i,s){return function jo(i,s,a,l){const h=Ie(),f=Ot(),_=function Xo(i){const s=Lt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function Z_(i,s,a,l){const h=i.data;if(null===h[a+1]){const f=h[Wn()],_=function pw(i,s){return s>=i.expandoStartIndex}(i,a);(function K_(i,s){return 0!=(i.flags&(s?16:32))})(f,l)&&null===s&&!_&&(s=!1),s=function Vc(i,s,a,l){const h=function Fl(i){const s=Lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=xp(a=W_(null,i,s,a,l),s.attrs,l),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==h)if(a=W_(h,i,s,a,l),null===f){let E=function gw(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Hs(l))return i[Vn(l)]}(i,s,l);void 0!==E&&Array.isArray(E)&&(E=W_(null,i,s,E[1],l),E=xp(E,s.attrs,l),function hD(i,s,a,l){i[Vn(a?s.classBindings:s.styleBindings)]=l}(i,s,l,E))}else f=function mw(i,s,a){let l;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)l=xp(l,i[f].hostAttrs,a);return xp(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,l),function lw(i,s,a,l,h,f){let _=f?s.classBindings:s.styleBindings,b=Vn(_),E=Hs(_);i[l]=a;let M,I=!1;if(Array.isArray(a)){const U=a;M=U[1],(null===M||ns(U,M)>0)&&(I=!0)}else M=a;if(h)if(0!==E){const q=Vn(i[b+1]);i[l+1]=np(q,b),0!==q&&(i[q+1]=o_(i[q+1],l)),i[b+1]=function rp(i,s){return 131071&i|s<<17}(i[b+1],l)}else i[l+1]=np(b,0),0!==b&&(i[b+1]=o_(i[b+1],l)),b=l;else i[l+1]=np(E,0),0===b?b=l:i[E+1]=o_(i[E+1],l),E=l;I&&(i[l+1]=xd(i[l+1])),aD(i,M,l,!0),aD(i,M,l,!1),function sD(i,s,a,l,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&ns(f,s)>=0&&(a[l+1]=ip(a[l+1]))}(s,M,i,l,f),_=np(b,E),f?s.classBindings=_:s.styleBindings=_}(h,f,s,a,_,l)}}(f,i,_,l),s!==Zt&&ti(h,_,s)&&function bw(i,s,a,l,h,f,_,b){if(!(3&s.type))return;const E=i.data,I=E[b+1];qd(function w0(i){return 1==(1&i)}(I)?q_(E,s,a,h,Hs(I),_):void 0)||(qd(f)||function Hi(i){return 2==(2&i)}(I)&&(f=q_(E,null,a,h,b,_)),function r0(i,s,a,l,h){if(s)h?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:ds.DashCase;null==h?i.removeStyle(a,l,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=ds.Important),i.setStyle(a,l,h,f))}}(l,_,Ei(Wn(),a),h,f))}(f,f.data[Wn()],h,h[11],i,h[_+1]=function fD(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=pe(oo(i)))),i}(s,a),l,_)}(i,s,null,!0),Mp}function W_(i,s,a,l,h){let f=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(f=s[b],l=xp(l,f.hostAttrs,h),f!==i);)b++;return null!==i&&(a.directiveStylingLast=b),l}function xp(i,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?h=_:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),_t(i,_,!!a||s[++f]))}return void 0===i?null:i}function q_(i,s,a,l,h,f){const _=null===s;let b;for(;h>0;){const E=i[h],I=Array.isArray(E),M=I?E[1]:E,U=null===M;let q=a[h+1];q===Zt&&(q=U?Dt:void 0);let ie=U?Jl(q,l):M===l?q:void 0;if(I&&!qd(ie)&&(ie=Jl(E,l)),qd(ie)&&(b=ie,_))return b;const Ae=i[h+1];h=_?Vn(Ae):Hs(Ae)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(b=Jl(E,l))}return b}function qd(i){return void 0!==i}function ww(i,s=""){const a=Ie(),l=Ot(),h=i+22,f=l.firstCreatePass?Ac(l,h,1,s,null):l.data[h],_=a[h]=function Gm(i,s){return i.createText(s)}(a[11],s);Qf(l,a,_,f),Tr(f,!1)}function Kd(i){return Rp("",i,""),Kd}function Rp(i,s,a){const l=Ie(),h=function qs(i,s,a,l){return ti(i,ec(),a)?s+be(a)+l:Zt}(l,i,s,a);return h!==Zt&&function Vo(i,s,a){const l=Ei(s,i);!function Gb(i,s,a){i.setValue(s,a)}(i[11],l,a)}(l,Wn(),h),Rp}const Yu=void 0;var ID=["en",[["a","p"],["AM","PM"],Yu],[["AM","PM"],Yu,Yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yu,"{1} 'at' {0}",Yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VM(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Qu={};function sy(i){const s=function UM(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=TD(s);if(a)return a;const l=s.split("-")[0];if(a=TD(l),a)return a;if("en"===l)return ID;throw new Te(701,!1)}function DD(i){return sy(i)[Pt.PluralCase]}function TD(i){return i in Qu||(Qu[i]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[i]),Qu[i]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Bc="en-US";let Pw=Bc;function oh(i,s,a,l,h){if(i=Q(i),Array.isArray(i))for(let f=0;f<i.length;f++)oh(i[f],s,a,l,h);else{const f=Ot(),_=Ie();let b=so(i)?i:Q(i.provide),E=Of(i);const I=On(),M=1048575&I.providerIndexes,U=I.directiveStart,q=I.providerIndexes>>20;if(so(i)||!i.multi){const ie=new Ci(E,h,$i),Ae=Kp(b,s,h?M:M+q,U);-1===Ae?(sc(xs(I,_),f,b),Cy(f,i,s.length),s.push(b),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(ie),_.push(ie)):(a[Ae]=ie,_[Ae]=ie)}else{const ie=Kp(b,s,M+q,U),Ae=Kp(b,s,M,M+q),Ge=ie>=0&&a[ie],tt=Ae>=0&&a[Ae];if(h&&!tt||!h&&!Ge){sc(xs(I,_),f,b);const at=function Iy(i,s,a,l,h){const f=new Ci(i,a,$i);return f.multi=[],f.index=s,f.componentProviders=0,qp(f,h,l&&!a),f}(h?Yp:zD,a.length,h,l,E);!h&&tt&&(a[Ae].providerFactory=at),Cy(f,i,s.length,0),s.push(b),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(at),_.push(at)}else Cy(f,i,ie>-1?ie:Ae,qp(a[h?Ae:ie],E,!h&&l));!h&&l&&tt&&a[Ae].componentProviders++}}}function Cy(i,s,a,l){const h=so(s),f=function Db(i){return!!i.useClass}(s);if(h||f){const E=(f?Q(s.useClass):s).prototype.ngOnDestroy;if(E){const I=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const M=I.indexOf(a);-1===M?I.push(a,[l,E]):I[M+1].push(l,E)}else I.push(a,E)}}}function qp(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Kp(i,s,a,l){for(let h=a;h<l;h++)if(s[h]===i)return h;return-1}function zD(i,s,a,l){return sh(this.multi,[])}function Yp(i,s,a,l){const h=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=Ao(a,a[1],this.providerFactory.index,l);f=b.slice(0,_),sh(h,f);for(let E=_;E<b.length;E++)f.push(b[E])}else f=[],sh(h,f);return f}function sh(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Dy(i,s=[]){return a=>{a.providersResolver=(l,h)=>function qw(i,s,a){const l=Ot();if(l.firstCreatePass){const h=si(i);oh(a,l.data,l.blueprint,h,!0),oh(s,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,s)}}class el{}class tl{}function Kw(i,s){return new Ty(i,s??null)}class Ty extends el{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gs(this);const l=Le(s);this._bootstrapComponents=js(l.bootstrap),this._r3Injector=g0(s,a,[{provide:el,useValue:this},{provide:Ec,useValue:this.componentFactoryResolver}],pe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class nl extends tl{constructor(s){super(),this.moduleType=s}create(s){return new Ty(this.moduleType,s)}}class ZD extends el{constructor(s,a,l){super(),this.componentFactoryResolver=new Gs(this),this.instance=null;const h=new Tm([...s,{provide:el,useValue:this},{provide:Ec,useValue:this.componentFactoryResolver}],a||kf(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Ay(i,s,a=null){return new ZD(i,s,a).injector}let rl=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Cb(0,a.type),h=l.length>0?Ay([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=en({token:i,providedIn:"environment",factory:()=>new i(Pn(ls))}),i})();function Yw(i){i.getStandaloneInjector=s=>s.get(rl).getOrCreateStandaloneInjector(i)}function cl(i){return s=>{setTimeout(i,void 0,s)}}const Ho=class eg extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let h=s,f=a||(()=>null),_=l;if(s&&"object"==typeof s){const E=s;h=E.next?.bind(E),f=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(f=cl(f),h&&(h=cl(h)),_&&(_=cl(_)));const b=super.subscribe({next:h,error:f,complete:_});return s instanceof B.w0&&s.add(b),b}};function sr(){return this._results[gs()]()}class ul{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=gs(),l=ul.prototype;l[a]||(l[a]=sr)}get changes(){return this._changes||(this._changes=new Ho)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=Un(s);(this._changesDetected=!function Vi(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],f=s[l];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xs=(()=>{class i{}return i.__NG_ELEMENT_ID__=sE,i})();const dh=Xs,QD=class extends dh{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,h=fp(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(l)),p_(l,h,s),new Nd(h)}};function sE(){return tg(On(),Ie())}function tg(i,s){return 4&i.type?new QD(s,i,Fu(i,s)):null}let ng=(()=>{class i{}return i.__NG_ELEMENT_ID__=JD,i})();function JD(){return jy(On(),Ie())}const XD=ng,ll=class extends XD{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new uc(this._hostTNode,this._hostLView)}get parentInjector(){const s=oc(this._hostTNode,this._hostLView);if(am(s)){const a=es(s,this._hostLView),l=Ms(s);return new uc(a[1].data[l+8],a)}return new uc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ea(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let h,f;"number"==typeof l?h=l:null!=l&&(h=l.index,f=l.injector);const _=s.createEmbeddedView(a||{},f);return this.insert(_,h),_}createComponent(s,a,l,h,f){const _=s&&!function ro(i){return"function"==typeof i}(s);let b;if(_)b=a;else{const U=a||{};b=U.index,l=U.injector,h=U.projectableNodes,f=U.environmentInjector||U.ngModuleRef}const E=_?s:new Fd(D(s)),I=l||this.parentInjector;if(!f&&null==E.ngModule){const q=(_?I:this.parentInjector).get(ls,null);q&&(f=q)}const M=E.create(I,h,void 0,f);return this.insert(M.hostView,b),M}insert(s,a){const l=s._lView,h=l[1];if(function Qh(i){return Fr(i[3])}(l)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const U=l[3],q=new ll(U,U[6],U[3]);q.detach(q.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function uI(i,s,a,l){const h=10+l,f=a.length;l>0&&(a[h-1][4]=s),l<f-10?(s[4]=a[h],ks(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function lI(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const b=s[19];null!==b&&b.insertView(i),s[2]|=64}(h,l,_,f);const b=t0(f,_),E=l[11],I=Kf(E,_[7]);return null!==I&&function Zb(i,s,a,l,h,f){l[0]=h,l[6]=s,Cc(i,l,a,1,h,f)}(h,_[6],E,l,I,b),s.attachToViewContainerRef(),ks(rg(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ea(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Wm(this._lContainer,a);l&&(Er(rg(this._lContainer),a),Dd(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Wm(this._lContainer,a);return l&&null!=Er(rg(this._lContainer),a)?new Nd(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function ea(i){return i[8]}function rg(i){return i[8]||(i[8]=[])}function jy(i,s){let a;const l=s[i.index];if(Fr(l))a=l;else{let h;if(8&i.type)h=Hn(l);else{const f=s[11];h=f.createComment("");const _=Vr(i,s);hs(f,Kf(f,_),h,function Xb(i,s){return i.nextSibling(s)}(f,_),!1)}s[i.index]=a=j0(l,s,h,i),I_(s,a)}return new ll(a,i,s)}class $y{constructor(s){this.queryList=s,this.matches=null}clone(){return new $y(this.queryList)}setDirty(){this.queryList.setDirty()}}class ig{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<l;f++){const _=a.getByIndex(f);h.push(this.queries[_.indexInDeclarationView].clone())}return new ig(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==fl(s,a).matches&&this.queries[a].setDirty()}}class cE{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class og{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,h);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new og(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class sg{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new sg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const f=l[h];this.matchTNodeWithReadOption(s,a,Hy(a,f)),this.matchTNodeWithReadOption(s,a,cc(a,s,f,!1,!1))}else l===Xs?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,cc(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Ia||h===ng||h===Xs&&4&a.type)this.addMatch(a.index,-2);else{const f=cc(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Hy(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function uE(i,s,a,l){return-1===a?function zy(i,s){return 11&i.type?Fu(i,s):4&i.type?tg(i,s):null}(s,i):-2===a?function lE(i,s,a){return a===Ia?Fu(s,i):a===Xs?tg(s,i):a===ng?jy(s,i):void 0}(i,s,l):Ao(i,i[1],a,s)}function ag(i,s,a,l){const h=s[19].queries[l];if(null===h.matches){const f=i.data,_=a.matches,b=[];for(let E=0;E<_.length;E+=2){const I=_[E];b.push(I<0?null:uE(s,f[I],_[E+1],a.metadata.read))}h.matches=b}return h.matches}function Gy(i,s,a,l){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const _=ag(i,s,h,a);for(let b=0;b<f.length;b+=2){const E=f[b];if(E>0)l.push(_[b/2]);else{const I=f[b+1],M=s[-E];for(let U=10;U<M.length;U++){const q=M[U];q[17]===q[3]&&Gy(q[1],q,I,l)}if(null!==M[9]){const U=M[9];for(let q=0;q<U.length;q++){const ie=U[q];Gy(ie[1],ie,I,l)}}}}}return l}function dE(i){const s=Ie(),a=Ot(),l=Ll();Vl(l+1);const h=fl(a,l);if(i.dirty&&function bo(i){return 4==(4&i[2])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?Gy(a,s,l,[]):ag(a,s,h,l);i.reset(f,xb),i.notifyOnChanges()}return!0}return!1}function hh(i,s,a,l){const h=Ot();if(h.firstCreatePass){const f=On();(function Zy(i,s,a){null===i.queries&&(i.queries=new og),i.queries.track(new sg(s,a))})(h,new cE(s,a,l),f.index),function fh(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function ug(i,s,a){const l=new ul(4==(4&a));v_(i,s,l,l.destroy),null===s[19]&&(s[19]=new ig),s[19].queries.push(new $y(l))}(h,Ie(),a)}function hl(){return function cg(i,s){return i[19].queries[s].queryList}(Ie(),Ll())}function fl(i,s){return i.queries.getByIndex(s)}function ut(...i){}const TE=new Ln("Application Initializer");let nt=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ut,this.reject=ut,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(jd(f))a.push(f);else if(Ip(f)){const _=new Promise((b,E)=>{f.subscribe({complete:b,error:E})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Pn(TE,8))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const _e=new Ln("AppId",{providedIn:"root",factory:function Be(){return`${dg()}${dg()}${dg()}`}});function dg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AE=new Ln("Platform Initializer"),lT=new Ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),SE=new Ln("appBootstrapListener");let ME=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const av=new Ln("LocaleId",{providedIn:"root",factory:()=>ei(av,et.Optional|et.SkipSelf)||function dT(){return typeof $localize<"u"&&$localize.locale||Bc}()}),hT=new Ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let ar=(()=>{class i{compileModuleSync(a){return new nl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=js(Le(a).declarations).reduce((_,b)=>{const E=D(b);return E&&_.push(new Fd(E)),_},[]);return new xE(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const cv=(()=>Promise.resolve(0))();function ta(i){typeof Zone>"u"?cv.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class vi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function pT(){let i=ht.requestAnimationFrame,s=ht.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function OE(i){const s=()=>{!function kE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ht,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,bi(i),i.isCheckStableRunning=!0,Kc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),bi(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,f,_,b)=>{try{return fg(i),a.invokeTask(h,f,_,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),uv(i)}},onInvoke:(a,l,h,f,_,b,E)=>{try{return fg(i),a.invoke(h,f,_,b,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),uv(i)}},onHasTask:(a,l,h,f)=>{a.hasTask(h,f),l===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,bi(i),Kc(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vi.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(vi.isInAngularZone())throw new Te(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+h,s,gT,ut,ut);try{return f.runTask(_,a,l)}finally{f.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const gT={};function Kc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function bi(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function fg(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function uv(i){i._nesting--,Kc(i)}class PE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}const na=new Ln(""),pg=new Ln("");let lv,ue=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lv||(function Go(i){lv=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vi.assertNotInAngularZone(),ta(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ta(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Pn(vi),Pn(bh),Pn(pg))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})(),bh=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return lv?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),fo=null;const ra=new Ln("AllowMultipleToken"),dv=new Ln("PlatformDestroyListeners");class _T{constructor(s,a){this.name=s,this.token=a}}function fr(i,s,a=[]){const l=`Platform: ${s}`,h=new Ln(l);return(f=[])=>{let _=mg();if(!_||_.injector.get(ra,!1)){const b=[...a,...f,{provide:h,useValue:!0}];i?i(b):function Si(i){if(fo&&!fo.get(ra,!1))throw new Te(400,!1);fo=i;const s=i.get(Yc);(function Pa(i){const s=i.get(AE,null);s&&s.forEach(a=>a())})(i)}(function Qr(i=[],s){return Dc.create({name:s,providers:[{provide:Mf,useValue:"platform"},{provide:dv,useValue:new Set([()=>fo=null])},...i]})}(b,l))}return function gg(i){const s=mg();if(!s)throw new Te(401,!1);return s}()}}function mg(){return fo?.get(Yc)??null}let Yc=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function VE(i,s){let a;return a="noop"===i?new PE:("zone.js"===i?void 0:i)||new vi(s),a}(l?.ngZone,function Mi(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:vi,useValue:h}];return h.run(()=>{const _=Dc.create({providers:f,parent:this.injector,name:a.moduleType.name}),b=a.create(_),E=b.injector.get(Ed,null);if(!E)throw new Te(402,!1);return h.runOutsideAngular(()=>{const I=h.onError.subscribe({next:M=>{E.handleError(M)}});b.onDestroy(()=>{Jn(this._modules,b),I.unsubscribe()})}),function Rr(i,s,a){try{const l=a();return jd(l)?l.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(E,h,()=>{const I=b.injector.get(nt);return I.runInitializers(),I.donePromise.then(()=>(function ms(i){Rt(i,"Expected localeId to be defined"),"string"==typeof i&&(Pw=i.toLowerCase().replace(/_/g,"-"))}(b.injector.get(av,Bc)||Bc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const h=UE({},l);return function NE(i,s,a){const l=new nl(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const l=a.injector.get(Zo);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Te(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(dv,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Pn(Dc))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function UE(i,s){return Array.isArray(s)?s.reduce(UE,i):{...i,...s}}let Zo=(()=>{class i{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new P.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new P.y(b=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{vi.assertNotInAngularZone(),ta(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{vi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{E.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ne.T)(f,_.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof Mm;if(!this._injector.get(nt).done)throw!h&&ce(a),new Te(405,false);let _;_=h?a:this._injector.get(Ec).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const b=function mT(i){return i.isBoundToModule}(_)?void 0:this._injector.get(el),I=_.create(Dc.NULL,[],l||_.selector,b),M=I.location.nativeElement,U=I.injector.get(na,null);return U?.registerApplication(M),I.onDestroy(()=>{this.detachView(I.hostView),Jn(this.components,I),U?.unregisterApplication(M)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Jn(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(SE,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Jn(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Te(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Pn(vi),Pn(ls),Pn(Ed))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Jn(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let fv=!0,vl=!1;function vT(){return vl=!0,fv}function Fa(){if(vl)throw new Error("Cannot enable prod mode after platform setup.");fv=!1}let La=(()=>{class i{}return i.__NG_ELEMENT_ID__=vg,i})();function vg(i){return function Qc(i,s,a){if(qo(i)&&!a){const l=gn(i.index,s);return new Nd(l,l)}return 47&i.type?new Nd(s[16],s):null}(On(),Ie(),16==(16&i))}class vv{constructor(){}supports(s){return Zu(s)}create(s){return new CT(s)}}const eu=(i,s)=>s;class CT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||eu}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,f=null;for(;a||l;){const _=!l||a&&a.currentIndex<bv(l,h,f)?a:l,b=bv(_,h,f),E=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{f||(f=[]);const I=b-h,M=E-h;if(I!=M){for(let q=0;q<I;q++){const ie=q<f.length?f[q]:f[q]=0,Ae=ie+q;M<=Ae&&Ae<I&&(f[q]=ie+1)}f[_.previousIndex]=M-I}}b!==E&&s(_,b,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Zu(s))throw new Te(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)f=s[b],_=this._trackByFn(b,f),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,f,_,b)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,b),l=!0),a=a._next}else h=0,function ew(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[gs()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,b=>{_=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,b,_,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new Dh(a,l),f,h),s}_verifyReinsertion(s,a,l,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Th),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Th),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Dh{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cg{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Th{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new Cg,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bv(i,s,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class wv{constructor(){}supports(s){return s instanceof Map||k_(s)}create(){return new ri}}class ri{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||k_(s)))throw new Te(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,_=h._next;return f&&(f._next=_),_&&(_._prev=f),h._next=null,h._prev=null,h}const l=new IT(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class IT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BE(){return new Ev([new vv])}let Ev=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||BE()),deps:[[i,new Ls,new Kn]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new Te(901,!1)}}return i.\u0275prov=en({token:i,providedIn:"root",factory:BE}),i})();function jE(){return new Cv([new wv])}let Cv=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||jE()),deps:[[i,new Ls,new Kn]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new Te(901,!1)}}return i.\u0275prov=en({token:i,providedIn:"root",factory:jE}),i})();const ST=fr(null,"core",[]);let $E=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Pn(Zo))},i.\u0275mod=Ht({type:i}),i.\u0275inj=Et({}),i})();function HE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(gt,Re,N)=>{N.d(Re,{Z:()=>Te});var u=N(2090),B=N(4859),P=N(9681),ne=N(1877);class ge{constructor(be,le){this._delegate=be,this.firebase=le,(0,P._addComponent)(be,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(be,le=P._DEFAULT_ENTRY_NAME){var ot;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(be);return!Ye.isInitialized()&&"EXPLICIT"===(null===(ot=Ye.getComponent())||void 0===ot?void 0:ot.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:le})}_removeServiceInstance(be,le=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(le)}_addComponent(be){(0,P._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,P._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ye(){const Je=function pe(Je){const be={},le={__esModule:!0,initializeApp:function Fe(te,ae={}){const we=P.initializeApp(te,ae);if((0,u.r3)(be,we.name))return be[we.name];const J=new Je(we,le);return be[we.name]=J,J},app:Ye,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ce(te){const ae=te.name,we=ae.replace("-compat","");if(P._registerComponent(te)&&"PUBLIC"===te.type){const J=(X=Ye())=>{if("function"!=typeof X[we])throw de.create("invalid-app-argument",{appName:ae});return X[we]()};void 0!==te.serviceProps&&(0,u.ZB)(J,te.serviceProps),le[we]=J,Je.prototype[we]=function(...X){return this._getService.bind(this,ae).apply(this,te.multipleInstances?X:[])}}return"PUBLIC"===te.type?le[we]:null},removeApp:function ot(te){delete be[te]},useAsService:function Ke(te,ae){return"serverAuth"===ae?null:ae},modularAPIs:P}};function Ye(te){if(!(0,u.r3)(be,te=te||P._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:te});return be[te]}return le.default=le,Object.defineProperty(le,"apps",{get:function Pe(){return Object.keys(be).map(te=>be[te])}}),Ye.App=Je,le}(ge);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function be(le){(0,u.ZB)(Je,le)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Je}(),z=new ne.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=W;!function De(Je){(0,P.registerVersion)("@firebase/app-compat","0.1.36",Je)}()},9681:(gt,Re,N)=>{N.r(Re),N.d(Re,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Or,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>an,_addOrOverwriteComponent:()=>en,_apps:()=>ln,_clearComponents:()=>kr,_components:()=>Nn,_getProvider:()=>Et,_registerComponent:()=>Ut,_removeServiceInstance:()=>In,deleteApp:()=>$r,getApp:()=>$n,getApps:()=>mr,initializeApp:()=>jn,onLog:()=>Fn,registerVersion:()=>fn,setLogLevel:()=>dn});var u=N(5861),B=N(4859),P=N(1877),ne=N(2090),ge=N(8766);class ve{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function de(Xe){return"VERSION"===Xe.getComponent()?.type}(rt)){const yt=rt.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(rt=>rt).join(" ")}}const pe="@firebase/app",W=new P.Yd("@firebase/app"),Rt="[DEFAULT]",qe={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,Nn=new Map;function an(Xe,Me){try{Xe.container.addComponent(Me)}catch(rt){W.debug(`Component ${Me.name} failed to register with FirebaseApp ${Xe.name}`,rt)}}function en(Xe,Me){Xe.container.addOrOverwriteComponent(Me)}function Ut(Xe){const Me=Xe.name;if(Nn.has(Me))return W.debug(`There were multiple attempts to register component ${Me}.`),!1;Nn.set(Me,Xe);for(const rt of ln.values())an(rt,Xe);return!0}function Et(Xe,Me){const rt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),Xe.container.getProvider(Me)}function In(Xe,Me,rt=Rt){Et(Xe,Me).clearInstance(rt)}function kr(){Nn.clear()}const kn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class er{constructor(Me,rt,yt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const Or="9.12.0";function jn(Xe,Me={}){let rt=Xe;"object"!=typeof Me&&(Me={name:Me});const yt=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},Me),Ct=yt.name;if("string"!=typeof Ct||!Ct)throw kn.create("bad-app-name",{appName:String(Ct)});if(rt||(rt=(0,ne.aH)()),!rt)throw kn.create("no-options");const Ht=ln.get(Ct);if(Ht){if((0,ne.vZ)(rt,Ht.options)&&(0,ne.vZ)(yt,Ht.config))return Ht;throw kn.create("duplicate-app",{appName:Ct})}const G=new B.H0(Ct);for(const O of Nn.values())G.addComponent(O);const j=new er(rt,yt,G);return ln.set(Ct,j),j}function $n(Xe=Rt){const Me=ln.get(Xe);if(!Me&&Xe===Rt)return jn();if(!Me)throw kn.create("no-app",{appName:Xe});return Me}function mr(){return Array.from(ln.values())}function $r(Xe){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(Xe){const Me=Xe.name;ln.has(Me)&&(ln.delete(Me),yield Promise.all(Xe.container.getProviders().map(rt=>rt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function fn(Xe,Me,rt){var yt;let Ct=null!==(yt=qe[Xe])&&void 0!==yt?yt:Xe;rt&&(Ct+=`-${rt}`);const Ht=Ct.match(/\s|\//),G=Me.match(/\s|\//);if(Ht||G){const j=[`Unable to register library "${Ct}" with version "${Me}":`];return Ht&&j.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),Ht&&G&&j.push("and"),G&&j.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void W.warn(j.join(" "))}Ut(new B.wA(`${Ct}-version`,()=>({library:Ct,version:Me}),"VERSION"))}function Fn(Xe,Me){if(null!==Xe&&"function"!=typeof Xe)throw kn.create("invalid-log-argument");(0,P.Am)(Xe,Me)}function dn(Xe){(0,P.Ub)(Xe)}const yn="firebase-heartbeat-store";let vn=null;function rn(){return vn||(vn=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(Xe,Me)=>{0===Me&&Xe.createObjectStore(yn)}}).catch(Xe=>{throw kn.create("idb-open",{originalErrorMessage:Xe.message})})),vn}function lt(){return(lt=(0,u.Z)(function*(Xe){var Me;try{return(yield rn()).transaction(yn).objectStore(yn).get(nr(Xe))}catch(rt){if(rt instanceof ne.ZR)W.warn(rt.message);else{const yt=kn.create("idb-get",{originalErrorMessage:null===(Me=rt)||void 0===Me?void 0:Me.message});W.warn(yt.message)}}})).apply(this,arguments)}function ht(Xe,Me){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(Xe,Me){var rt;try{const Ct=(yield rn()).transaction(yn,"readwrite");return yield Ct.objectStore(yn).put(Me,nr(Xe)),Ct.done}catch(yt){if(yt instanceof ne.ZR)W.warn(yt.message);else{const Ct=kn.create("idb-set",{originalErrorMessage:null===(rt=yt)||void 0===rt?void 0:rt.message});W.warn(Ct.message)}}})).apply(this,arguments)}function nr(Xe){return`${Xe.name}!${Xe.options.appId}`}class ur{constructor(Me){this.container=Me,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new jt(rt),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Me=this;return(0,u.Z)(function*(){const yt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=kt();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!Me._heartbeatsCache.heartbeats.some(Ht=>Ht.date===Ct))return Me._heartbeatsCache.heartbeats.push({date:Ct,agent:yt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(Ht=>{const G=new Date(Ht.date).valueOf();return Date.now()-G<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,u.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const rt=kt(),{heartbeatsToSend:yt,unsentEntries:Ct}=function _r(Xe,Me=1024){const rt=[];let yt=Xe.slice();for(const Ct of Xe){const Ht=rt.find(G=>G.agent===Ct.agent);if(Ht){if(Ht.dates.push(Ct.date),Zn(rt)>Me){Ht.dates.pop();break}}else if(rt.push({agent:Ct.agent,dates:[Ct.date]}),Zn(rt)>Me){rt.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:yt}}(Me._heartbeatsCache.heartbeats),Ht=(0,ne.L)(JSON.stringify({version:2,heartbeats:yt}));return Me._heartbeatsCache.lastSentHeartbeatDate=rt,Ct.length>0?(Me._heartbeatsCache.heartbeats=Ct,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),Ht})()}}function kt(){return(new Date).toISOString().substring(0,10)}class jt{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,u.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function dt(Xe){return lt.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var rt=this;return(0,u.Z)(function*(){var yt;if(yield rt._canUseIndexedDBPromise){const Ht=yield rt.read();return ht(rt.app,{lastSentHeartbeatDate:null!==(yt=Me.lastSentHeartbeatDate)&&void 0!==yt?yt:Ht.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var rt=this;return(0,u.Z)(function*(){var yt;if(yield rt._canUseIndexedDBPromise){const Ht=yield rt.read();return ht(rt.app,{lastSentHeartbeatDate:null!==(yt=Me.lastSentHeartbeatDate)&&void 0!==yt?yt:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...Me.heartbeats]})}})()}}function Zn(Xe){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Dn(Xe){Ut(new B.wA("platform-logger",Me=>new ve(Me),"PRIVATE")),Ut(new B.wA("heartbeat",Me=>new ur(Me),"PRIVATE")),fn(pe,"0.8.1",Xe),fn(pe,"0.8.1","esm2017"),fn("fire-js","")}("")},4859:(gt,Re,N)=>{N.d(Re,{H0:()=>pe,wA:()=>P});var u=N(5861),B=N(2090);class P{constructor(W,z,Q){this.name=W,this.instanceFactory=z,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ne="[DEFAULT]";class ge{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const Q=new B.BH;if(this.instancesDeferred.set(z,Q),this.isInitialized(z)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:z});Oe&&Q.resolve(Oe)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const Q=this.normalizeInstanceIdentifier(W?.identifier),Oe=null!==(z=W?.optional)&&void 0!==z&&z;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(De){if(Oe)return null;throw De}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function de(ye){return"EAGER"===ye.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[z,Q]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(z);try{const De=this.getOrInitializeService({instanceIdentifier:Oe});Q.resolve(De)}catch{}}}}clearInstance(W=ne){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,u.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...z.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ne){return this.instances.has(W)}getOptions(W=ne){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,Q=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Q,options:z});for(const[De,Te]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(De)&&Te.resolve(Oe);return Oe}onInit(W,z){var Q;const Oe=this.normalizeInstanceIdentifier(z),De=null!==(Q=this.onInitCallbacks.get(Oe))&&void 0!==Q?Q:new Set;De.add(W),this.onInitCallbacks.set(Oe,De);const Te=this.instances.get(Oe);return Te&&W(Te,Oe),()=>{De.delete(W)}}invokeOnInitCallbacks(W,z){const Q=this.onInitCallbacks.get(z);if(Q)for(const Oe of Q)try{Oe(W,z)}catch{}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let Q=this.instances.get(W);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=W,ye===ne?void 0:ye),options:z}),this.instances.set(W,Q),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(Q,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Q)}catch{}var ye;return Q||null}normalizeInstanceIdentifier(W=ne){return this.component?this.component.multipleInstances?W:ne:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new ge(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},2833:(gt,Re,N)=>{var u=N(5861),B=N(9681),P=N(4859),ne=N(2090),ge=N(8766);const ve="@firebase/installations",de="0.5.14",ye=`w:${de}`,W="FIS_v2",Je=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(ee){return ee instanceof ne.ZR&&ee.code.includes("request-failed")}function le({projectId:ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ee}/installations`}function ot(ee){return{token:ee.token,requestStatus:2,expiresIn:ae(ee.expiresIn),creationTime:Date.now()}}function Ye(ee,Ee){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(ee,Ee){const ft=(yield Ee.json()).error;return Je.create("request-failed",{requestName:ee,serverCode:ft.code,serverMessage:ft.message,serverStatus:ft.status})})).apply(this,arguments)}function Pe({apiKey:ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ee})}function Ce(ee,{refreshToken:Ee}){const ze=Pe(ee);return ze.append("Authorization",function we(ee){return`${W} ${ee}`}(Ee)),ze}function Ke(ee){return te.apply(this,arguments)}function te(){return(te=(0,u.Z)(function*(ee){const Ee=yield ee();return Ee.status>=500&&Ee.status<600?ee():Ee})).apply(this,arguments)}function ae(ee){return Number(ee.replace("s","000"))}function J(ee,Ee){return X.apply(this,arguments)}function X(){return(X=(0,u.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ee},{fid:ze}){const ft=le(ee),zt=Pe(ee),cn=Ee.getImmediate({optional:!0});if(cn){const Nr=yield cn.getHeartbeatsHeader();Nr&&zt.append("x-firebase-client",Nr)}const An={method:"POST",headers:zt,body:JSON.stringify({fid:ze,authVersion:W,appId:ee.appId,sdkVersion:ye})},Pr=yield Ke(()=>fetch(ft,An));if(Pr.ok){const Nr=yield Pr.json();return{fid:Nr.fid||ze,registrationStatus:2,refreshToken:Nr.refreshToken,authToken:ot(Nr.authToken)}}throw yield Ye("Create Installation",Pr)})).apply(this,arguments)}function he(ee){return new Promise(Ee=>{setTimeout(Ee,ee)})}const He=/^[cdef][\w-]{21}$/;function mt(){try{const ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ee),ee[0]=112+ee[0]%16;const ze=function Xt(ee){return function oe(ee){return btoa(String.fromCharCode(...ee)).replace(/\+/g,"-").replace(/\//g,"_")}(ee).substr(0,22)}(ee);return He.test(ze)?ze:""}catch{return""}}function Rt(ee){return`${ee.appName}!${ee.appId}`}const qe=new Map;function ln(ee,Ee){const ze=Rt(ee);en(ze,Ee),function Ut(ee,Ee){const ze=function In(){return!Et&&"BroadcastChannel"in self&&(Et=new BroadcastChannel("[Firebase] FID Change"),Et.onmessage=ee=>{en(ee.data.key,ee.data.fid)}),Et}();ze&&ze.postMessage({key:ee,fid:Ee}),function kr(){0===qe.size&&Et&&(Et.close(),Et=null)}()}(ze,Ee)}function en(ee,Ee){const ze=qe.get(ee);if(ze)for(const ft of ze)ft(Ee)}let Et=null;const er="firebase-installations-store";let Or=null;function jn(){return Or||(Or=(0,ge.X3)("firebase-installations-database",1,{upgrade:(ee,Ee)=>{0===Ee&&ee.createObjectStore(er)}})),Or}function $n(ee,Ee){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(ee,Ee){const ze=Rt(ee),zt=(yield jn()).transaction(er,"readwrite"),cn=zt.objectStore(er),xn=yield cn.get(ze);return yield cn.put(Ee,ze),yield zt.done,(!xn||xn.fid!==Ee.fid)&&ln(ee,Ee.fid),Ee})).apply(this,arguments)}function $r(ee){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(ee){const Ee=Rt(ee),ft=(yield jn()).transaction(er,"readwrite");yield ft.objectStore(er).delete(Ee),yield ft.done})).apply(this,arguments)}function fn(ee,Ee){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(ee,Ee){const ze=Rt(ee),zt=(yield jn()).transaction(er,"readwrite"),cn=zt.objectStore(er),xn=yield cn.get(ze),An=Ee(xn);return void 0===An?yield cn.delete(ze):yield cn.put(An,ze),yield zt.done,An&&(!xn||xn.fid!==An.fid)&&ln(ee,An.fid),An})).apply(this,arguments)}function dn(ee){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(ee){let Ee;const ze=yield fn(ee.appConfig,ft=>{const zt=vr(ft),cn=yn(ee,zt);return Ee=cn.registrationPromise,cn.installationEntry});return""===ze.fid?{installationEntry:yield Ee}:{installationEntry:ze,registrationPromise:Ee}})).apply(this,arguments)}function vr(ee){return bn(ee||{fid:mt(),registrationStatus:0})}function yn(ee,Ee){if(0===Ee.registrationStatus){if(!navigator.onLine)return{installationEntry:Ee,registrationPromise:Promise.reject(Je.create("app-offline"))};const ze={fid:Ee.fid,registrationStatus:1,registrationTime:Date.now()},ft=function vn(ee,Ee){return rn.apply(this,arguments)}(ee,ze);return{installationEntry:ze,registrationPromise:ft}}return 1===Ee.registrationStatus?{installationEntry:Ee,registrationPromise:dt(ee)}:{installationEntry:Ee}}function rn(){return(rn=(0,u.Z)(function*(ee,Ee){try{const ze=yield J(ee,Ee);return $n(ee.appConfig,ze)}catch(ze){throw be(ze)&&409===ze.customData.serverCode?yield $r(ee.appConfig):yield $n(ee.appConfig,{fid:Ee.fid,registrationStatus:0}),ze}})).apply(this,arguments)}function dt(ee){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(ee){let Ee=yield ht(ee.appConfig);for(;1===Ee.registrationStatus;)yield he(100),Ee=yield ht(ee.appConfig);if(0===Ee.registrationStatus){const{installationEntry:ze,registrationPromise:ft}=yield dn(ee);return ft||ze}return Ee})).apply(this,arguments)}function ht(ee){return fn(ee,Ee=>{if(!Ee)throw Je.create("installation-not-found");return bn(Ee)})}function bn(ee){return function nr(ee){return 1===ee.registrationStatus&&ee.registrationTime+1e4<Date.now()}(ee)?{fid:ee.fid,registrationStatus:0}:ee}function rr(ee,Ee){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ee},ze){const ft=ur(ee,ze),zt=Ce(ee,ze),cn=Ee.getImmediate({optional:!0});if(cn){const Nr=yield cn.getHeartbeatsHeader();Nr&&zt.append("x-firebase-client",Nr)}const An={method:"POST",headers:zt,body:JSON.stringify({installation:{sdkVersion:ye,appId:ee.appId}})},Pr=yield Ke(()=>fetch(ft,An));if(Pr.ok)return ot(yield Pr.json());throw yield Ye("Generate Auth Token",Pr)})).apply(this,arguments)}function ur(ee,{fid:Ee}){return`${le(ee)}/${Ee}/authTokens:generate`}function kt(ee){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(ee,Ee=!1){let ze;const ft=yield fn(ee.appConfig,cn=>{if(!rt(cn))throw Je.create("not-registered");const xn=cn.authToken;if(!Ee&&yt(xn))return cn;if(1===xn.requestStatus)return ze=jt(ee,Ee),cn;{if(!navigator.onLine)throw Je.create("app-offline");const An=Ht(cn);return ze=Xe(ee,An),An}});return ze?yield ze:ft.authToken})).apply(this,arguments)}function jt(ee,Ee){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(ee,Ee){let ze=yield Dn(ee.appConfig);for(;1===ze.authToken.requestStatus;)yield he(100),ze=yield Dn(ee.appConfig);const ft=ze.authToken;return 0===ft.requestStatus?kt(ee,Ee):ft})).apply(this,arguments)}function Dn(ee){return fn(ee,Ee=>{if(!rt(Ee))throw Je.create("not-registered");return function G(ee){return 1===ee.requestStatus&&ee.requestTime+1e4<Date.now()}(Ee.authToken)?Object.assign(Object.assign({},Ee),{authToken:{requestStatus:0}}):Ee})}function Xe(ee,Ee){return Me.apply(this,arguments)}function Me(){return(Me=(0,u.Z)(function*(ee,Ee){try{const ze=yield rr(ee,Ee),ft=Object.assign(Object.assign({},Ee),{authToken:ze});return yield $n(ee.appConfig,ft),ze}catch(ze){if(!be(ze)||401!==ze.customData.serverCode&&404!==ze.customData.serverCode){const ft=Object.assign(Object.assign({},Ee),{authToken:{requestStatus:0}});yield $n(ee.appConfig,ft)}else yield $r(ee.appConfig);throw ze}})).apply(this,arguments)}function rt(ee){return void 0!==ee&&2===ee.registrationStatus}function yt(ee){return 2===ee.requestStatus&&!function Ct(ee){const Ee=Date.now();return Ee<ee.creationTime||ee.creationTime+ee.expiresIn<Ee+36e5}(ee)}function Ht(ee){const Ee={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ee),{authToken:Ee})}function O(){return(O=(0,u.Z)(function*(ee){const Ee=ee,{installationEntry:ze,registrationPromise:ft}=yield dn(Ee);return ft?ft.catch(console.error):kt(Ee).catch(console.error),ze.fid})).apply(this,arguments)}function D(){return(D=(0,u.Z)(function*(ee,Ee=!1){const ze=ee;return yield k(ze),(yield kt(ze,Ee)).token})).apply(this,arguments)}function k(ee){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(function*(ee){const{registrationPromise:Ee}=yield dn(ee);Ee&&(yield Ee)})).apply(this,arguments)}function Bt(ee){return Je.create("missing-app-config-values",{valueName:ee})}const Xr="installations",ki=ee=>{const Ee=ee.getProvider("app").getImmediate(),ze=function It(ee){if(!ee||!ee.options)throw Bt("App Configuration");if(!ee.name)throw Bt("App Name");const Ee=["projectId","apiKey","appId"];for(const ze of Ee)if(!ee.options[ze])throw Bt(ze);return{appName:ee.name,projectId:ee.options.projectId,apiKey:ee.options.apiKey,appId:ee.options.appId}}(Ee);return{app:Ee,appConfig:ze,heartbeatServiceProvider:(0,B._getProvider)(Ee,"heartbeat"),_delete:()=>Promise.resolve()}},Qi=ee=>{const Ee=ee.getProvider("app").getImmediate(),ze=(0,B._getProvider)(Ee,Xr).getImmediate();return{getId:()=>function j(ee){return O.apply(this,arguments)}(ze),getToken:zt=>function R(ee){return D.apply(this,arguments)}(ze,zt)}};(function vt(){(0,B._registerComponent)(new P.wA(Xr,ki,"PUBLIC")),(0,B._registerComponent)(new P.wA("installations-internal",Qi,"PRIVATE"))})(),(0,B.registerVersion)(ve,de),(0,B.registerVersion)(ve,de,"esm2017")},1877:(gt,Re,N)=>{N.d(Re,{Am:()=>ye,Ub:()=>pe,Yd:()=>de,in:()=>B});const u=[];var B=(()=>{return(W=B||(B={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",B;var W})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ne=B.INFO,ge={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ve=(W,z,...Q)=>{if(z<W.logLevel)return;const Oe=(new Date).toISOString(),De=ge[z];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[De](`[${Oe}]  ${W.name}:`,...Q)};class de{constructor(z){this.name=z,this._logLevel=ne,this._logHandler=ve,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in B))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...z),this._logHandler(this,B.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...z),this._logHandler(this,B.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,B.INFO,...z),this._logHandler(this,B.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,B.WARN,...z),this._logHandler(this,B.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...z),this._logHandler(this,B.ERROR,...z)}}function pe(W){u.forEach(z=>{z.setLogLevel(W)})}function ye(W,z){for(const Q of u){let Oe=null;z&&z.level&&(Oe=P[z.level]),Q.userLogHandler=null===W?null:(De,Te,...Je)=>{const be=Je.map(le=>{if(null==le)return null;if("string"==typeof le)return le;if("number"==typeof le||"boolean"==typeof le)return le.toString();if(le instanceof Error)return le.message;try{return JSON.stringify(le)}catch{return null}}).filter(le=>le).join(" ");Te>=(Oe??De.logLevel)&&W({level:B[Te].toLowerCase(),message:be,args:Je,type:De.name})}}}},8766:(gt,Re,N)=>{N.d(Re,{Lj:()=>Fe,X3:()=>Ye});var u=N(5861);let P,ne;const de=new WeakMap,pe=new WeakMap,ye=new WeakMap,W=new WeakMap,z=new WeakMap;let De={get(ae,we,J){if(ae instanceof IDBTransaction){if("done"===we)return pe.get(ae);if("objectStoreNames"===we)return ae.objectStoreNames||ye.get(ae);if("store"===we)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return le(ae[we])},set:(ae,we,J)=>(ae[we]=J,!0),has:(ae,we)=>ae instanceof IDBTransaction&&("done"===we||"store"===we)||we in ae};function be(ae){return"function"==typeof ae?function Je(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...we){return ae.apply(ot(this),we),le(de.get(this))}:function(...we){return le(ae.apply(ot(this),we))}:function(we,...J){const X=ae.call(ot(this),we,...J);return ye.set(X,we.sort?we.sort():[we]),le(X)}}(ae):(ae instanceof IDBTransaction&&function Oe(ae){if(pe.has(ae))return;const we=new Promise((J,X)=>{const he=()=>{ae.removeEventListener("complete",oe),ae.removeEventListener("error",He),ae.removeEventListener("abort",He)},oe=()=>{J(),he()},He=()=>{X(ae.error||new DOMException("AbortError","AbortError")),he()};ae.addEventListener("complete",oe),ae.addEventListener("error",He),ae.addEventListener("abort",He)});pe.set(ae,we)}(ae),((ae,we)=>we.some(J=>ae instanceof J))(ae,function ge(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,De):ae)}function le(ae){if(ae instanceof IDBRequest)return function Q(ae){const we=new Promise((J,X)=>{const he=()=>{ae.removeEventListener("success",oe),ae.removeEventListener("error",He)},oe=()=>{J(le(ae.result)),he()},He=()=>{X(ae.error),he()};ae.addEventListener("success",oe),ae.addEventListener("error",He)});return we.then(J=>{J instanceof IDBCursor&&de.set(J,ae)}).catch(()=>{}),z.set(we,ae),we}(ae);if(W.has(ae))return W.get(ae);const we=be(ae);return we!==ae&&(W.set(ae,we),z.set(we,ae)),we}const ot=ae=>z.get(ae);function Ye(ae,we,{blocked:J,upgrade:X,blocking:he,terminated:oe}={}){const He=indexedDB.open(ae,we),je=le(He);return X&&He.addEventListener("upgradeneeded",mt=>{X(le(He.result),mt.oldVersion,mt.newVersion,le(He.transaction))}),J&&He.addEventListener("blocked",()=>J()),je.then(mt=>{oe&&mt.addEventListener("close",()=>oe()),he&&mt.addEventListener("versionchange",()=>he())}).catch(()=>{}),je}function Fe(ae,{blocked:we}={}){const J=indexedDB.deleteDatabase(ae);return we&&J.addEventListener("blocked",()=>we()),le(J).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Ke=new Map;function te(ae,we){if(!(ae instanceof IDBDatabase)||we in ae||"string"!=typeof we)return;if(Ke.get(we))return Ke.get(we);const J=we.replace(/FromIndex$/,""),X=we!==J,he=Ce.includes(J);if(!(J in(X?IDBIndex:IDBObjectStore).prototype)||!he&&!Pe.includes(J))return;const oe=function(){var He=(0,u.Z)(function*(je,...mt){const Xt=this.transaction(je,he?"readwrite":"readonly");let Rt=Xt.store;return X&&(Rt=Rt.index(mt.shift())),(yield Promise.all([Rt[J](...mt),he&&Xt.done]))[0]});return function(mt){return He.apply(this,arguments)}}();return Ke.set(we,oe),oe}!function Te(ae){De=ae(De)}(ae=>({...ae,get:(we,J,X)=>te(we,J)||ae.get(we,J,X),has:(we,J)=>!!te(we,J)||ae.has(we,J)}))},5861:(gt,Re,N)=>{function u(P,ne,ge,ve,de,pe,ye){try{var W=P[pe](ye),z=W.value}catch(Q){return void ge(Q)}W.done?ne(z):Promise.resolve(z).then(ve,de)}function B(P){return function(){var ne=this,ge=arguments;return new Promise(function(ve,de){var pe=P.apply(ne,ge);function ye(z){u(pe,ve,de,ye,W,"next",z)}function W(z){u(pe,ve,de,ye,W,"throw",z)}ye(void 0)})}}N.d(Re,{Z:()=>B})}},gt=>{gt(gt.s=8202)}]);