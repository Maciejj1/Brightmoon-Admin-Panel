"use strict";(self.webpackChunkBrightmoon=self.webpackChunkBrightmoon||[]).push([[179],{2011:(gt,Oe,F)=>{F.d(Oe,{Dh:()=>pe,GT:()=>ve,cc:()=>De,hO:()=>Pe,on:()=>W,pX:()=>ge,xv:()=>_e});var u=F(4650),B=F(127),N=F(880);gt=F.hmd(gt);const ne=["ngOnDestroy"],ge=(de,ot,Qe,Fe={})=>new Proxy(de,{get:(Re,Ee)=>Qe.runOutsideAngular(()=>{var Ye;if(de[Ee])return!(null===(Ye=Fe?.spy)||void 0===Ye)&&Ye.get&&Fe.spy.get(Ee,de[Ee]),de[Ee];if(ne.indexOf(Ee)>-1)return()=>{};const te=ot.toPromise().then(ae=>{const we=ae&&ae[Ee];return"function"==typeof we?we.bind(ae):we&&we.then?we.then(J=>Qe.run(()=>J)):Qe.run(()=>we)});return new Proxy(()=>{},{get:(ae,we)=>te[we],apply:(ae,we,J)=>te.then(X=>{var he;const oe=X&&X(...J);return!(null===(he=Fe?.spy)||void 0===he)&&he.apply&&Fe.spy.apply(Ee,J,oe),oe})})})}),ve=(de,ot)=>{ot.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Fe=>{Object.defineProperty(de.prototype,Fe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Fe))})})};class le{constructor(ot){return ot}}const pe=new u.OlP("angularfire2.app.options"),_e=new u.OlP("angularfire2.app.name");function W(de,ot,Qe){const Re="object"==typeof Qe&&Qe||{};Re.name=Re.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const Ye=B.Z.apps.filter(te=>te&&te.name===Re.name)[0]||ot.runOutsideAngular(()=>B.Z.initializeApp(de,Re));try{JSON.stringify(de)!==JSON.stringify(Ye.options)&&H("error",`${Ye.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Ye)}const H=(de,...ot)=>{(0,u.X6Q)()&&typeof console<"u"&&console[de](...ot)},Q={provide:le,useFactory:W,deps:[pe,u.R0b,[new u.FiY,_e]]};let Pe=(()=>{class de{constructor(Qe){B.Z.registerVersion("angularfire",N.q4.full,"core"),B.Z.registerVersion("angularfire",N.q4.full,"app-compat"),B.Z.registerVersion("angular",u.q4F.full,Qe.toString())}static initializeApp(Qe,Fe){return{ngModule:de,providers:[{provide:pe,useValue:Qe},{provide:_e,useValue:Fe}]}}}return de.\u0275fac=function(Qe){return new(Qe||de)(u.LFG(u.Lbi))},de.\u0275mod=u.oAB({type:de}),de.\u0275inj=u.cJS({providers:[Q]}),de})();function De(de,ot,Qe,Fe,Re){const[,Ee,Ye]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===de)||[];if(Ee)return function xe(de,ot){try{return de.toString()===ot.toString()}catch{return de===ot}}(Re,Ye)||(be("error",`${ot} was already initialized on the ${Qe} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Re,was:Ye})),Ee;{const te=Fe();return globalThis.\u0275AngularfireInstanceCache.push([de,te,Re]),te}}const Xe=!!gt.hot,be=(de,...ot)=>{(0,u.X6Q)()&&typeof console<"u"&&console[de](...ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(gt,Oe,F)=>{F.d(Oe,{q4:()=>Wo,iC:()=>_i,HU:()=>bs,vb:()=>Su,JM:()=>rl,nk:()=>jn,u3:()=>Vt});var u=F(4650),B=F(5867),N=F(5861),ne=F(9681),ge=F(2090),ve=F(4859),le=F(1877);F(2833);const _e="@firebase/remote-config",W="0.3.13",De=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ft{constructor(L,K,fe,je){this.client=L,this.storage=K,this.storageCache=fe,this.logger=je}isCachedDataFresh(L,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-K,je=fe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${je}.`),je}fetch(L){var K=this;return(0,N.Z)(function*(){const[fe,je]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(je&&K.isCachedDataFresh(L.cacheMaxAgeMillis,fe))return je;L.eTag=je&&je.eTag;const Je=yield K.client.fetch(L),bt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&bt.push(K.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(bt),Je})()}}function Xt(V=navigator){return V.languages&&V.languages[0]||V.language}class At{constructor(L,K,fe,je,Je,bt){this.firebaseInstallations=L,this.sdkVersion=K,this.namespace=fe,this.projectId=je,this.apiKey=Je,this.appId=bt}fetch(L){var K=this;return(0,N.Z)(function*(){var fe,je,Je;const[bt,Yt]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Nt={sdk_version:K.sdkVersion,app_instance_id:bt,app_instance_id_token:Yt,app_id:K.appId,language_code:Xt()},On={method:"POST",headers:$n,body:JSON.stringify(Nt)},wo=fetch(kt,On),Co=new Promise((Zo,yi)=>{L.signal.addEventListener(()=>{const Xn=new Error("The operation was aborted.");Xn.name="AbortError",yi(Xn)})});let Ir;try{yield Promise.race([wo,Co]),Ir=yield wo}catch(Zo){let yi="fetch-client-network";throw"AbortError"===(null===(fe=Zo)||void 0===fe?void 0:fe.name)&&(yi="fetch-timeout"),De.create(yi,{originalErrorMessage:null===(je=Zo)||void 0===je?void 0:je.message})}let Xi=Ir.status;const la=Ir.headers.get("ETag")||void 0;let nc,Eo;if(200===Ir.status){let Zo;try{Zo=yield Ir.json()}catch(yi){throw De.create("fetch-client-parse",{originalErrorMessage:null===(Je=yi)||void 0===Je?void 0:Je.message})}nc=Zo.entries,Eo=Zo.state}if("INSTANCE_STATE_UNSPECIFIED"===Eo?Xi=500:"NO_CHANGE"===Eo?Xi=304:("NO_TEMPLATE"===Eo||"EMPTY_CONFIG"===Eo)&&(nc={}),304!==Xi&&200!==Xi)throw De.create("fetch-status",{httpStatus:Xi});return{status:Xi,eTag:la,config:nc}})()}}class kn{constructor(L,K){this.client=L,this.storage=K}fetch(L){var K=this;return(0,N.Z)(function*(){const fe=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(L,fe)})()}attemptFetch(L,{throttleEndTimeMillis:K,backoffCount:fe}){var je=this;return(0,N.Z)(function*(){yield function Ke(V,L){return new Promise((K,fe)=>{const je=Math.max(L-Date.now(),0),Je=setTimeout(K,je);V.addEventListener(()=>{clearTimeout(Je),fe(De.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,K);try{const Je=yield je.client.fetch(L);return yield je.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function un(V){if(!(V instanceof ge.ZR&&V.customData))return!1;const L=Number(V.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Je))throw Je;const bt={throttleEndTimeMillis:Date.now()+(0,ge.$s)(fe),backoffCount:fe+1};return yield je.storage.setThrottleMetadata(bt),je.attemptFetch(L,bt)}})()}}class Bt{constructor(L,K,fe,je,Je){this.app=L,this._client=K,this._storageCache=fe,this._storage=je,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ct(V,L){var K;const fe=V.target.error||void 0;return De.create(L,{originalErrorMessage:fe&&(null===(K=fe)||void 0===K?void 0:K.message)})}const In="app_namespace_store";class Kn{constructor(L,K,fe,je=function An(){return new Promise((V,L)=>{var K;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=je=>{L(Ct(je,"storage-open"))},fe.onsuccess=je=>{V(je.target.result)},fe.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(In,{keyPath:"compositeKey"})}}catch(fe){L(De.create("storage-open",{originalErrorMessage:null===(K=fe)||void 0===K?void 0:K.message}))}})}()){this.appId=L,this.appName=K,this.namespace=fe,this.openDbPromise=je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var K=this;return(0,N.Z)(function*(){const fe=yield K.openDbPromise;return new Promise((je,Je)=>{var bt;const Ie=fe.transaction([In],"readonly").objectStore(In),kt=K.createCompositeKey(L);try{const $n=Ie.get(kt);$n.onerror=Nt=>{Je(Ct(Nt,"storage-get"))},$n.onsuccess=Nt=>{const On=Nt.target.result;je(On?On.value:void 0)}}catch($n){Je(De.create("storage-get",{originalErrorMessage:null===(bt=$n)||void 0===bt?void 0:bt.message}))}})})()}set(L,K){var fe=this;return(0,N.Z)(function*(){const je=yield fe.openDbPromise;return new Promise((Je,bt)=>{var Yt;const kt=je.transaction([In],"readwrite").objectStore(In),$n=fe.createCompositeKey(L);try{const Nt=kt.put({compositeKey:$n,value:K});Nt.onerror=On=>{bt(Ct(On,"storage-set"))},Nt.onsuccess=()=>{Je()}}catch(Nt){bt(De.create("storage-set",{originalErrorMessage:null===(Yt=Nt)||void 0===Yt?void 0:Yt.message}))}})})()}delete(L){var K=this;return(0,N.Z)(function*(){const fe=yield K.openDbPromise;return new Promise((je,Je)=>{var bt;const Ie=fe.transaction([In],"readwrite").objectStore(In),kt=K.createCompositeKey(L);try{const $n=Ie.delete(kt);$n.onerror=Nt=>{Je(Ct(Nt,"storage-delete"))},$n.onsuccess=()=>{je()}}catch($n){Je(De.create("storage-delete",{originalErrorMessage:null===(bt=$n)||void 0===bt?void 0:bt.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class Ar{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,N.Z)(function*(){const K=L.storage.getLastFetchStatus(),fe=L.storage.getLastSuccessfulFetchTimestampMillis(),je=L.storage.getActiveConfig(),Je=yield K;Je&&(L.lastFetchStatus=Je);const bt=yield fe;bt&&(L.lastSuccessfulFetchTimestampMillis=bt);const Yt=yield je;Yt&&(L.activeConfig=Yt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function zr(){return tt.apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Un(){(0,ne._registerComponent)(new ve.wA("remote-config",function V(L,{instanceIdentifier:K}){const fe=L.getProvider("app").getImmediate(),je=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw De.create("registration-window");if(!(0,ge.hl)())throw De.create("indexed-db-unavailable");const{projectId:Je,apiKey:bt,appId:Yt}=fe.options;if(!Je)throw De.create("registration-project-id");if(!bt)throw De.create("registration-api-key");if(!Yt)throw De.create("registration-app-id");const Ie=new Kn(Yt,fe.name,K=K||"firebase"),kt=new Ar(Ie),$n=new le.Yd(_e);$n.logLevel=le.in.ERROR;const Nt=new At(je,ne.SDK_VERSION,K,Je,bt,Yt),On=new kn(Nt,Ie),wo=new ft(On,Ie,kt,$n),Co=new Bt(fe,wo,kt,Ie,$n);return function Ye(V){const L=(0,ge.m9)(V);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Co),Co},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(_e,W),(0,ne.registerVersion)(_e,W,"esm2017")}();var hn=F(8766);const Pn="/firebase-messaging-sw.js",dn="/firebase-cloud-messaging-push-scope",Yn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yn="google.c.a.c_id",bn="google.c.a.c_l",rn="google.c.a.ts",ut="google.c.a.e";var dt=(()=>{return(V=dt||(dt={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",dt;var V})();function wn(V){const L=new Uint8Array(V);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qn(V){const K=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(K),je=new Uint8Array(fe.length);for(let Je=0;Je<fe.length;++Je)je[Je]=fe.charCodeAt(Je);return je}const Jn="fcm_token_details_db",or="fcm_token_object_Store";function Ot(V){return hr.apply(this,arguments)}function hr(){return hr=(0,N.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(Jn))return null;let L=null;return(yield(0,hn.X3)(Jn,5,{upgrade:(fe=(0,N.Z)(function*(je,Je,bt,Yt){var Ie;if(Je<2||!je.objectStoreNames.contains(or))return;const kt=Yt.objectStore(or),$n=yield kt.index("fcmSenderId").get(V);if(yield kt.clear(),$n)if(2===Je){const Nt=$n;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;L={token:Nt.fcmToken,createTime:null!==(Ie=Nt.createTime)&&void 0!==Ie?Ie:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:wn(Nt.vapidKey)}}}else if(3===Je){const Nt=$n;L={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:wn(Nt.auth),p256dh:wn(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:wn(Nt.vapidKey)}}}else if(4===Je){const Nt=$n;L={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:wn(Nt.auth),p256dh:wn(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:wn(Nt.vapidKey)}}}}),function(Je,bt,Yt,Ie){return fe.apply(this,arguments)})})).close(),yield(0,hn.Lj)(Jn),yield(0,hn.Lj)("fcm_vapid_details_db"),yield(0,hn.Lj)("undefined"),zt(L)?L:null;var fe}),hr.apply(this,arguments)}function zt(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:L}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const et="firebase-messaging-store";let Se=null;function nt(){return Se||(Se=(0,hn.X3)("firebase-messaging-database",1,{upgrade:(V,L)=>{0===L&&V.createObjectStore(et)}})),Se}function yt(V){return Et.apply(this,arguments)}function Et(){return(Et=(0,N.Z)(function*(V){const L=O(V),fe=yield(yield nt()).transaction(et).objectStore(et).get(L);if(fe)return fe;{const je=yield Ot(V.appConfig.senderId);if(je)return yield Ht(V,je),je}})).apply(this,arguments)}function Ht(V,L){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(V,L){const K=O(V),je=(yield nt()).transaction(et,"readwrite");return yield je.objectStore(et).put(L,K),yield je.done,L})).apply(this,arguments)}function j(V){return P.apply(this,arguments)}function P(){return(P=(0,N.Z)(function*(V){const L=O(V),fe=(yield nt()).transaction(et,"readwrite");yield fe.objectStore(et).delete(L),yield fe.done})).apply(this,arguments)}function O({appConfig:V}){return V.appId}const k=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $(V,L){return ce.apply(this,arguments)}function ce(){return(ce=(0,N.Z)(function*(V,L){var K;const fe=yield Wt(V),je=$t(L),Je={method:"POST",headers:fe,body:JSON.stringify(je)};let bt;try{bt=yield(yield fetch(at(V.appConfig),Je)).json()}catch(Yt){throw k.create("token-subscribe-failed",{errorInfo:null===(K=Yt)||void 0===K?void 0:K.toString()})}if(bt.error)throw k.create("token-subscribe-failed",{errorInfo:bt.error.message});if(!bt.token)throw k.create("token-subscribe-no-token");return bt.token})).apply(this,arguments)}function Le(V,L){return We.apply(this,arguments)}function We(){return(We=(0,N.Z)(function*(V,L){var K;const fe=yield Wt(V),je=$t(L.subscriptionOptions),Je={method:"PATCH",headers:fe,body:JSON.stringify(je)};let bt;try{bt=yield(yield fetch(`${at(V.appConfig)}/${L.token}`,Je)).json()}catch(Yt){throw k.create("token-update-failed",{errorInfo:null===(K=Yt)||void 0===K?void 0:K.toString()})}if(bt.error)throw k.create("token-update-failed",{errorInfo:bt.error.message});if(!bt.token)throw k.create("token-update-no-token");return bt.token})).apply(this,arguments)}function me(V,L){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,N.Z)(function*(V,L){var K;const je={method:"DELETE",headers:yield Wt(V)};try{const bt=yield(yield fetch(`${at(V.appConfig)}/${L}`,je)).json();if(bt.error)throw k.create("token-unsubscribe-failed",{errorInfo:bt.error.message})}catch(Je){throw k.create("token-unsubscribe-failed",{errorInfo:null===(K=Je)||void 0===K?void 0:K.toString()})}})).apply(this,arguments)}function at({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function Wt(V){return It.apply(this,arguments)}function It(){return(It=(0,N.Z)(function*({appConfig:V,installations:L}){const K=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function $t({p256dh:V,auth:L,endpoint:K,vapidKey:fe}){const je={web:{endpoint:K,auth:L,p256dh:V}};return fe!==Yn&&(je.web.applicationPubKey=fe),je}const Qr=6048e5;function xn(V){return ki.apply(this,arguments)}function ki(){return(ki=(0,N.Z)(function*(V){const L=yield Gt(V.swRegistration,V.vapidKey),K={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:L.endpoint,auth:wn(L.getKey("auth")),p256dh:wn(L.getKey("p256dh"))},fe=yield yt(V.firebaseDependencies);if(fe){if(Sn(fe.subscriptionOptions,K))return Date.now()>=fe.createTime+Qr?ee(V,{token:fe.token,createTime:Date.now(),subscriptionOptions:K}):fe.token;try{yield me(V.firebaseDependencies,fe.token)}catch(je){console.warn(je)}return Ge(V.firebaseDependencies,K)}return Ge(V.firebaseDependencies,K)})).apply(this,arguments)}function Ki(V){return vt.apply(this,arguments)}function vt(){return(vt=(0,N.Z)(function*(V){const L=yield yt(V.firebaseDependencies);L&&(yield me(V.firebaseDependencies,L.token),yield j(V.firebaseDependencies));const K=yield V.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function ee(V,L){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,N.Z)(function*(V,L){try{const K=yield Le(V.firebaseDependencies,L),fe=Object.assign(Object.assign({},L),{token:K,createTime:Date.now()});return yield Ht(V.firebaseDependencies,fe),K}catch(K){throw yield Ki(V),K}})).apply(this,arguments)}function Ge(V,L){return ht.apply(this,arguments)}function ht(){return(ht=(0,N.Z)(function*(V,L){const fe={token:yield $(V,L),createTime:Date.now(),subscriptionOptions:L};return yield Ht(V,fe),fe.token})).apply(this,arguments)}function Gt(V,L){return cn.apply(this,arguments)}function cn(){return(cn=(0,N.Z)(function*(V,L){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qn(L)})})).apply(this,arguments)}function Sn(V,L){return L.vapidKey===V.vapidKey&&L.endpoint===V.endpoint&&L.auth===V.auth&&L.p256dh===V.p256dh}function Tn(V){const L={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function Or(V,L){if(!L.notification)return;V.notification={};const K=L.notification.title;K&&(V.notification.title=K);const fe=L.notification.body;fe&&(V.notification.body=fe);const je=L.notification.image;je&&(V.notification.image=je)}(L,V),function kr(V,L){!L.data||(V.data=L.data)}(L,V),function pn(V,L){var K,fe,je,Je,bt;if(!(L.fcmOptions||null!==(K=L.notification)&&void 0!==K&&K.click_action))return;V.fcmOptions={};const Yt=null!==(je=null===(fe=L.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==je?je:null===(Je=L.notification)||void 0===Je?void 0:Je.click_action;Yt&&(V.fcmOptions.link=Yt);const Ie=null===(bt=L.fcmOptions)||void 0===bt?void 0:bt.analytics_label;Ie&&(V.fcmOptions.analyticsLabel=Ie)}(L,V),L}function Du(V){return"object"==typeof V&&!!V&&yn in V}function gs(V,L){const K=[];for(let fe=0;fe<V.length;fe++)K.push(V.charAt(fe)),fe<L.length&&K.push(L.charAt(fe));return K.join("")}function go(V){return k.create("missing-app-config-values",{valueName:V})}gs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ci{constructor(L,K,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const je=function ms(V){if(!V||!V.options)throw go("App Configuration Object");if(!V.name)throw go("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:K}=V;for(const fe of L)if(!K[fe])throw go(fe);return{appName:V.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:je,installations:K,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Yi(V){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,N.Z)(function*(V){var L;try{V.swRegistration=yield navigator.serviceWorker.register(Pn,{scope:dn}),V.swRegistration.update().catch(()=>{})}catch(K){throw k.create("failed-service-worker-registration",{browserErrorMessage:null===(L=K)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function sr(V,L){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,N.Z)(function*(V,L){if(!L&&!V.swRegistration&&(yield Yi(V)),L||!V.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw k.create("invalid-sw-registration");V.swRegistration=L}})).apply(this,arguments)}function vr(V,L){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,N.Z)(function*(V,L){L?V.vapidKey=L:V.vapidKey||(V.vapidKey=Yn)})).apply(this,arguments)}function zo(){return(zo=(0,N.Z)(function*(V,L){if(!navigator)throw k.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw k.create("permission-blocked");return yield vr(V,L?.vapidKey),yield sr(V,L?.serviceWorkerRegistration),xn(V)})).apply(this,arguments)}function Ho(V,L,K){return li.apply(this,arguments)}function li(){return(li=(0,N.Z)(function*(V,L,K){const fe=ra(L);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:K[yn],message_name:K[bn],message_time:K[rn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ra(V){switch(V){case dt.NOTIFICATION_CLICKED:return"notification_open";case dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _s(){return(_s=(0,N.Z)(function*(V,L){const K=L.data;if(!K.isFirebaseMessaging)return;V.onMessageHandler&&K.messageType===dt.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(Tn(K)):V.onMessageHandler.next(Tn(K)));const fe=K.data;Du(fe)&&"1"===fe[ut]&&(yield Ho(V,K.messageType,fe))})).apply(this,arguments)}const Go="@firebase/messaging",ui=V=>{const L=new Ci(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Uh(V,L){return _s.apply(this,arguments)}(L,K)),L},Bh=V=>{const L=V.getProvider("messaging").getImmediate();return{getToken:fe=>function Qi(V,L){return zo.apply(this,arguments)}(L,fe)}};function xu(){return ia.apply(this,arguments)}function ia(){return(ia=(0,N.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ri(){(0,ne._registerComponent)(new ve.wA("messaging",ui,"PUBLIC")),(0,ne._registerComponent)(new ve.wA("messaging-internal",Bh,"PRIVATE")),(0,ne.registerVersion)(Go,"0.9.18"),(0,ne.registerVersion)(Go,"0.9.18","esm2017")}();var tl=F(6148),Qa=F(4408),em=F(7565);const Er=new class nl extends em.v{}(class sa extends Qa.o{constructor(L,K){super(L,K),this.scheduler=L,this.work=K}schedule(L,K=0){return K>0?super.schedule(L,K):(this.delay=K,this.state=L,this.scheduler.flush(this),this)}execute(L,K){return K>0||this.closed?super.execute(L,K):this._execute(L,K)}requestAsyncId(L,K,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(L,K,fe):(L.flush(this),0)}});var mo=F(4986),Ja=F(9751),Xa=F(8505),aa=F(9468),ec=F(5363);const Wo=new u.GfV("7.4.1"),ca="__angularfire_symbol__analyticsIsSupportedValue",Ni="__angularfire_symbol__analyticsIsSupported",tc="__angularfire_symbol__remoteConfigIsSupportedValue",Rr="__angularfire_symbol__remoteConfigIsSupported",_o="__angularfire_symbol__messagingIsSupportedValue",Hr="__angularfire_symbol__messagingIsSupported";globalThis[Ni]||(globalThis[Ni]=(0,tl.Gb)().then(V=>globalThis[ca]=V).catch(()=>globalThis[ca]=!1)),globalThis[Hr]||(globalThis[Hr]=xu().then(V=>globalThis[_o]=V).catch(()=>globalThis[_o]=!1)),globalThis[Rr]||(globalThis[Rr]=zr().then(V=>globalThis[tc]=V).catch(()=>globalThis[tc]=!1));const jn={async:()=>globalThis[Ni],sync:()=>{const V=globalThis[ca];if(void 0===V)throw new Error((V=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${V} in the constructor, first ensure that ${V} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${V})\`.`)("Analytics"));return V}};function rl(V,L,K){if(L){if(1===L.length)return L[0];const Je=L.filter(bt=>bt.app===K);if(1===Je.length)return Je[0]}return K.container.getProvider(V).getImmediate({optional:!0})}const Su=(V,L)=>{const K=L?[L]:(0,B.C6)(),fe=[];return K.forEach(je=>{je.container.getProvider(V).instances.forEach(bt=>{fe.includes(bt)||fe.push(bt)})}),fe};function Ei(){}class Nr{constructor(L,K=Er){this.zone=L,this.delegate=K}now(){return this.delegate.now()}schedule(L,K,fe){const je=this.zone;return this.delegate.schedule(function(bt){je.runGuarded(()=>{L.apply(this,[bt])})},K,fe)}}class il{constructor(L){this.zone=L,this.task=null}call(L,K){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ei,{},Ei,Ei)),K.pipe((0,Xa.b)({next:fe,complete:fe,error:fe})).subscribe(L).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bs=(()=>{class V{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new Nr(Zone.current)),this.insideAngular=K.run(()=>new Nr(Zone.current,mo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(K){return new(K||V)(u.LFG(u.R0b))},V.\u0275prov=u.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Gr(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function gn(V){return Gr().ngZone.runOutsideAngular(()=>V())}function vo(V){return Gr().ngZone.run(()=>V())}function _i(V){return Gr(),function ws(V){return function(K){return(K=K.lift(new il(V.ngZone))).pipe((0,aa.R)(V.outsideAngular),(0,ec.Q)(V.insideAngular))}}(Gr())(V)}const Cs=(V,L)=>function(){const fe=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),vo(()=>V.apply(void 0,fe))},Vt=(V,L)=>function(){let K;const fe=arguments;for(let Je=0;Je<arguments.length;Je++)"function"==typeof fe[Je]&&(L&&(K||(K=vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ei,{},Ei,Ei)))),fe[Je]=Cs(fe[Je],K));const je=gn(()=>V.apply(this,fe));if(!L){if(je instanceof Ja.y){const Je=Gr();return je.pipe((0,aa.R)(Je.outsideAngular),(0,ec.Q)(Je.insideAngular))}return vo(()=>je)}return je instanceof Ja.y?je.pipe(_i):je instanceof Promise?vo(()=>new Promise((Je,bt)=>je.then(Yt=>vo(()=>Je(Yt)),Yt=>vo(()=>bt(Yt))))):"function"==typeof je&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),je.apply(this,arguments)}:vo(()=>je)}},9934:(gt,Oe,F)=>{F.d(Oe,{$:()=>Je,A:()=>H,B:()=>De,G:()=>Ce,H:()=>Sn,J:()=>Ri,L:()=>G,M:()=>nl,N:()=>Ja,P:()=>bm,Q:()=>Xa,R:()=>Jv,T:()=>aa,U:()=>mo,V:()=>Ni,W:()=>tc,X:()=>tm,Y:()=>ws,Z:()=>Vt,_:()=>L,a:()=>Ko,a0:()=>$n,a1:()=>On,a2:()=>Co,a3:()=>Xi,a4:()=>nc,a5:()=>Zo,a6:()=>Xn,a7:()=>eo,a8:()=>ic,a9:()=>qo,aA:()=>yc,aB:()=>Bi,aC:()=>pr,aD:()=>Ju,aE:()=>vt,aI:()=>da,aL:()=>Wo,aa:()=>Kv,ab:()=>Au,ac:()=>ku,af:()=>im,ag:()=>om,ah:()=>Zh,ak:()=>Ei,al:()=>um,an:()=>dm,ao:()=>Kh,ap:()=>at,aq:()=>we,ar:()=>Ae,as:()=>Le,at:()=>Qe,au:()=>ba,av:()=>ji,aw:()=>Fe,ax:()=>te,ay:()=>X,az:()=>j,b:()=>Ds,c:()=>fr,d:()=>lf,e:()=>Ku,f:()=>gr,g:()=>uf,h:()=>Jr,i:()=>gl,j:()=>Oo,k:()=>od,l:()=>Vi,m:()=>ro,n:()=>xm,o:()=>pe,r:()=>To,s:()=>to,u:()=>sf,v:()=>sc});var u=F(5861),B=F(2090),N=F(9681),ne=F(1877),ge=F(655),ve=F(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const De=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new ne.Yd("@firebase/auth");function ot(v,...p){de.logLevel<=ne.in.ERROR&&de.error(`Auth (${N.SDK_VERSION}): ${v}`,...p)}function Qe(v,...p){throw Ye(v,...p)}function Fe(v,...p){return Ye(v,...p)}function Re(v,p,m){const w=Object.assign(Object.assign({},xe()),{[p]:m});return new B.LL("auth","Firebase",w).create(p,{appName:v.name})}function Ee(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Qe(v,"argument-error"),Re(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return Xe.create(v,...p)}function te(v,p,...m){if(!v)throw Ye(p,...m)}function ae(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ot(p),new Error(p)}function we(v,p){v||ae(p)}const J=new Map;function X(v){we(v instanceof Function,"Expected a class definition");let p=J.get(v);return p?(we(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,J.set(v,p),p)}function ze(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Be(){return"http:"===ft()||"https:"===ft()}function ft(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ke{constructor(p,m){this.shortDelay=p,this.longDelay=m,we(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(v,p){we(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class kn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},en=new Ke(3e4,6e4);function Bt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Ct(v,p,m,w){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(v,p,m,w,T={}){return Sr(v,T,(0,u.Z)(function*(){let R={},re={};w&&("GET"===p?re=w:R={body:JSON.stringify(w)});const ke=(0,B.xO)(Object.assign({key:v.config.apiKey},re)).slice(1),st=yield v._getAdditionalHeaders();return st["Content-Type"]="application/json",v.languageCode&&(st["X-Firebase-Locale"]=v.languageCode),kn.fetch()(Ar(v,v.config.apiHost,m,ke),Object.assign({method:p,headers:st,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Sr(v,p,m){return $r.apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},an),p);try{const T=new Un(v),R=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const re=yield R.json();if("needConfirmation"in re)throw Bn(v,"account-exists-with-different-credential",re);if(R.ok&&!("errorMessage"in re))return re;{const ke=R.ok?re.errorMessage:re.error.message,[st,xt]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw Bn(v,"credential-already-in-use",re);if("EMAIL_EXISTS"===st)throw Bn(v,"email-already-in-use",re);if("USER_DISABLED"===st)throw Bn(v,"user-disabled",re);const nn=w[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(xt)throw Re(v,nn,xt);Qe(v,nn)}}catch(T){if(T instanceof B.ZR)throw T;Qe(v,"network-request-failed")}})).apply(this,arguments)}function An(v,p,m,w){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(v,p,m,w,T={}){const R=yield Ct(v,p,m,w,T);return"mfaPendingCredential"in R&&Qe(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ar(v,p,m,w){const T=`${p}${m}?${w}`;return v.config.emulator?un(v.config,T):`${v.config.apiScheme}://${T}`}class Un{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Fe(this.auth,"network-request-failed")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const T=Fe(v,p,w);return T.customData._tokenResponse=m,T}function zr(){return(zr=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function tt(v,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pn(v,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Yn(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function bn(){return(bn=(0,u.Z)(function*(v,p=!1){const m=(0,B.m9)(v),w=yield m.getIdToken(p),T=ut(w);te(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,re=R?.sign_in_provider;return{claims:T,token:w,authTime:Yn(rn(T.auth_time)),issuedAtTime:Yn(rn(T.iat)),expirationTime:Yn(rn(T.exp)),signInProvider:re||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function rn(v){return 1e3*Number(v)}function ut(v){var p;const[m,w,T]=v.split(".");if(void 0===m||void 0===w||void 0===T)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,B.tV)(w);return R?JSON.parse(R):(ot("Failed to decode base64 JWT payload"),null)}catch(R){return ot("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function dt(v,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof B.ZR&&Qn(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Qn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Jn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,u.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Dt{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(v){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),T=yield dt(v,Pn(m,{idToken:w}));te(T?.users.length,m,"internal-error");const R=T.users[0];v._notifyReloadListener(R);const re=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?Dn(R.providerUserInfo):[],ke=Hn(v.providerData,re),nn=!!v.isAnonymous&&!(v.email&&R.passwordHash||ke?.length),Cn={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ke,metadata:new Dt(R.createdAt,R.lastLoginAt),isAnonymous:nn};Object.assign(v,Cn)})).apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(v){const p=(0,B.m9)(v);yield or(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Hn(v,p){return[...v.filter(w=>!p.some(T=>T.providerId===w.providerId)),...p]}function Dn(v){return v.map(p=>{var{providerId:m}=p,w=(0,ge._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Se(){return(Se=(0,u.Z)(function*(v,p){const m=yield Sr(v,{},(0,u.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:R}=v.config,re=Ar(v,T,"/v1/token",`key=${R}`),ke=yield v._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",kn.fetch()(re,{method:"POST",headers:ke,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(typeof p.idToken<"u","internal-error"),te(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ct(v){const p=ut(v);return te(p,"internal-error"),te(typeof p.exp<"u","internal-error"),te(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,u.Z)(function*(){return te(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:re}=yield function et(v,p){return Se.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(T,R,Number(re))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:T,expirationTime:R}=m,re=new nt;return w&&(te("string"==typeof w,"internal-error",{appName:p}),re.refreshToken=w),T&&(te("string"==typeof T,"internal-error",{appName:p}),re.accessToken=T),R&&(te("number"==typeof R,"internal-error",{appName:p}),re.expirationTime=R),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return ae("not implemented")}}function yt(v,p){te("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Et{constructor(p){var{uid:m,auth:w,stsTokenManager:T}=p,R=(0,ge._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Dt(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const w=yield dt(m,m.stsTokenManager.getToken(m.auth,p));return te(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function yn(v){return bn.apply(this,arguments)}(this,p)}reload(){return function hr(v){return zt.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Et(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,u.Z)(function*(){let T=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield or(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield dt(p,function dr(v,p){return zr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,T,R,re,ke,st,xt,nn;const Cn=null!==(w=m.displayName)&&void 0!==w?w:void 0,Wr=null!==(T=m.email)&&void 0!==T?T:void 0,xi=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,El=null!==(re=m.photoURL)&&void 0!==re?re:void 0,Il=null!==(ke=m.tenantId)&&void 0!==ke?ke:void 0,Dl=null!==(st=m._redirectEventId)&&void 0!==st?st:void 0,Ls=null!==(xt=m.createdAt)&&void 0!==xt?xt:void 0,_f=null!==(nn=m.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:ud,emailVerified:xl,isAnonymous:Cc,providerData:Ec,stsTokenManager:ts}=m;te(ud&&ts,p,"internal-error");const Tm=nt.fromJSON(this.name,ts);te("string"==typeof ud,p,"internal-error"),yt(Cn,p.name),yt(Wr,p.name),te("boolean"==typeof xl,p,"internal-error"),te("boolean"==typeof Cc,p,"internal-error"),yt(xi,p.name),yt(El,p.name),yt(Il,p.name),yt(Dl,p.name),yt(Ls,p.name),yt(_f,p.name);const zn=new Et({uid:ud,auth:p,email:Wr,emailVerified:xl,displayName:Cn,isAnonymous:Cc,photoURL:El,phoneNumber:xi,tenantId:Il,stsTokenManager:Tm,createdAt:Ls,lastLoginAt:_f});return Ec&&Array.isArray(Ec)&&(zn.providerData=Ec.map(Mm=>Object.assign({},Mm))),Dl&&(zn._redirectEventId=Dl),zn}static _fromIdTokenResponse(p,m,w=!1){return(0,u.Z)(function*(){const T=new nt;T.updateFromServerResponse(m);const R=new Et({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:w});return yield or(R),R})()}}const G=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,w){var T=this;return(0,u.Z)(function*(){T.storage[m]=w})()}_get(m){var w=this;return(0,u.Z)(function*(){const T=w.storage[m];return void 0===T?null:T})()}_remove(m){var w=this;return(0,u.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function j(v,p,m){return`firebase:${v}:${p}:${m}`}class P{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:T,name:R}=this.auth;this.fullUserKey=j(this.userKey,T.apiKey,R),this.fullPersistenceKey=j("persistence",T.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Et._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,u.Z)(function*(){if(!m.length)return new P(X(G),p,w);const T=(yield Promise.all(m.map(function(){var xt=(0,u.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return xt.apply(this,arguments)}}()))).filter(xt=>xt);let R=T[0]||X(G);const re=j(w,p.config.apiKey,p.name);let ke=null;for(const xt of m)try{const nn=yield xt._get(re);if(nn){const Cn=Et._fromJSON(p,nn);xt!==R&&(ke=Cn),R=xt;break}}catch{}const st=T.filter(xt=>xt._shouldAllowMigration);return R._shouldAllowMigration&&st.length?(R=st[0],ke&&(yield R._set(re,ke.toJSON())),yield Promise.all(m.map(function(){var xt=(0,u.Z)(function*(nn){if(nn!==R)try{yield nn._remove(re)}catch{}});return function(nn){return xt.apply(this,arguments)}}())),new P(R,p,w)):new P(R,p,w)})()}}function O(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ce(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(D(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(We(p))return"Blackberry";if(me(p))return"Webos";if(k(p))return"Safari";if((p.includes("chrome/")||$(p))&&!p.includes("edge/"))return"Chrome";if(Le(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function D(v=(0,B.z$)()){return/firefox\//i.test(v)}function k(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function $(v=(0,B.z$)()){return/crios\//i.test(v)}function ce(v=(0,B.z$)()){return/iemobile/i.test(v)}function Le(v=(0,B.z$)()){return/android/i.test(v)}function We(v=(0,B.z$)()){return/blackberry/i.test(v)}function me(v=(0,B.z$)()){return/webos/i.test(v)}function Ae(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function at(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function $t(v=(0,B.z$)()){return Ae(v)||Le(v)||me(v)||We(v)||/windows phone/i.test(v)||ce(v)}function xn(v,p=[]){let m;switch(v){case"Browser":m=O((0,B.z$)());break;case"Worker":m=`${O((0,B.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${N.SDK_VERSION}/${w}`}class ki{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=R=>new Promise((re,ke)=>{try{re(p(R))}catch(st){ke(st)}});w.onAbort=m,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){var w;if(m.auth.currentUser===p)return;const T=[];try{for(const R of m.queue)yield R(p),R.onAbort&&T.push(R.onAbort)}catch(R){T.reverse();for(const re of T)try{re()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Ki{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ee(this),this.idTokenSubscription=new ee(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=X(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,R;if(!w._deleted&&(w.persistenceManager=yield P.create(w,p),!w._deleted)){if(null!==(T=w._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var w;const T=yield m.assertedPersistence.getCurrentUser();let R=T,re=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ke=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,st=R?._redirectEventId,xt=yield m.tryRedirectSignIn(p);(!ke||ke===st)&&xt?.user&&(R=xt.user,re=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(re)try{yield m.beforeStateQueue.runMiddleware(R)}catch(ke){R=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ke))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){var w;try{yield or(p)}catch(T){if("auth/network-request-failed"!==(null===(w=T)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function At(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const w=p?(0,B.m9)(p):null;return w&&te(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return p&&te(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(X(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,u.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&X(p)||m._popupRedirectResolver;te(w,m,"argument-error"),m.redirectPersistenceManager=yield P.create(m,[X(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var w,T;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,T){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),re=this._isInitialized?Promise.resolve():this._initializationPromise;return te(re,this,"internal-error"),re.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(w["X-Firebase-Client"]=T),w})()}}function vt(v){return(0,B.m9)(v)}class ee{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(v,p,m){const w=vt(v);te(w._canInitEmulator,w,"emulator-config-failed"),te(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const T=!!m?.disableWarnings,R=Ge(p),{host:re,port:ke}=function ht(v){const p=Ge(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const R=T[1];return{host:R,port:Gt(w.substr(R.length+1))}}{const[R,re]=w.split(":");return{host:R,port:Gt(re)}}}(p);w.config.emulator={url:`${R}//${re}${null===ke?"":`:${ke}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:re,port:ke,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function cn(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Ge(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Gt(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Sn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ae("not implemented")}_getIdTokenResponse(p){return ae("not implemented")}_linkToIdToken(p,m){return ae("not implemented")}_getReauthenticationResolver(p){return ae("not implemented")}}function Tn(v,p){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:resetPassword",Bt(v,p))})).apply(this,arguments)}function kr(v,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Du(v,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:update",Bt(v,p))})).apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(v,p){return An(v,"POST","/v1/accounts:signInWithPassword",Bt(v,p))})).apply(this,arguments)}function Ci(v,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:sendOobCode",Bt(v,p))})).apply(this,arguments)}function Pi(v,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(v,p){return Ci(v,p)})).apply(this,arguments)}function Ya(v,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(v,p){return Ci(v,p)})).apply(this,arguments)}function Pr(v,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(v,p){return Ci(v,p)})).apply(this,arguments)}function zo(v,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(v,p){return Ci(v,p)})).apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(v,p){return An(v,"POST","/v1/accounts:signInWithEmailLink",Bt(v,p))})).apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(v,p){return An(v,"POST","/v1/accounts:signInWithEmailLink",Bt(v,p))})).apply(this,arguments)}class Go extends Sn{constructor(p,m,w,T=null){super("password",w),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new Go(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Go(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function ms(v,p){return go.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function li(v,p){return ra.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Qe(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return kr(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Uh(v,p){return _s.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Qe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ji(v,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(v,p){return An(v,"POST","/v1/accounts:signInWithIdp",Bt(v,p))})).apply(this,arguments)}class Ri extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ri(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Qe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T}=m,R=(0,ge._T)(m,["providerId","signInMethod"]);if(!w||!T)return null;const re=new Ri(w,T);return re.idToken=R.idToken||void 0,re.accessToken=R.accessToken||void 0,re.secret=R.secret,re.nonce=R.nonce,re.pendingToken=R.pendingToken||null,re}_getIdTokenResponse(p){return Ji(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Ji(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ji(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function xu(v,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:sendVerificationCode",Bt(v,p))})).apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(v,p){return An(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,p))})).apply(this,arguments)}function Tu(){return(Tu=(0,u.Z)(function*(v,p){const m=yield An(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,p));if(m.temporaryProof)throw Bn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Xg={USER_NOT_FOUND:"user-not-found"};function Mu(){return(Mu=(0,u.Z)(function*(v,p){return An(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Xg)})).apply(this,arguments)}class ys extends Sn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ys({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ys({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function jh(v,p){return oa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function $h(v,p){return Tu.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function el(v,p){return Mu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:R}=p;return w||m||T||R?new ys({verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:R}):null}}class sa{constructor(p){var m,w,T,R,re,ke;const st=(0,B.zd)((0,B.pd)(p)),xt=null!==(m=st.apiKey)&&void 0!==m?m:null,nn=null!==(w=st.oobCode)&&void 0!==w?w:null,Cn=function tl(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=st.mode)&&void 0!==T?T:null);te(xt&&nn&&Cn,"argument-error"),this.apiKey=xt,this.operation=Cn,this.code=nn,this.continueUrl=null!==(R=st.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(re=st.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(ke=st.tenantId)&&void 0!==ke?ke:null}static parseLink(p){const m=function Qa(v){const p=(0,B.zd)((0,B.pd)(v)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||m||p||v}(p);try{return new sa(m)}catch{return null}}}let nl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return Go._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const T=sa.parseLink(w);return te(T,"argument-error"),Go._fromEmailAndCode(m,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Er{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vs extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class mo extends vs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return te("providerId"in m&&"signInMethod"in m,"argument-error"),Ri._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),Ri._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return mo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return mo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:R,nonce:re,providerId:ke}=p;if(!w&&!T&&!m&&!R||!ke)return null;try{return new mo(ke)._credential({idToken:m,accessToken:w,nonce:re,pendingToken:R})}catch{return null}}}let Ja=(()=>{class v extends vs{constructor(){super("facebook.com")}static credential(m){return Ri._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Xa=(()=>{class v extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ri._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:T}=m;if(!w&&!T)return null;try{return v.credential(w,T)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),aa=(()=>{class v extends vs{constructor(){super("github.com")}static credential(m){return Ri._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Wo extends Sn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Ji(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Ji(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ji(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T,pendingToken:R}=m;return w&&T&&R&&w===T?new Wo(w,R):null}static _create(p,m){return new Wo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ni extends Er{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ni.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ni.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Wo.fromJSON(p);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Wo._create(w,m)}catch{return null}}}let tc=(()=>{class v extends vs{constructor(){super("twitter.com")}static credential(m,w){return Ri._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=m;if(!w||!T)return null;try{return v.credential(w,T)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Rr(v,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(v,p){return An(v,"POST","/v1/accounts:signUp",Bt(v,p))})).apply(this,arguments)}class Hr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,T=!1){return(0,u.Z)(function*(){const R=yield Et._fromIdTokenResponse(p,w,T),re=yo(w);return new Hr({user:R,providerId:re,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const T=yo(w);return new Hr({user:p,providerId:T,_tokenResponse:w,operationType:m})})()}}function yo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function tm(v){return zh.apply(this,arguments)}function zh(){return(zh=(0,u.Z)(function*(v){var p;const m=vt(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Hr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Rr(m,{returnSecureToken:!0}),T=yield Hr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class jn extends B.ZR{constructor(p,m,w,T){var R;super(m.code,m.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,jn.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,T){return new jn(p,m,w,T)}}function rl(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?jn._fromErrorAndOperation(v,R,p,w):R})}function Su(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Ei(v,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v);yield Gr(!0,m,p);const{providerUserInfo:w}=yield tt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=Su(w||[]);return m.providerData=m.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function il(v,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(v,p,m=!1){const w=yield dt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Hr._forOperation(v,"link",w)})).apply(this,arguments)}function Gr(v,p,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(v,p,m){yield or(p);const T=!1===v?"provider-already-linked":"no-such-provider";te(Su(p.providerData).has(m)===v,p.auth,T)})).apply(this,arguments)}function vo(v,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(v,p,m=!1){var w;const{auth:T}=v,R="reauthenticate";try{const re=yield dt(v,rl(T,R,p,v),m);te(re.idToken,T,"internal-error");const ke=ut(re.idToken);te(ke,T,"internal-error");const{sub:st}=ke;return te(v.uid===st,T,"user-mismatch"),Hr._forOperation(v,R,re)}catch(re){throw"auth/user-not-found"===(null===(w=re)||void 0===w?void 0:w.code)&&Qe(T,"user-mismatch"),re}})).apply(this,arguments)}function Hh(v,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(v,p,m=!1){const w="signIn",T=yield rl(v,w,p),R=yield Hr._fromIdTokenResponse(v,w,T);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function ws(v,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(v,p){return Hh(vt(v),p)})).apply(this,arguments)}function Vt(v,p){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v);return yield Gr(!1,m,p.providerId),il(m,p)})).apply(this,arguments)}function L(v,p){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(v,p){return vo((0,B.m9)(v),p)})).apply(this,arguments)}function fe(v,p){return je.apply(this,arguments)}function je(){return(je=(0,u.Z)(function*(v,p){return An(v,"POST","/v1/accounts:signInWithCustomToken",Bt(v,p))})).apply(this,arguments)}function Je(v,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(v,p){const m=vt(v),w=yield fe(m,{token:p,returnSecureToken:!0}),T=yield Hr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Yt{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ie._fromServerResponse(p,m):Qe(p,"internal-error")}}class Ie extends Yt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ie(m)}}function kt(v,p,m){var w;te((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),te(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function $n(v,p,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),T={requestType:"PASSWORD_RESET",email:p};m&&kt(w,T,m),yield Ya(w,T)})).apply(this,arguments)}function On(v,p,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(v,p,m){yield Tn((0,B.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Co(v,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(v,p){yield Du((0,B.m9)(v),{oobCode:p})})).apply(this,arguments)}function Xi(v,p){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v),w=yield Tn(m,{oobCode:p}),T=w.requestType;switch(te(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(w.mfaInfo,m,"internal-error");default:te(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=Yt._fromServerResponse(vt(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function nc(v,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(v,p){const{data:m}=yield Xi((0,B.m9)(v),p);return m.email})).apply(this,arguments)}function Zo(v,p,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(v,p,m){const w=vt(v),T=yield Rr(w,{returnSecureToken:!0,email:p,password:m}),R=yield Hr._fromIdTokenResponse(w,"signIn",T);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Xn(v,p,m){return ws((0,B.m9)(v),nl.credential(p,m))}function eo(v,p,m){return rc.apply(this,arguments)}function rc(){return(rc=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),T={requestType:"EMAIL_SIGNIN",email:p};te(m.handleCodeInApp,w,"argument-error"),m&&kt(w,T,m),yield Pr(w,T)})).apply(this,arguments)}function ic(v,p){return"EMAIL_SIGNIN"===sa.parseLink(p)?.operation}function qo(v,p,m){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),T=nl.credentialWithLink(p,m||ze());return te(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ws(w,T)})).apply(this,arguments)}function nm(v,p){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:createAuthUri",Bt(v,p))})).apply(this,arguments)}function Kv(v,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(v,p){const w={identifier:p,continueUri:Be()?ze():"http://localhost"},{signinMethods:T}=yield nm((0,B.m9)(v),w);return T||[]})).apply(this,arguments)}function Au(v,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&kt(m.auth,T,p);const{email:R}=yield Pi(m.auth,T);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function ku(v,p,m){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&kt(w.auth,R,m);const{email:re}=yield zo(w.auth,R);re!==v.email&&(yield v.reload())})).apply(this,arguments)}function rm(v,p){return sl.apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function im(v,p){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,B.m9)(v),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},re=yield dt(w,rm(w.auth,R));w.displayName=re.displayName||null,w.photoURL=re.photoUrl||null;const ke=w.providerData.find(({providerId:st})=>"password"===st);ke&&(ke.displayName=w.displayName,ke.photoURL=w.photoURL),yield w._updateTokensIfNecessary(re)})).apply(this,arguments)}function om(v,p){return ua((0,B.m9)(v),p,null)}function Zh(v,p){return ua((0,B.m9)(v),null,p)}function ua(v,p,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(v,p,m){const{auth:w}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const re=yield dt(v,kr(w,R));yield v._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Gn{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Io extends Gn{constructor(p,m,w,T){super(p,m,w),this.username=T}}class Wn extends Gn{constructor(p,m){super(p,"facebook.com",m)}}class am extends Io{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class cm extends Gn{constructor(p,m){super(p,"google.com",m)}}class lm extends Io{constructor(p,m,w){super(p,"twitter.com",m,w)}}function um(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function sm(v){var p,m;if(!v)return null;const{providerId:w}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const re=null===(m=null===(p=ut(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(re)return new Gn(R,"anonymous"!==re&&"custom"!==re?re:null)}if(!w)return null;switch(w){case"facebook.com":return new Wn(R,T);case"github.com":return new am(R,T);case"google.com":return new cm(R,T);case"twitter.com":return new lm(R,T,v.screenName||null);case"custom":case"anonymous":return new Gn(R,null);default:return new Gn(R,w,T)}}(m)}function sc(v,p,m,w){return(0,B.m9)(v).onAuthStateChanged(p,m,w)}class Ii{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Ii("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ii("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ii._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Ii._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vu{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=vt(p),T=m.customData._serverResponse,R=(T.mfaInfo||[]).map(ke=>Yt._fromServerResponse(w,ke));te(T.mfaPendingCredential,w,"internal-error");const re=Ii._fromMfaPendingCredential(T.mfaPendingCredential);return new Vu(re,R,function(){var ke=(0,u.Z)(function*(st){const xt=yield st._process(w,re);delete T.mfaInfo,delete T.mfaPendingCredential;const nn=Object.assign(Object.assign({},T),{idToken:xt.idToken,refreshToken:xt.refreshToken});switch(m.operationType){case"signIn":const Cn=yield Hr._fromIdTokenResponse(w,m.operationType,nn);return yield w._updateCurrentUser(Cn.user),Cn;case"reauthenticate":return te(m.user,w,"internal-error"),Hr._forOperation(m.user,m.operationType,nn);default:Qe(w,"internal-error")}});return function(st){return ke.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}function dm(v,p){var m;const w=(0,B.m9)(v),T=p;return te(p.customData.operationType,w,"argument-error"),te(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Vu._fromError(w,T)}function ac(v,p){return Ct(v,"POST","/v2/accounts/mfaEnrollment:start",Bt(v,p))}class ll{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Yt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ll(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ii._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,u.Z)(function*(){const T=p,R=yield w.getSession(),re=yield dt(w.user,T._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(re),w.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){var w;const T="string"==typeof p?p:p.uid,R=yield m.user.getIdToken(),re=yield dt(m.user,function cl(v,p){return Ct(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(v,p))}(m.user.auth,{idToken:R,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ke})=>ke!==T),yield m.user._updateTokensIfNecessary(re);try{yield m.user.reload()}catch(ke){if("auth/user-token-expired"!==(null===(w=ke)||void 0===w?void 0:w.code))throw ke}})()}}const hm=new WeakMap;function Kh(v){const p=(0,B.m9)(v);return hm.has(p)||hm.set(p,ll._fromUser(p)),hm.get(p)}const Do="__sak";class Bu{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Do,"1"),this.storage.removeItem(Do),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ds=(()=>{class v extends Bu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ju(){const v=(0,B.z$)();return k(v)||Ae(v)}()&&function Qr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$t(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),R=this.localCache[w];T!==R&&m(w,R,T)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ke,st,xt)=>{this.notifyListeners(ke,xt)});const T=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(T);if(m.newValue!==ke)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!w)return}const R=()=>{const ke=this.storage.getItem(T);!w&&this.localCache[T]===ke||this.notifyListeners(T,ke)},re=this.storage.getItem(T);!function It(){return(0,B.w1)()&&10===document.documentMode}()||re===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const R of Array.from(T))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var T=()=>super._set,R=this;return(0,u.Z)(function*(){yield T().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,T=this;return(0,u.Z)(function*(){const R=yield w().call(T,m);return T.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,T=this;return(0,u.Z)(function*(){yield w().call(T,m),delete T.localCache[m]})()}}return v.type="LOCAL",v})(),Ko=(()=>{class v extends Bu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let ul=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const T=new v(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,u.Z)(function*(){const T=m,{eventId:R,eventType:re,data:ke}=T.data,st=w.handlersMap[re];if(!st?.size)return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:re});const xt=Array.from(st).map(function(){var Cn=(0,u.Z)(function*(Wr){return Wr(T.origin,ke)});return function(Wr){return Cn.apply(this,arguments)}}()),nn=yield function $u(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(xt);T.ports[0].postMessage({status:"done",eventId:R,eventType:re,response:nn})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function da(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class gm{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var T=this;return(0,u.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let re,ke;return new Promise((st,xt)=>{const nn=da("",20);R.port1.start();const Cn=setTimeout(()=>{xt(new Error("unsupported_event"))},w);ke={messageChannel:R,onMessage(Wr){const xi=Wr;if(xi.data.eventId===nn)switch(xi.data.status){case"ack":clearTimeout(Cn),re=setTimeout(()=>{xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),st(xi.data.response);break;default:clearTimeout(Cn),clearTimeout(re),xt(new Error("invalid_response"))}}},T.handlers.add(ke),R.port1.addEventListener("message",ke.onMessage),T.target.postMessage({eventType:p,eventId:nn,data:m},[R.port2])}).finally(()=>{ke&&T.removeMessageHandler(ke)})})()}}function br(){return window}function Li(){return typeof br().WorkerGlobalScope<"u"&&"function"==typeof br().importScripts}function xs(){return(xs=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const lc="firebaseLocalStorageDb",dc="firebaseLocalStorage",hl="fbase_key";class ha{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function fl(v,p){return v.transaction([dc],p?"readwrite":"readonly").objectStore(dc)}function Xh(){const v=indexedDB.open(lc,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(dc,{keyPath:hl})}catch(T){m(T)}}),v.addEventListener("success",(0,u.Z)(function*(){const w=v.result;w.objectStoreNames.contains(dc)?p(w):(w.close(),yield function Jh(){const v=indexedDB.deleteDatabase(lc);return new ha(v).toPromise()}(),p(yield Xh()))}))})}function hc(v,p,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(v,p,m){const w=fl(v,!0).put({[hl]:p,value:m});return new ha(w).toPromise()})).apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(v,p){const m=fl(v,!1).get(p),w=yield new ha(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ef(v,p){const m=fl(v,!0).delete(p);return new ha(m).toPromise()}const gl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield Xh()),m.db})()}_withRetries(m){var w=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(T++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Li()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=ul._getInstance(function dl(){return Li()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(T,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(T,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var w,T;if(m.activeServiceWorker=yield function mm(){return xs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new gm(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function zu(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Xh();return yield hc(m,Do,"1"),yield ef(m,Do),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(R=>hc(R,m,w)),T.localCache[m]=w,T.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,u.Z)(function*(){const T=yield w._withRetries(R=>function _m(v,p){return pl.apply(this,arguments)}(R,m));return w.localCache[m]=T,T})()}_remove(m){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(T=>ef(T,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const w=yield m._withRetries(re=>{const ke=fl(re,!1).getAll();return new ha(ke).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:re,value:ke}of w)R.add(re),JSON.stringify(m.localCache[re])!==JSON.stringify(ke)&&(m.notifyListeners(re,ke),T.push(re));for(const re of Object.keys(m.localCache))m.localCache[re]&&!R.has(re)&&(m.notifyListeners(re,null),T.push(re));return T})()}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const R of Array.from(T))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function ym(v,p){return Ct(v,"POST","/v2/accounts/mfaSignIn:start",Bt(v,p))}function Ts(){return(Ts=(0,u.Z)(function*(v){return(yield Ct(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fa(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=T=>{const R=Fe("internal-error");R.customData=T,m(R)},w.type="text/javascript",w.charset="UTF-8",function pc(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Hu(v){return`__${v}${Math.floor(1e6*Math.random())}`}const rf=1e12;class Yv{constructor(p){this.auth=p,this.counter=rf,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Rn(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||rf;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||rf))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var w;return null===(w=m._widgets.get(p||rf))||void 0===w||w.execute(),""})()}}class Rn{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;te(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qv(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vm=Hu("rcb"),NE=new Ke(3e4,6e4);class LE{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=br().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return te(function VE(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(br().grecaptcha):new Promise((w,T)=>{const R=br().setTimeout(()=>{T(Fe(p,"network-request-failed"))},NE.get());br()[vm]=()=>{br().clearTimeout(R),delete br()[vm];const ke=br().grecaptcha;if(!ke)return void T(Fe(p,"internal-error"));const st=ke.render;ke.render=(xt,nn)=>{const Cn=st(xt,nn);return this.counter++,Cn},this.hostLanguage=m,w(ke)},fa(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:vm,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),T(Fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=br().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class UE{load(p){return(0,u.Z)(function*(){return new Yv(p)})()}clearedOneInstance(){}}const mc="recaptcha",BE={theme:"light",type:"image"};class Jv{constructor(p,m=Object.assign({},BE),w){this.parameters=m,this.type=mc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vt(w),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new UE:new LE,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const re=ke=>{!ke||(p.tokenChangeListeners.delete(re),R(ke))};p.tokenChangeListeners.add(re),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=br()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){te(Be()&&!Li(),p.auth,"internal-error"),yield function Dr(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function _l(v){return Ts.apply(this,arguments)}(p.auth);te(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mn{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ys._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function to(v,p,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(v,p,m){const w=vt(v),T=yield xr(w,p,(0,B.m9)(m));return new Mn(T,R=>ws(w,R))})).apply(this,arguments)}function Vi(v,p,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);yield Gr(!1,w,"phone");const T=yield xr(w.auth,p,(0,B.m9)(m));return new Mn(T,R=>Vt(w,R))})).apply(this,arguments)}function To(v,p,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v),T=yield xr(w.auth,p,(0,B.m9)(m));return new Mn(T,R=>L(w,R))})).apply(this,arguments)}function xr(v,p,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(v,p,m){var w;const T=yield m.verify();try{let R;if(te("string"==typeof T,v,"argument-error"),te(m.type===mc,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const re=R.session;if("phoneNumber"in R)return te("enroll"===re.type,v,"internal-error"),(yield ac(v,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===re.type,v,"internal-error");const ke=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return te(ke,v,"missing-multi-factor-info"),(yield ym(v,{mfaPendingCredential:re.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield xu(v,{phoneNumber:R.phoneNumber,recaptchaToken:T});return re}}finally{m._reset()}})).apply(this,arguments)}function sf(v,p){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,u.Z)(function*(v,p){yield il((0,B.m9)(v),p)})).apply(this,arguments)}let bm=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=vt(m)}verifyPhoneNumber(m,w){return xr(this.auth,m,(0,B.m9)(w))}static credential(m,w){return ys._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:T}=m;return w&&T?ys._fromTokenResponse(w,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function As(v,p){return p?X(p):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class af extends Sn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ji(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Ji(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Ji(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function pa(v){return Hh(v.auth,new af(v),v.bypassAuthState)}function mt(v){const{auth:p,user:m}=v;return te(m,p,"internal-error"),vo(m,new af(v),v.bypassAuthState)}function Wu(v){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(v){const{auth:p,user:m}=v;return te(m,p,"internal-error"),il(m,new af(v),v.bypassAuthState)})).apply(this,arguments)}class cf{constructor(p,m,w,T,R=!1){this.auth=p,this.resolver=w,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(w,T){p.pendingPromise={resolve:w,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:R,tenantId:re,error:ke,type:st}=p;if(ke)return void m.reject(ke);const xt={auth:m.auth,requestUri:w,sessionId:T,tenantId:re||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(st)(xt))}catch(nn){m.reject(nn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return pa;case"linkViaPopup":case"linkViaRedirect":return Wu;case"reauthViaPopup":case"reauthViaRedirect":return mt;default:Qe(this.auth,"internal-error")}}resolve(p){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zu=new Ke(2e3,1e4);function fr(v,p,m){return qu.apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(v,p,m){const w=vt(v);Ee(v,p,Er);const T=As(w,m);return new _c(w,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Ku(v,p,m){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ee(w.auth,p,Er);const T=As(w.auth,m);return new _c(w.auth,"reauthViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}function lf(v,p,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ee(w.auth,p,Er);const T=As(w.auth,m);return new _c(w.auth,"linkViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}let _c=(()=>{class v extends cf{constructor(m,w,T,R,re){super(m,w,R,re),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const w=yield m.execute();return te(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,u.Z)(function*(){we(1===m.filter.length,"Popup operations only handle one event");const w=da();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(Fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Zu.get())};m()}}return v.currentPopupAction=null,v})();const Mo=new Map;class ga extends cf{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let w=Mo.get(m.auth._key());if(!w){try{const R=(yield function Qu(v,p){return Jo.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(T){w=()=>Promise.reject(T)}Mo.set(m.auth._key(),w)}return m.bypassAuthState||Mo.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const T=yield w.auth._redirectUserForId(p.eventId);if(T)return w.user=T,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Jo(){return(Jo=(0,u.Z)(function*(v,p){const m=es(p),w=Xo(v);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(m));return yield w._remove(m),T})).apply(this,arguments)}function Ps(v,p){return So.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(v,p){return Xo(v)._set(es(p),"true")})).apply(this,arguments)}function Ju(){Mo.clear()}function pr(v,p){Mo.set(v._key(),p)}function Xo(v){return X(v._redirectPersistence)}function es(v){return j("pendingRedirect",v.config.apiKey,v.name)}function gr(v,p,m){return function Vn(v,p,m){return Ao.apply(this,arguments)}(v,p,m)}function Ao(){return(Ao=(0,u.Z)(function*(v,p,m){const w=vt(v);Ee(v,p,Er);const T=As(w,m);return yield Ps(T,w),T._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Jr(v,p,m){return function Tr(v,p,m){return no.apply(this,arguments)}(v,p,m)}function no(){return(no=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ee(w.auth,p,Er);const T=As(w.auth,m);yield Ps(T,w.auth);const R=yield ma(w);return T._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function uf(v,p,m){return function wm(v,p,m){return Ui.apply(this,arguments)}(v,p,m)}function Ui(){return(Ui=(0,u.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ee(w.auth,p,Er);const T=As(w.auth,m);yield Gr(!1,w,p.providerId),yield Ps(T,w.auth);const R=yield ma(w);return T._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Oo(v,p){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(v,p){return yield vt(v)._initializationPromise,Bi(v,p,!1)})).apply(this,arguments)}function Bi(v,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(v,p,m=!1){const w=vt(v),T=As(w,p),re=yield new ga(w,T,m).execute();return re&&!m&&(delete re.user._redirectEventId,yield w._persistUserIfCurrent(re.user),yield w._setRedirectUser(null,p)),re})).apply(this,arguments)}function ma(v){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(v){const p=da(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class yc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function tn(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yl(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!yl(p)){const T=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Fe(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xu(p))}saveEventToCache(p){this.cachedEventUids.add(Xu(p)),this.lastProcessedEventTime=Date.now()}}function Xu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function yl({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function ji(v){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(v,p={}){return Ct(v,"GET","/v1/projects",p)})).apply(this,arguments)}const va=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xv=/^https?/;function Di(){return(Di=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield ji(v);for(const m of p)try{if(Cm(m))return}catch{}Qe(v,"unauthorized-domain")})).apply(this,arguments)}function Cm(v){const p=ze(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const re=new URL(v);return""===re.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&re.hostname===w}if(!Xv.test(m))return!1;if(va.test(v))return w===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const hf=new Ke(3e4,6e4);function ed(){const v=br().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Zn=null;function ko(v){return Zn=Zn||function e0(v){return new Promise((p,m)=>{var w,T,R;function re(){ed(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ed(),m(Fe(v,"network-request-failed"))},timeout:hf.get()})}if(null!==(T=null===(w=br().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(R=br().gapi)||void 0===R||!R.load){const ke=Hu("iframefcb");return br()[ke]=()=>{gapi.load?re():m(Fe(v,"network-request-failed"))},fa(`https://apis.google.com/js/api.js?onload=${ke}`).catch(st=>m(st))}re()}}).catch(p=>{throw Zn=null,p})}(v),Zn}const td=new Ke(5e3,15e3),nd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Em=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rd(v){const p=v.config;te(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?un(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:N.SDK_VERSION},T=Em.get(v.config.apiHost);T&&(w.eid=T);const R=v._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,B.xO)(w).slice(1)}`}function vl(){return vl=(0,u.Z)(function*(v){const p=yield ko(v),m=br().gapi;return te(m,v,"internal-error"),p.open({where:document.body,url:rd(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nd,dontclear:!0},w=>new Promise(function(){var T=(0,u.Z)(function*(R,re){yield w.restyle({setHideOnLeave:!1});const ke=Fe(v,"network-request-failed"),st=br().setTimeout(()=>{re(ke)},td.get());function xt(){br().clearTimeout(st),R(w)}w.ping(xt).then(xt,()=>{re(ke)})});return function(R,re){return T.apply(this,arguments)}}()))}),vl.apply(this,arguments)}const vc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ba(v,p,m,w,T,R){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const re={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:N.SDK_VERSION,eventId:T};if(p instanceof Er){p.setDefaultLanguage(v.languageCode),re.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(re.customParameters=JSON.stringify(p.getCustomParameters()));for(const[st,xt]of Object.entries(R||{}))re[st]=xt}if(p instanceof vs){const st=p.getScopes().filter(xt=>""!==xt);st.length>0&&(re.scopes=st.join(","))}v.tenantId&&(re.tid=v.tenantId);const ke=re;for(const st of Object.keys(ke))void 0===ke[st]&&delete ke[st];return`${function mf({config:v}){return v.emulator?un(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(ke).slice(1)}`}const wa="webStorageSupport",od=class wc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ko,this._completeRedirectFn=Bi,this._overrideRedirectResult=pr}_openPopup(p,m,w,T){var R=this;return(0,u.Z)(function*(){var re;we(null===(re=R.eventManagers[p._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const ke=ba(p,m,w,ze(),T);return function wl(v,p,m,w=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),re=Math.max((window.screen.availWidth-w)/2,0).toString();let ke="";const st=Object.assign(Object.assign({},vc),{width:w.toString(),height:T.toString(),top:R,left:re}),xt=(0,B.z$)().toLowerCase();m&&(ke=$(xt)?"_blank":m),D(xt)&&(p=p||"http://localhost",st.scrollbars="yes");const nn=Object.entries(st).reduce((Wr,[xi,El])=>`${Wr}${xi}=${El},`,"");if(function Wt(v=(0,B.z$)()){var p;return Ae(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(xt)&&"_self"!==ke)return function Ro(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ke),new bc(null);const Cn=window.open(p||"",ke,nn);te(Cn,v,"popup-blocked");try{Cn.focus()}catch{}return new bc(Cn)}(p,ke,da())})()}_openRedirect(p,m,w,T){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(p),function Qh(v){br().location.href=v}(ba(p,m,w,ze(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:R}=this.eventManagers[m];return T?Promise.resolve(T):(we(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const w=yield function pf(v){return vl.apply(this,arguments)}(p),T=new yc(p);return w.register("authEvent",R=>(te(R?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=w,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(wa,{type:wa},T=>{var R;const re=null===(R=T?.[0])||void 0===R?void 0:R[wa];void 0!==re&&m(!!re),Qe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function df(v){return Di.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return $t()||k()||Ae()}};class sd extends class Cl{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new sd(p)}_finalizeEnroll(p,m,w){return function Uu(v,p){return Ct(v,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ml(v,p){return Ct(v,"POST","/v2/accounts/mfaSignIn:finalize",Bt(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ro=(()=>{class v{constructor(){}static assertion(m){return sd._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var No="@firebase/auth";class Im{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var T;p((null===(T=w)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const cd=(0,B.Pz)("authIdTokenMaxAge")||300;let ld=null;const Dm=v=>function(){var p=(0,u.Z)(function*(m){const w=m&&(yield m.getIdTokenResult()),T=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(T&&T>cd)return;const R=w?.token;ld!==R&&(ld=R,yield fetch(v,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function xm(v=(0,N.getApp)()){const p=(0,N._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function he(v,p){const m=(0,N._getProvider)(v,"auth");if(m.isInitialized()){const T=m.getImmediate(),R=m.getOptions();if((0,B.vZ)(R,p??{}))return T;Qe(T,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:od,persistence:[gl,Ds,Ko]}),w=(0,B.Pz)("authTokenSyncURL");if(w){const R=Dm(w);(function oc(v,p,m){(0,B.m9)(v).beforeAuthStateChanged(p,m)})(m,R,()=>R(m.currentUser)),function al(v,p,m,w){(0,B.m9)(v).onIdTokenChanged(p,m,w)}(m,re=>R(re))}const T=(0,B.q4)("auth");return T&&Ce(m,`http://${T}`),m}!function r0(v){(0,N._registerComponent)(new ve.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),{apiKey:R,authDomain:re}=w.options;return((ke,st)=>{te(R&&!R.includes(":"),"invalid-api-key",{appName:ke.name}),te(!re?.includes(":"),"argument-error",{appName:ke.name});const xt={apiKey:R,authDomain:re,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xn(v)},nn=new Ki(ke,st,xt);return function oe(v,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(X);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(nn,m),nn})(w,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ve.wA("auth-internal",p=>{const m=vt(p.getProvider("auth").getImmediate());return new Im(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(No,"0.20.9",function n0(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,N.registerVersion)(No,"0.20.9","esm2017")}("Browser")},2090:(gt,Oe,F)=>{F.d(Oe,{$s:()=>nt,BH:()=>At,G6:()=>Ee,L:()=>pe,LL:()=>an,P0:()=>Be,Pz:()=>Xt,Sg:()=>Ke,UG:()=>xe,US:()=>ve,ZB:()=>H,ZR:()=>kn,aH:()=>ft,b$:()=>de,eu:()=>te,hl:()=>Ye,jU:()=>Xe,m9:()=>Ht,ne:()=>bn,pd:()=>yr,q4:()=>ze,r3:()=>Un,ru:()=>be,tV:()=>_e,uI:()=>De,vZ:()=>tt,w1:()=>Qe,xO:()=>dn,xb:()=>dr,z$:()=>Pe,zI:()=>ae,zd:()=>Yn});const ne=function(G){const j=[];let P=0;for(let O=0;O<G.length;O++){let D=G.charCodeAt(O);D<128?j[P++]=D:D<2048?(j[P++]=D>>6|192,j[P++]=63&D|128):55296==(64512&D)&&O+1<G.length&&56320==(64512&G.charCodeAt(O+1))?(D=65536+((1023&D)<<10)+(1023&G.charCodeAt(++O)),j[P++]=D>>18|240,j[P++]=D>>12&63|128,j[P++]=D>>6&63|128,j[P++]=63&D|128):(j[P++]=D>>12|224,j[P++]=D>>6&63|128,j[P++]=63&D|128)}return j},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let D=0;D<G.length;D+=3){const k=G[D],$=D+1<G.length,ce=$?G[D+1]:0,Le=D+2<G.length,We=Le?G[D+2]:0;let at=(15&ce)<<2|We>>6,Wt=63&We;Le||(Wt=64,$||(at=64)),O.push(P[k>>2],P[(3&k)<<4|ce>>4],P[at],P[Wt])}return O.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(ne(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let P=0,O=0;for(;P<G.length;){const D=G[P++];if(D<128)j[O++]=String.fromCharCode(D);else if(D>191&&D<224){const k=G[P++];j[O++]=String.fromCharCode((31&D)<<6|63&k)}else if(D>239&&D<365){const Le=((7&D)<<18|(63&G[P++])<<12|(63&G[P++])<<6|63&G[P++])-65536;j[O++]=String.fromCharCode(55296+(Le>>10)),j[O++]=String.fromCharCode(56320+(1023&Le))}else{const k=G[P++],$=G[P++];j[O++]=String.fromCharCode((15&D)<<12|(63&k)<<6|63&$)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const P=j?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let D=0;D<G.length;){const k=P[G.charAt(D++)],ce=D<G.length?P[G.charAt(D)]:0;++D;const We=D<G.length?P[G.charAt(D)]:64;++D;const Ae=D<G.length?P[G.charAt(D)]:64;if(++D,null==k||null==ce||null==We||null==Ae)throw Error();O.push(k<<2|ce>>4),64!==We&&(O.push(ce<<4&240|We>>2),64!==Ae&&O.push(We<<6&192|Ae))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},pe=function(G){return function(G){const j=ne(G);return ve.encodeByteArray(j,!0)}(G).replace(/\./g,"")},_e=function(G){try{return ve.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function H(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const P in j)!j.hasOwnProperty(P)||!Q(P)||(G[P]=H(G[P],j[P]));return G}function Q(G){return"__proto__"!==G}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xe(){return"object"==typeof self&&self.self===self}function be(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const G=Pe();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ee(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){return"object"==typeof indexedDB}function te(){return new Promise((G,j)=>{try{let P=!0;const O="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(O);D.onsuccess=()=>{D.result.close(),P||self.indexedDB.deleteDatabase(O),G(!0)},D.onupgradeneeded=()=>{P=!1},D.onerror=()=>{var k;j((null===(k=D.error)||void 0===k?void 0:k.message)||"")}}catch(P){j(P)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const oe=()=>function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;const G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),j=G&&_e(G[1]);return j&&JSON.parse(j)})(),ze=G=>{var j,P;return null===(P=null===(j=oe())||void 0===j?void 0:j.emulatorHosts)||void 0===P?void 0:P[G]},Be=G=>{const j=ze(G);if(!j)return;const P=j.lastIndexOf(":");if(P<=0||P+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const O=parseInt(j.substring(P+1),10);return"["===j[0]?[j.substring(1,P-1),O]:[j.substring(0,P),O]},ft=()=>{var G;return null===(G=oe())||void 0===G?void 0:G.config},Xt=G=>{var j;return null===(j=oe())||void 0===j?void 0:j[`_${G}`]};class At{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,P)=>{this.resolve=j,this.reject=P})}wrapCallback(j){return(P,O)=>{P?this.reject(P):this.resolve(O),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(P):j(P,O))}}}function Ke(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=j||"demo-project",D=G.iat||0,k=G.sub||G.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:D,exp:D+3600,auth_time:D,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},G);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify($)),""].join(".")}class kn extends Error{constructor(j,P,O){super(P),this.code=j,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}}class an{constructor(j,P,O){this.service=j,this.serviceName=P,this.errors=O}create(j,...P){const O=P[0]||{},D=`${this.service}/${j}`,k=this.errors[j],$=k?function en(G,j){return G.replace(Bt,(P,O)=>{const D=j[O];return null!=D?String(D):`<${O}?>`})}(k,O):"Error";return new kn(D,`${this.serviceName}: ${$} (${D}).`,O)}}const Bt=/\{\$([^}]+)}/g;function Un(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function dr(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function tt(G,j){if(G===j)return!0;const P=Object.keys(G),O=Object.keys(j);for(const D of P){if(!O.includes(D))return!1;const k=G[D],$=j[D];if(hn(k)&&hn($)){if(!tt(k,$))return!1}else if(k!==$)return!1}for(const D of O)if(!P.includes(D))return!1;return!0}function hn(G){return null!==G&&"object"==typeof G}function dn(G){const j=[];for(const[P,O]of Object.entries(G))Array.isArray(O)?O.forEach(D=>{j.push(encodeURIComponent(P)+"="+encodeURIComponent(D))}):j.push(encodeURIComponent(P)+"="+encodeURIComponent(O));return j.length?"&"+j.join("&"):""}function Yn(G){const j={};return G.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[D,k]=O.split("=");j[decodeURIComponent(D)]=decodeURIComponent(k)}}),j}function yr(G){const j=G.indexOf("?");if(!j)return"";const P=G.indexOf("#",j);return G.substring(j,P>0?P:void 0)}function bn(G,j){const P=new rn(G,j);return P.subscribe.bind(P)}class rn{constructor(j,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{j(this)}).catch(O=>{this.error(O)})}next(j){this.forEachObserver(P=>{P.next(j)})}error(j){this.forEachObserver(P=>{P.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,P,O){let D;if(void 0===j&&void 0===P&&void 0===O)throw new Error("Missing Observer.");D=function ct(G,j){if("object"!=typeof G||null===G)return!1;for(const P of j)if(P in G&&"function"==typeof G[P])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:P,complete:O},void 0===D.next&&(D.next=dt),void 0===D.error&&(D.error=dt),void 0===D.complete&&(D.complete=dt);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?D.error(this.finalError):D.complete()}catch{}}),this.observers.push(D),k}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,j)}sendOne(j,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{P(this.observers[j])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}function nt(G,j=1e3,P=2){const O=j*Math.pow(P,G),D=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+D)}function Ht(G){return G&&G._delegate?G._delegate:G}},2235:(gt,Oe,F)=>{var u=F(4650);let B=null;function N(){return B}const le=new u.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function _e(){return(0,u.LFG)(H)}()},providedIn:"platform"}),n})();const W=new u.OlP("Location Initialized");let H=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Q()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Q()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Pe(){return new H((0,u.LFG)(le))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function De(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ot)},providedIn:"root"}),n})();const de=new u.OlP("appBaseHref");let ot=(()=>{class n extends be{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return De(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const d=this.prepareExternalUrl(o+Xe(c));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){const d=this.prepareExternalUrl(o+Xe(c));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(de,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qe=(()=>{class n extends be{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=De(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let d=this.prepareExternalUrl(o+Xe(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){let d=this.prepareExternalUrl(o+Xe(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(de,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=xe(Ye(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=De,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(u.LFG(be))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Re(){return new Fe((0,u.LFG)(be))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}class go{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ci=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,c,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new go(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const g=r.get(c);r.move(g,d),Yi(g,o)}});for(let o=0,c=r.length;o<c;o++){const g=r.get(o).context;g.index=o,g.count=c,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Yi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Yi(n,e){n.context.$implicit=e.item}let sr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ya,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ya{constructor(){this.$implicit=null,this.ngIf=null}}function vr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let ca=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ni="browser";function yo(n){return"server"===n}let rl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Su((0,u.LFG)(le),window)}),n})();class Su{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Nr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ei(this.window.history)||Ei(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ei(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ua extends class Zh extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){B||(B=n)}(new ua)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sm(){return Es=Es||document.querySelector("base"),Es?Es.getAttribute("href"):null}();return null==t?null:function Io(n){Gn=Gn||document.createElement("a"),Gn.setAttribute("href",n);const e=Gn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Es=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function kr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Gn,Es=null;const Wn=new u.OlP("TRANSITION_ID"),cm=[{provide:u.ip1,useFactory:function am(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[Wn,le,u.zs3],multi:!0}];let um=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Nu=new u.OlP("EventManagerPlugins");let al=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const d=o[c];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nu),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class oc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=N().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let sc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Is=(()=>{class n extends sc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Fu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fu))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Fu(n){N().remove(n)}const Lu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qh=/%COMP%/g;function cl(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?cl(n,o,t):(o=o.replace(qh,n),t.push(o))}return t}function ll(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Kh=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Do(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Yh(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new fm(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=cl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(al),u.LFG(Is),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Do{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Lu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(cc(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(cc(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=Lu[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Lu[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ll(r)):this.eventManager.addEventListener(e,t,ll(r))}}function cc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Yh extends Do{constructor(e,t,r,o){super(e),this.component=r;const c=cl(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function ac(n){return"_ngcontent-%COMP%".replace(qh,n)}(o+"-"+r.id),this.hostAttr=function Uu(n){return"_nghost-%COMP%".replace(qh,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class fm extends Do{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cl(o.id,o.styles,[]);for(let d=0;d<c.length;d++){const g=document.createElement("style");g.textContent=c[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ds=(()=>{class n extends oc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pm=["alt","control","meta","shift"],Ko={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$u={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends oc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,c.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let d="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),d="code."),pm.forEach(E=>{const x=r.indexOf(E);x>-1&&(r.splice(x,1),d+=E+".")}),d+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=o,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let o=Ko[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(o=t.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),pm.forEach(d=>{d!==o&&(0,$u[d])(t)&&(c+=d+".")}),c+=o,c===r)}static eventCallback(t,r,o){return c=>{n.matchEventFullKeyCode(c,t)&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const lc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Ni},{provide:u.g9A,useValue:function mm(){ua.makeCurrent()},multi:!0},{provide:le,useFactory:function zu(){return(0,u.RDi)(document),document},deps:[]}]),uc=new u.OlP(""),dc=[{provide:u.rWj,useClass:class lm{addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,d=!1;const g=function(y){d=d||y,c--,0==c&&r(d)};o.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],hl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function xs(){return new u.qLn},deps:[]},{provide:Nu,useClass:Ds,multi:!0,deps:[le,u.R0b,u.Lbi]},{provide:Nu,useClass:ul,multi:!0,deps:[le]},{provide:Kh,useClass:Kh,deps:[al,Is,u.AFp]},{provide:u.FYo,useExisting:Kh},{provide:sc,useExisting:Is},{provide:Is,useClass:Is,deps:[le]},{provide:al,useClass:al,deps:[Nu,u.R0b]},{provide:class bs{},useClass:um,deps:[]},[]];let ha=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Wn,useExisting:u.AFp},cm]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uc,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...hl,...dc],imports:[ca,u.hGG]}),n})(),xo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function hc(){return new xo((0,u.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Mn=F(8996),to=F(7669);function pt(...n){const e=(0,to.yG)(n);return(0,Mn.D)(n,e)}var Vi=F(7579);class Ln extends Vi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ms=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xr=F(9751);const{isArray:Ss}=Array,{getPrototypeOf:sf,prototype:Gu,keys:bm}=Object;function As(n){if(1===n.length){const e=n[0];if(Ss(e))return{args:e,keys:null};if(function af(n){return n&&"object"==typeof n&&sf(n)===Gu}(e)){const t=bm(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var pa=F(4671),mt=F(4004);const{isArray:Wu}=Array;function cf(n){return(0,mt.U)(e=>function Qo(n,e){return Wu(e)?n(...e):n(e)}(n,e))}function Zu(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var fr=F(5403),qu=F(9672);function Ku(...n){const e=(0,to.yG)(n),t=(0,to.jO)(n),{args:r,keys:o}=As(n);if(0===r.length)return(0,Mn.D)([],e);const c=new xr.y(function Yu(n,e,t=pa.y){return r=>{lf(e,()=>{const{length:o}=n,c=new Array(o);let d=o,g=o;for(let y=0;y<o;y++)lf(e,()=>{const E=(0,Mn.D)(n[y],e);let x=!1;E.subscribe((0,fr.x)(r,S=>{c[y]=S,x||(x=!0,g--),g||r.next(t(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Zu(o,d):pa.y));return t?c.pipe(cf(t)):c}function lf(n,e,t){n?(0,qu.f)(t,n,e):e()}var Os=F(8189);function ks(...n){return function _c(){return(0,Os.J)(1)}()((0,Mn.D)(n,(0,to.yG)(n)))}var Mo=F(8421);function ga(n){return new xr.y(e=>{(0,Mo.Xf)(n()).subscribe(e)})}var Qu=F(9635),Jo=F(576);function Ps(n,e){const t=(0,Jo.m)(n)?n:()=>n,r=o=>o.error(t());return new xr.y(e?o=>e.schedule(r,0,o):r)}var So=F(515),Ju=F(727),pr=F(4482);function Xo(){return(0,pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,fr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,c=t;t=null,o&&(!c||o===c)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class es extends xr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ju.w0;const t=this.getSubject();e.add(this.source.subscribe((0,fr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ju.w0.EMPTY)}return e}refCount(){return Xo()(this)}}function gr(n,e){return(0,pr.e)((t,r)=>{let o=null,c=0,d=!1;const g=()=>d&&!o&&r.complete();t.subscribe((0,fr.x)(r,y=>{o?.unsubscribe();let E=0;const x=c++;(0,Mo.Xf)(n(y,x)).subscribe(o=(0,fr.x)(r,S=>r.next(e?e(y,S,x,E++):S),()=>{o=null,g()}))},()=>{d=!0,g()}))})}function Vn(n){return n<=0?()=>So.E:(0,pr.e)((e,t)=>{let r=0;e.subscribe((0,fr.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Ao(...n){const e=(0,to.yG)(n);return(0,pr.e)((t,r)=>{(e?ks(n,t,e):ks(n,t)).subscribe(r)})}function Jr(n,e){return(0,pr.e)((t,r)=>{let o=0;t.subscribe((0,fr.x)(r,c=>n.call(e,c,o++)&&r.next(c)))})}var Tr=F(5577);function no(n){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,fr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function uf(n=wm){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,fr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function wm(){return new Ms}function Ui(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jr((o,c)=>n(o,c,r)):pa.y,Vn(1),t?no(e):uf(()=>new Ms))}function Oo(n,e){return(0,Jo.m)(e)?(0,Tr.z)(n,e,1):(0,Tr.z)(n,1)}var er=F(8505);function Bi(n){return(0,pr.e)((e,t)=>{let c,r=null,o=!1;r=e.subscribe((0,fr.x)(t,void 0,void 0,d=>{c=(0,Mo.Xf)(n(d,Bi(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(t))})}function Rs(n,e,t,r,o){return(c,d)=>{let g=t,y=e,E=0;c.subscribe((0,fr.x)(d,x=>{const S=E++;y=g?n(y,x,S):(g=!0,x),r&&d.next(y)},o&&(()=>{g&&d.next(y),d.complete()})))}}function ma(n,e){return(0,pr.e)(Rs(n,e,arguments.length>=2,!0))}function _a(n){return n<=0?()=>So.E:(0,pr.e)((e,t)=>{let r=[];e.subscribe((0,fr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ya(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jr((o,c)=>n(o,c,r)):pa.y,_a(1),t?no(e):uf(()=>new Ms))}function yl(n){return(0,pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const tn="primary",ji=Symbol("RouteTitle");class Ns{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function va(n){return new Ns(n)}function Xv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const d=r[c],g=n[c];if(d.startsWith(":"))o[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Di(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!Cm(n[o],e[o]))return!1;return!0}function Cm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function hf(n){return Array.prototype.concat.apply([],n)}function ed(n){return n.length>0?n[n.length-1]:null}function Zn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ko(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Mn.D)(Promise.resolve(n)):pt(n)}const t0={exact:function pf(n,e,t){if(!Ro(n.segments,e.segments)||!Po(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pf(n.children[r],e.children[r],t))return!1;return!0},subset:vc},nd={exact:function rd(n,e){return Di(n,e)},subset:function vl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Cm(n[t],e[t]))},ignored:()=>!0};function Em(n,e,t){return t0[t.paths](n.root,e.root,t.matrixParams)&&nd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vc(n,e,t){return bl(n,e,e.segments,t)}function bl(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ro(o,t)||e.hasChildren()||!Po(o,t,r))}if(n.segments.length===t.length){if(!Ro(n.segments,t)||!Po(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!vc(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Ro(n.segments,o)&&Po(n.segments,o,r)&&n.children[tn])&&bl(n.children[tn],e,c,r)}}function Po(n,e,t){return e.every((r,o)=>nd[t](n[o].parameters,r.parameters))}class Fs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=va(this.queryParams)),this._queryParamMap}toString(){return mf.serialize(this)}}class on{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Zn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wa(this)}}class bc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=va(this.parameters)),this._parameterMap}toString(){return Im(this)}}function Ro(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new ba},providedIn:"root"}),n})();class ba{parse(e){const t=new p(e);return new Fs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${wc(e.root,!0)}`,r=function r0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Cl(t)}=${Cl(o)}`).join("&"):`${Cl(t)}=${Cl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function sd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mf=new ba;function wa(n){return n.segments.map(e=>Im(e)).join("/")}function wc(n,e){if(!n.hasChildren())return wa(n);if(e){const t=n.children[tn]?wc(n.children[tn],!1):"",r=[];return Zn(n.children,(o,c)=>{c!==tn&&r.push(`${c}:${wc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function gf(n,e){let t=[];return Zn(n.children,(r,o)=>{o===tn&&(t=t.concat(e(r,o)))}),Zn(n.children,(r,o)=>{o!==tn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===tn?[wc(n.children[tn],!1)]:[`${o}:${wc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[tn]?`${wa(n)}/${t[0]}`:`${wa(n)}/(${t.join("//")})`}}function od(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cl(n){return od(n).replace(/%3B/gi,";")}function ro(n){return od(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function No(n){return decodeURIComponent(n)}function ad(n){return No(n.replace(/\+/g,"%20"))}function Im(n){return`${ro(n.path)}${function n0(n){return Object.keys(n).map(e=>`;${ro(e)}=${ro(n[e])}`).join("")}(n.parameters)}`}const o0=/^[^\/()?;=#]+/;function cd(n){const e=n.match(o0);return e?e[0]:""}const ld=/^[^=?&#]+/,xm=/^[^&#]+/;class p{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[tn]=new on(e,t)),r}parseSegment(){const e=cd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new bc(No(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=cd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=cd(this.remaining);o&&(r=o,this.capture(r))}e[No(t)]=No(r)}parseQueryParam(e){const t=function Dm(n){const e=n.match(ld);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function v(n){const e=n.match(xm);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=ad(t),c=ad(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=cd(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new u.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=tn);const d=this.parseChildren();t[c]=1===Object.keys(d).length?d[tn]:new on([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function m(n){return n.segments.length>0?new on([],{[tn]:n}):n}function w(n){const e={};for(const r of Object.keys(n.children)){const c=w(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function T(n){if(1===n.numberOfChildren&&n.children[tn]){const e=n.children[tn];return new on(n.segments.concat(e.segments),e.children)}return n}(new on(n.segments,e))}function R(n){return n instanceof Fs}function nn(n,e,t,r,o){if(0===t.length)return xi(e.root,e.root,e.root,r,o);const c=function Dl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Il(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return Zn(c.outlets,(y,E)=>{g[E]="string"==typeof y?y.split("/"):y}),[...o,{outlets:g}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===d?(c.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,c]},[]);return new Il(t,e,r)}(t);return c.toRoot()?xi(e.root,e.root,new on([],{}),r,o):function d(y){const E=function ud(n,e,t,r){if(n.isAbsolute)return new Ls(e.root,!0,0);if(-1===r)return new Ls(t,t===e.root,0);return function xl(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new u.vHH(4005,!1);o=r.segments.length}return new Ls(r,!1,o-c)}(t,r+(Cn(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,e,n.snapshot?._urlSegment,y),x=E.processChildren?ts(E.segmentGroup,E.index,c.commands):Ec(E.segmentGroup,E.index,c.commands);return xi(e.root,E.segmentGroup,x,r,o)}(n.snapshot?._lastPathIndex)}function Cn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Wr(n){return"object"==typeof n&&null!=n&&n.outlets}function xi(n,e,t,r,o){let d,c={};r&&Zn(r,(y,E)=>{c[E]=Array.isArray(y)?y.map(x=>`${x}`):`${y}`}),d=n===e?t:El(n,e,t);const g=m(w(d));return new Fs(g,c,o)}function El(n,e,t){const r={};return Zn(n.children,(o,c)=>{r[c]=o===e?t:El(o,e,t)}),new on(n.segments,r)}class Il{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cn(r[0]))throw new u.vHH(4003,!1);const o=r.find(Wr);if(o&&o!==ed(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ls{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ec(n,e,t){if(n||(n=new on([],{})),0===n.segments.length&&n.hasChildren())return ts(n,e,t);const r=function Tm(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const d=n.segments[o],g=t[r];if(Wr(g))break;const y=`${g}`,E=r<t.length-1?t[r+1]:null;if(o>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!yf(y,E,d))return c;r+=2}else{if(!yf(y,{},d))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new on(n.segments.slice(0,r.pathIndex),{});return c.children[tn]=new on(n.segments.slice(r.pathIndex),n.children),ts(c,0,o)}return r.match&&0===o.length?new on(n.segments,{}):r.match&&!n.hasChildren()?zn(n,e,t):r.match?ts(n,0,o):zn(n,e,t)}function ts(n,e,t){if(0===t.length)return new on(n.segments,{});{const r=function Cc(n){return Wr(n[0])?n[0].outlets:{[tn]:n}}(t),o={};return Zn(r,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[d]=Ec(n.children[d],e,c))}),Zn(n.children,(c,d)=>{void 0===r[d]&&(o[d]=c)}),new on(n.segments,o)}}function zn(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(Wr(c)){const y=Mm(c.outlets);return new on(r,y)}if(0===o&&Cn(t[0])){r.push(new bc(n.segments[e].path,s0(t[0]))),o++;continue}const d=Wr(c)?c.outlets[tn]:`${c}`,g=o<t.length-1?t[o+1]:null;d&&g&&Cn(g)?(r.push(new bc(d,s0(g))),o+=2):(r.push(new bc(d,{})),o++)}return new on(r,{})}function Mm(n){const e={};return Zn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=zn(new on([],{}),0,t))}),e}function s0(n){const e={};return Zn(n,(t,r)=>e[r]=`${t}`),e}function yf(n,e,t){return n==t.path&&Di(e,t.parameters)}class ns{constructor(e,t){this.id=e,this.url=t}}class Sm extends ns{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ic extends ns{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vf extends ns{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class a0 extends ns{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jE extends ns{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HM extends ns{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GM extends ns{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dd extends ns{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Am extends ns{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c0{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l0{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class u0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $E{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d0{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Om{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class h0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return wf(e,this._root).map(t=>t.value)}}function hd(n,e){if(n===e.value)return e;for(const t of e.children){const r=hd(n,t);if(r)return r}return null}function wf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=wf(n,t);if(r.length)return r.unshift(e),r}return[]}class rs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function io(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class f0 extends h0{constructor(e,t){super(e),this.snapshot=t,fd(this,e)}toString(){return this.snapshot.toString()}}function Cf(n,e){const t=function Ef(n,e){const d=new is([],{},{},"",{},tn,e,null,n.root,-1,{});return new km("",new rs(d,[]))}(n,e),r=new Ln([new bc("",{})]),o=new Ln({}),c=new Ln({}),d=new Ln({}),g=new Ln(""),y=new Dc(r,o,d,g,c,tn,e,t.root);return y.snapshot=t.root,new f0(new rs(y,[]),t)}class Dc{constructor(e,t,r,o,c,d,g,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=g,this.title=this.data?.pipe((0,mt.U)(E=>E[ji]))??pt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>va(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>va(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function If(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function Df(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class is{constructor(e,t,r,o,c,d,g,y,E,x,S,z){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=g,this.title=this.data?.[ji],this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=x,this._correctedLastPathIndex=z??x,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=va(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=va(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class km extends h0{constructor(e,t){super(t),this.url=e,fd(this,t)}toString(){return p0(this._root)}}function fd(n,e){e.value._routerState=n,e.children.forEach(t=>fd(n,t))}function p0(n){const e=n.children.length>0?` { ${n.children.map(p0).join(", ")} } `:"";return`${n.value}${e}`}function Pm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Di(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Di(e.params,t.params)||n.params.next(t.params),function df(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Di(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Di(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xf(n,e){const t=Di(n.params,e.params)&&function wl(n,e){return Ro(n,e)&&n.every((t,r)=>Di(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xf(n.parent,e.parent))}function pd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function zE(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return pd(n,r,o);return pd(n,r)})}(n,e,t);return new rs(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>pd(n,g)),d}}const r=function HE(n){return new Dc(new Ln(n.url),new Ln(n.params),new Ln(n.queryParams),new Ln(n.fragment),new Ln(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>pd(n,c));return new rs(r,o)}}const Rm="ngNavigationCancelingError";function Tf(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=R(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=g0(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function g0(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Rm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Nm(n){return m0(n)&&R(n.url)}function m0(n){return n&&n[Rm]}class _0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Mf,this.attachRef=null}}let Mf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _0,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sf=!1;let xc=(()=>{class n{constructor(t,r,o,c,d){this.parentContexts=t,this.location=r,this.changeDetector=c,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=o||tn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Sf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Sf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Sf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,Sf);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new GE(t,g,o.injector);if(r&&function Ml(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(d);this.activated=o.createComponent(E,o.length,y)}else this.activated=o.createComponent(d,{index:o.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Mf),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class GE{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Dc?this.route:e===Mf?this.childContexts:this.parent.get(e,t)}}let Ca=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[xc],encapsulation:2}),n})();function y0(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Vm(n){const e=n.children&&n.children.map(Vm),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==tn&&(t.component=Ca),t}function oo(n){return n.outlet||tn}function Af(n,e){const t=n.filter(r=>oo(r)===e);return t.push(...n.filter(r=>oo(r)!==e)),t}function Of(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Um{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Pm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=io(t);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,o[d],r),delete o[d]}),Zn(o,(c,d)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=io(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=io(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=io(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new Om(c.value.snapshot))}),e.children.length&&this.forwardEvent(new $E(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(Pm(o),o===c)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),Pm(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=Of(o.snapshot),y=g?.get(u._Vd)??null;d.attachRef=null,d.route=o,d.resolver=y,d.injector=g,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class ZE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bm{constructor(e,t){this.component=e,this.route=t}}function YM(n,e,t){const r=n._root;return md(r,e?e._root:null,t,[r.value])}function gd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function md(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=io(e);return n.children.forEach(d=>{(function w0(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const y=function jm(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ro(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(n.url,e.url)||!Di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xf(n,e)||!Di(n.queryParams,e.queryParams);default:return!xf(n,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new ZE(r)):(c.data=d.data,c._resolvedData=d._resolvedData),md(n,e,c.component?g?g.children:null:t,r,o),y&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Bm(g.outlet.component,d))}else d&&Sl(e,g,o),o.canActivateChecks.push(new ZE(r)),md(n,null,c.component?g?g.children:null:t,r,o)})(d,c[d.value.outlet],t,r.concat([d.value]),o),delete c[d.value.outlet]}),Zn(c,(d,g)=>Sl(d,t.getContext(g),o)),o}function Sl(n,e,t){const r=io(n),o=n.value;Zn(r,(c,d)=>{Sl(c,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Bm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Al(n){return"function"==typeof n}function kf(n){return n instanceof Ms||"EmptyError"===n?.name}const Pf=Symbol("INITIAL_VALUE");function Ol(){return gr(n=>Ku(n.map(e=>e.pipe(Vn(1),Ao(Pf)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===Pf)return Pf;if(!1===t||t instanceof Fs)return t}return!0}),Jr(e=>e!==Pf),Vn(1)))}function di(n){return(0,Qu.z)((0,er.b)(e=>{if(R(e))throw Tf(0,e)}),(0,mt.U)(e=>!0===e))}const Rf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nf(n,e,t,r,o){const c=Zr(n,e,t);return c.matched?function Gm(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?pt(o.map(d=>{const g=gd(d,n);return ko(function KE(n){return n&&Al(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(Ol(),di()):pt(!0)}(r=y0(e,r),e,t).pipe((0,mt.U)(d=>!0===d?c:{...Rf})):pt(c)}function Zr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Rf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Xv)(t,n,e);if(!o)return{...Rf};const c={};Zn(o.posParams,(g,y)=>{c[y]=g.path});const d=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Ea(n,e,t,r,o="corrected"){if(t.length>0&&function oI(n,e,t){return t.some(r=>Ff(n,e,r)&&oo(r)!==tn)}(n,t,r)){const d=new on(e,function iI(n,e,t,r){const o={};o[tn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&oo(c)!==tn){const d=new on([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[oo(c)]=d}return o}(n,e,r,new on(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function D0(n,e,t){return t.some(r=>Ff(n,e,r))}(n,t,r)){const d=new on(n.segments,function I0(n,e,t,r,o,c){const d={};for(const g of r)if(Ff(n,t,g)&&!o[oo(g)]){const y=new on([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===c?n.segments.length:e.length,d[oo(g)]=y}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const c=new on(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Ff(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Wm(n,e,t,r){return!!(oo(n)===r||r!==tn&&Ff(e,t,n))&&("**"===n.path||Zr(e,n,t).matched)}function x0(n,e,t){return 0===e.length&&!n.children[t]}const yd=!1;class Lf{constructor(e){this.segmentGroup=e||null}}class T0{constructor(e){this.urlTree=e}}function vd(n){return Ps(new Lf(n))}function M0(n){return Ps(new T0(n))}class aI{constructor(e,t,r,o,c){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0}apply(){const e=Ea(this.urlTree.root,[],[],this.config).segmentGroup,t=new on(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,tn).pipe((0,mt.U)(c=>this.createUrlTree(w(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bi(c=>{if(c instanceof T0)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Lf?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,tn).pipe((0,mt.U)(o=>this.createUrlTree(w(o),e.queryParams,e.fragment))).pipe(Bi(o=>{throw o instanceof Lf?this.noMatchError(o):o}))}noMatchError(e){return new u.vHH(4002,yd)}createUrlTree(e,t,r){const o=m(e);return new Fs(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,mt.U)(c=>new on([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Mn.D)(o).pipe(Oo(c=>{const d=r.children[c],g=Af(t,c);return this.expandSegmentGroup(e,g,d,c).pipe((0,mt.U)(y=>({segment:y,outlet:c})))}),ma((c,d)=>(c[d.outlet]=d.segment,c),{}),ya())}expandSegment(e,t,r,o,c,d){return(0,Mn.D)(r).pipe(Oo(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,c,d).pipe(Bi(E=>{if(E instanceof Lf)return pt(null);throw E}))),Ui(g=>!!g),Bi((g,y)=>{if(kf(g))return x0(t,o,c)?pt(new on([],{})):vd(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,c,d,g){return Wm(o,t,c,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d):vd(t):vd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?M0(c):this.lineralizeSegments(r,c).pipe((0,Tr.z)(d=>{const g=new on(d,{});return this.expandSegment(e,g,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d){const{matched:g,consumedSegments:y,remainingSegments:E,positionalParamSegments:x}=Zr(t,o,c);if(!g)return vd(t);const S=this.applyRedirectCommands(y,o.redirectTo,x);return o.redirectTo.startsWith("/")?M0(S):this.lineralizeSegments(o,S).pipe((0,Tr.z)(z=>this.expandSegment(e,t,r,z.concat(E),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){return"**"===r.path?(e=y0(r,e),r.loadChildren?(r._loadedRoutes?pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,mt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new on(o,{})))):pt(new on(o,{}))):Nf(t,r,o,e).pipe(gr(({matched:d,consumedSegments:g,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Tr.z)(x=>{const S=x.injector??e,z=x.routes,{segmentGroup:Y,slicedSegments:se}=Ea(t,g,y,z),Ne=new on(Y.segments,Y.children);if(0===se.length&&Ne.hasChildren())return this.expandChildren(S,z,Ne).pipe((0,mt.U)(Qt=>new on(g,Qt)));if(0===z.length&&0===se.length)return pt(new on(g,{}));const Ue=oo(r)===c;return this.expandSegment(S,Ne,z,se,Ue?tn:c,!0).pipe((0,mt.U)(St=>new on(g.concat(St.segments),St.children)))})):vd(t)))}getChildConfig(e,t,r){return t.children?pt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pt({routes:t._loadedRoutes,injector:t._loadedInjector}):function rI(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?pt(!0):pt(o.map(d=>{const g=gd(d,n);return ko(function $m(n){return n&&Al(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(Ol(),di())}(e,t,r).pipe((0,Tr.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,er.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function kl(n){return Ps(g0(yd,3))}())):pt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return pt(r);if(o.numberOfChildren>1||!o.children[tn])return Ps(new u.vHH(4e3,yd));o=o.children[tn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new Fs(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Zn(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[c]=t[g]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let d={};return Zn(t.children,(g,y)=>{d[y]=this.createSegmentGroup(e,g,r,o)}),new on(c,d)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new u.vHH(4001,yd);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class XM{}class os{constructor(e,t,r,o,c,d,g,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const e=Ea(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,tn).pipe((0,mt.U)(t=>{if(null===t)return null;const r=new is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new rs(r,t),c=new km(this.url,o);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(e){const t=e.value,r=If(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,Mn.D)(Object.keys(r.children)).pipe(Oo(o=>{const c=r.children[o],d=Af(t,o);return this.processSegmentGroup(e,d,c,o)}),ma((o,c)=>o&&c?(o.push(...c),o):null),function yc(n,e=!1){return(0,pr.e)((t,r)=>{let o=0;t.subscribe((0,fr.x)(r,c=>{const d=n(c,o++);(d||e)&&r.next(c),!d&&r.complete()}))})}(o=>null!==o),no(null),ya(),(0,mt.U)(o=>{if(null===o)return null;const c=Ym(o);return function qm(n){n.sort((e,t)=>e.value.outlet===tn?-1:t.value.outlet===tn?1:e.value.outlet.localeCompare(t.value.outlet))}(c),c}))}processSegment(e,t,r,o,c){return(0,Mn.D)(t).pipe(Oo(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,c)),Ui(d=>!!d),Bi(d=>{if(kf(d))return x0(r,o,c)?pt([]):pt(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,c){if(t.redirectTo||!Wm(t,r,o,c))return pt(null);let d;if("**"===t.path){const g=o.length>0?ed(o).parameters:{},y=A0(r)+o.length;d=pt({snapshot:new is(o,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vf(t),oo(t),t.component??t._loadedComponent??null,t,Pl(r),y,Uf(t),y),consumedSegments:[],remainingSegments:[]})}else d=Nf(r,t,o,e).pipe((0,mt.U)(({matched:g,consumedSegments:y,remainingSegments:E,parameters:x})=>{if(!g)return null;const S=A0(r)+y.length;return{snapshot:new is(y,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vf(t),oo(t),t.component??t._loadedComponent??null,t,Pl(r),S,Uf(t),S),consumedSegments:y,remainingSegments:E}}));return d.pipe(gr(g=>{if(null===g)return pt(null);const{snapshot:y,consumedSegments:E,remainingSegments:x}=g;e=t._injector??e;const S=t._loadedInjector??e,z=function Km(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Y,slicedSegments:se}=Ea(r,E,x,z.filter(Ue=>void 0===Ue.redirectTo),this.relativeLinkResolution);if(0===se.length&&Y.hasChildren())return this.processChildren(S,z,Y).pipe((0,mt.U)(Ue=>null===Ue?null:[new rs(y,Ue)]));if(0===z.length&&0===se.length)return pt([new rs(y,[])]);const Ne=oo(t)===c;return this.processSegment(S,z,Y,se,Ne?tn:c).pipe((0,mt.U)(Ue=>null===Ue?null:[new rs(y,Ue)]))}))}}function lI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ym(n){const e=[],t=new Set;for(const r of n){if(!lI(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Ym(r.children);e.push(new rs(r.value,o))}return e.filter(r=>!t.has(r))}function Pl(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function A0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Vf(n){return n.data||{}}function Uf(n){return n.resolve||{}}function Bf(n){return"string"==typeof n.title||null===n.title}function Jm(n){return gr(e=>{const t=n(e);return t?(0,Mn.D)(t).pipe((0,mt.U)(()=>e)):pt(e)})}let R0=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(c=>c.outlet===tn);return r}getResolvedTitleForRoute(t){return t.data[ji]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(N0)},providedIn:"root"}),n})(),N0=(()=>{class n extends R0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hI{}class F0 extends class fI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const bd=new u.OlP("",{providedIn:"root",factory:()=>({})}),e_=new u.OlP("ROUTES");let t_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ko(t.loadComponent()).pipe((0,er.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),yl(()=>{this.componentLoaders.delete(t)})),o=new es(r,()=>new Vi.x).pipe(Xo());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,mt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,E,x=!1;Array.isArray(g)?E=g:(y=g.create(t).injector,E=hf(y.get(e_,[],u.XFs.Self|u.XFs.Optional)));return{routes:E.map(Vm),injector:y}}),yl(()=>{this.childrenLoaders.delete(r)})),d=new es(c,()=>new Vi.x).pipe(Xo());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return ko(t()).pipe((0,Tr.z)(r=>r instanceof u.YKP||Array.isArray(r)?pt(r):(0,Mn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class L0{}class V0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function U0(n){throw n}function B0(n,e,t){return e.parse("/")}const pI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function j0(){const n=(0,u.f3M)(id),e=(0,u.f3M)(Mf),t=(0,u.f3M)(Fe),r=(0,u.f3M)(u.zs3),o=(0,u.f3M)(u.Sil),c=(0,u.f3M)(e_,{optional:!0})??[],d=(0,u.f3M)(bd,{optional:!0})??{},g=(0,u.f3M)(N0),y=(0,u.f3M)(R0,{optional:!0}),E=(0,u.f3M)(L0,{optional:!0}),x=(0,u.f3M)(hI,{optional:!0}),S=new mr(null,n,e,t,r,o,hf(c));return E&&(S.urlHandlingStrategy=E),x&&(S.routeReuseStrategy=x),S.titleStrategy=y??g,function $f(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,S),S}let mr=(()=>{class n{constructor(t,r,o,c,d,g,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vi.x,this.errorHandler=U0,this.malformedUriErrorHandler=B0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>pt(void 0),this.urlHandlingStrategy=new V0,this.routeReuseStrategy=new F0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(t_),this.configLoader.onLoadEndListener=z=>this.triggerEvent(new l0(z)),this.configLoader.onLoadStartListener=z=>this.triggerEvent(new c0(z)),this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const S=d.get(u.R0b);this.isNgZoneEnabled=S instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function ff(){return new Fs(new on([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Cf(this.currentUrlTree,this.rootComponentType),this.transitions=new Ln({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Jr(o=>0!==o.id),(0,mt.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),gr(o=>{let c=!1,d=!1;return pt(o).pipe((0,er.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gr(g=>{const y=this.browserUrlTree.toString(),E=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return n_(g.source)&&(this.browserUrlTree=g.extractedUrl),pt(g).pipe(gr(S=>{const z=this.transitions.getValue();return r.next(new Sm(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),z!==this.transitions.getValue()?So.E:Promise.resolve(S)}),function cI(n,e,t,r){return gr(o=>function Vs(n,e,t,r,o){return new aI(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,mt.U)(c=>({...o,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,er.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},o.urlAfterRedirects=S.urlAfterRedirects}),function k0(n,e,t,r,o,c){return(0,Tr.z)(d=>function eS(n,e,t,r,o,c,d="emptyOnly",g="legacy"){return new os(n,e,t,r,o,d,g,c).recognize().pipe(gr(y=>null===y?function S0(n){return new xr.y(e=>e.error(n))}(new XM):pt(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,c).pipe((0,mt.U)(g=>({...d,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,er.b)(S=>{if(o.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(Y,S)}this.browserUrlTree=S.urlAfterRedirects}const z=new jE(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(z)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:Y,source:se,restoredState:Ne,extras:Ue}=g,Mt=new Sm(z,this.serializeUrl(Y),se,Ne);r.next(Mt);const St=Cf(Y,this.rootComponentType).snapshot;return pt(o={...g,targetSnapshot:St,urlAfterRedirects:Y,extras:{...Ue,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),So.E}),(0,er.b)(g=>{const y=new HM(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,mt.U)(g=>o={...g,guards:YM(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function QE(n,e){return(0,Tr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:d}}=t;return 0===d.length&&0===c.length?pt({...t,guardsResult:!0}):function JE(n,e,t,r){return(0,Mn.D)(n).pipe((0,Tr.z)(o=>function nI(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?pt(c.map(g=>{const y=Of(e)??o,E=gd(g,y);return ko(function _d(n){return n&&Al(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):y.runInContext(()=>E(n,e,t,r))).pipe(Ui())})).pipe(Ol()):pt(!0)}(o.component,o.route,t,e,r)),Ui(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Tr.z)(g=>g&&function C0(n){return"boolean"==typeof n}(g)?function Hm(n,e,t,r){return(0,Mn.D)(e).pipe(Oo(o=>ks(function eI(n,e){return null!==n&&e&&e(new u0(n)),pt(!0)}(o.route.parent,r),function XE(n,e){return null!==n&&e&&e(new d0(n)),pt(!0)}(o.route,r),function E0(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function QM(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>ga(()=>pt(d.guards.map(y=>{const E=Of(d.node)??t,x=gd(y,E);return ko(function zm(n){return n&&Al(n.canActivateChild)}(x)?x.canActivateChild(r,n):E.runInContext(()=>x(r,n))).pipe(Ui())})).pipe(Ol())));return pt(c).pipe(Ol())}(n,o.path,t),function tI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const o=r.map(c=>ga(()=>{const d=Of(e)??t,g=gd(c,d);return ko(function qE(n){return n&&Al(n.canActivate)}(g)?g.canActivate(e,n):d.runInContext(()=>g(e,n))).pipe(Ui())}));return pt(o).pipe(Ol())}(n,o.route,t))),Ui(o=>!0!==o,!0))}(r,c,n,e):pt(g)),(0,mt.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,er.b)(g=>{if(o.guardsResult=g.guardsResult,R(g.guardsResult))throw Tf(0,g.guardsResult);const y=new GM(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),Jr(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Jm(g=>{if(g.guards.canActivateChecks.length)return pt(g).pipe((0,er.b)(y=>{const E=new dd(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),gr(y=>{let E=!1;return pt(y).pipe(function tS(n,e){return(0,Tr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return pt(t);let c=0;return(0,Mn.D)(o).pipe(Oo(d=>function Rl(n,e,t,r){const o=n.routeConfig,c=n._resolve;return void 0!==o?.title&&!Bf(o)&&(c[ji]=o.title),function Qm(n,e,t,r){const o=function P0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return pt({});const c={};return(0,Mn.D)(o).pipe((0,Tr.z)(d=>function dI(n,e,t,r){const o=Of(e)??r,c=gd(n,o);return ko(c.resolve?c.resolve(e,t):o.runInContext(()=>c(e,t)))}(n[d],e,t,r).pipe(Ui(),(0,er.b)(g=>{c[d]=g}))),_a(1),function Xu(n){return(0,mt.U)(()=>n)}(c),Bi(d=>kf(d)?So.E:Ps(d)))}(c,n,e,r).pipe((0,mt.U)(d=>(n._resolvedData=d,n.data=If(n,t).resolve,o&&Bf(o)&&(n.data[ji]=o.title),null)))}(d.route,r,n,e)),(0,er.b)(()=>c++),_a(1),(0,Tr.z)(d=>c===o.length?pt(t):So.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,er.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,er.b)(y=>{const E=new Am(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),Jm(g=>{const y=E=>{const x=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,er.b)(S=>{E.component=S}),(0,mt.U)(()=>{})));for(const S of E.children)x.push(...y(S));return x};return Ku(y(g.targetSnapshot.root)).pipe(no(),Vn(1))}),Jm(()=>this.afterPreactivation()),(0,mt.U)(g=>{const y=function Tl(n,e,t){const r=pd(n,e._root,t?t._root:void 0);return new f0(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return o={...g,targetRouterState:y}}),(0,er.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(r=>(new Um(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,er.b)({next(){c=!0},complete(){c=!0}}),yl(()=>{c||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Bi(g=>{if(d=!0,m0(g)){Nm(g)||(this.navigated=!0,this.restoreHistory(o,!0));const y=new vf(o.id,this.serializeUrl(o.extractedUrl),g.message,g.cancellationCode);if(r.next(y),Nm(g)){const E=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||n_(o.source)};this.scheduleNavigation(E,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const y=new a0(o.id,this.serializeUrl(o.extractedUrl),g,o.targetSnapshot??void 0);r.next(y);try{o.resolve(this.errorHandler(g))}catch(E){o.reject(E)}}return So.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},c=t.state?.navigationId?t.state:null;if(c){const g={...c};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Vm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:d,queryParamsHandling:g,preserveFragment:y}=r,E=o||this.routerState.root,x=y?this.currentUrlTree.fragment:d;let S=null;switch(g){case"merge":S={...this.currentUrlTree.queryParams,...c};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=c||null}return null!==S&&(S=this.removeEmptyProps(S)),nn(E,this.currentUrlTree,t,S,x??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=R(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function $0(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...pI}:!1===r?{...rS}:r,R(t))return Em(this.currentUrlTree,t,o);const c=this.parseUrl(t);return Em(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ic(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,d){if(this.disposed)return Promise.resolve(!1);let g,y,E;d?(g=d.resolve,y=d.reject,E=d.promise):E=new Promise((z,Y)=>{g=z,y=Y});const x=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),S=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:x,targetPageId:S,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:g,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(z=>Promise.reject(z))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const c=new vf(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(c),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return j0()},providedIn:"root"}),n})();function n_(n){return"imperative"!==n}class r_{}let i_=(()=>{class n{constructor(t,r,o,c,d){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Jr(t=>t instanceof Ic),Oo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,t,`Route: ${c.path}`));const d=c._injector??t,g=c._loadedInjector??d;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?o.push(this.preloadConfig(d,c)):(c.children||c._loadedRoutes)&&o.push(this.processRoutes(g,c.children??c._loadedRoutes))}return(0,Mn.D)(o).pipe((0,Os.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pt(null);const c=o.pipe((0,Tr.z)(d=>null===d?pt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Mn.D)([c,d]).pipe((0,Os.J)())}return c})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(r_),u.LFG(t_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tc=new u.OlP("");let H0=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ic&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new bf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Mc(n,e){return{\u0275kind:n,\u0275providers:e}}function Ed(n){return[{provide:e_,multi:!0,useValue:n}]}function _I(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(mr),o=n.get(o_);1===n.get(s_)&&r.initialNavigation(),n.get(so,null,u.XFs.Optional)?.setUpPreloading(),n.get(Tc,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const o_=new u.OlP("",{factory:()=>new Vi.x}),s_=new u.OlP("",{providedIn:"root",factory:()=>1});const so=new u.OlP("");function bI(n){return Mc(0,[{provide:so,useExisting:i_},{provide:r_,useExisting:n}])}const Z0=new u.OlP("ROUTER_FORROOT_GUARD"),CI=[Fe,{provide:id,useClass:ba},{provide:mr,useFactory:j0},Mf,{provide:Dc,useFactory:function G0(n){return n.routerState.root},deps:[mr]},t_];function q0(){return new u.PXZ("Router",mr)}let K0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[CI,[],Ed(t),{provide:Z0,useFactory:Y0,deps:[[mr,new u.FiY,new u.tp0]]},{provide:bd,useValue:r||{}},r?.useHash?{provide:be,useClass:Qe}:{provide:be,useClass:ot},{provide:Tc,useFactory:()=>{const n=(0,u.f3M)(mr),e=(0,u.f3M)(rl),t=(0,u.f3M)(bd);return t.scrollOffset&&e.setOffset(t.scrollOffset),new H0(n,e,t)}},r?.preloadingStrategy?bI(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:q0},r?.initialNavigation?Q0(r):[],[{provide:a_,useFactory:_I},{provide:u.tb,multi:!0,useExisting:a_}]]}}static forChild(t){return{ngModule:n,providers:[Ed(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Z0,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ca]}),n})();function Y0(n){return"guarded"}function Q0(n){return["disabled"===n.initialNavigation?Mc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(mr);return()=>{e.setUpLocationChangeListener()}}},{provide:s_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Mc(2,[{provide:s_,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(W,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(c=>{const d=e.get(mr),g=e.get(o_);(function o(c){e.get(mr).events.pipe(Jr(g=>g instanceof Ic||g instanceof vf||g instanceof a0),(0,mt.U)(g=>g instanceof Ic||g instanceof vf&&(0===g.code||1===g.code)&&null),Jr(g=>null!==g),Vn(1)).subscribe(()=>{c()})})(()=>{c(!0),r=!0}),d.afterPreactivation=()=>(c(!0),r||g.closed?pt(void 0):g),d.initialNavigation()}))}}]).\u0275providers:[]]}const a_=new u.OlP("");var J0=F(6451),Zf=F(5363),X0=F(6063);class xI extends Vi.x{constructor(e=1/0,t=1/0,r=X0.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:d}=this;t||(r.push(e),!o&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const d=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)g=y;g&&r.splice(0,g+1)}}}var TI=F(3099);function MI(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,TI.B)({connector:()=>new xI(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function c_(n,e){return(0,Jo.m)(e)?gr(()=>n,e):gr(()=>n)}var qf=F(9468),Ft=F(880),Fo=F(2011),$i=F(5867);class Us{constructor(e){return e}}class Kf{constructor(){return(0,$i.C6)()}}const eb=new u.OlP("angularfire2._apps"),SI={provide:Us,useFactory:function aS(n){return n&&1===n.length?n[0]:new Us((0,$i.Mq)())},deps:[[new u.FiY,eb]]},tb={provide:Kf,deps:[[new u.FiY,eb]]};function cS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Us(r)}}let AI=(()=>{class n{constructor(t){(0,$i.KN)("angularfire",Ft.q4.full,"core"),(0,$i.KN)("angularfire",Ft.q4.full,"app"),(0,$i.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[SI,tb]}),n})();function Nl(n,...e){return{ngModule:AI,providers:[{provide:eb,useFactory:cS(n),multi:!0,deps:[u.R0b,u.zs3,Ft.HU,...e]}]}}const kI=(0,Ft.u3)($i.ZF,!0);var Te=F(5861),Bs=F(9681),Yf=F(4859),mn=F(2090),Ia=F(1877);const u_=new Map,nb={activated:!1,tokenObservers:[]},d_={initialized:!1,enabled:!1};function Xr(n){return u_.get(n)||nb}function Ti(n,e){u_.set(n,e)}function Qf(){return d_}class sb{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function RI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ar=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function f_(n){if(!Xr(n).activated)throw ar.create("use-before-activation",{appName:n.name})}function Jf(n,e){return ab.apply(this,arguments)}function ab(){return(ab=(0,Te.Z)(function*({url:n,body:e},t){var r,o;const c={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const Y=yield d.getHeartbeatsHeader();Y&&(c["X-Firebase-Client"]=Y)}const g={method:"POST",body:JSON.stringify(e),headers:c};let y,E;try{y=yield fetch(n,g)}catch(Y){throw ar.create("fetch-network-error",{originalErrorMessage:null===(r=Y)||void 0===r?void 0:r.message})}if(200!==y.status)throw ar.create("fetch-status-error",{httpStatus:y.status});try{E=yield y.json()}catch(Y){throw ar.create("fetch-parse-error",{originalErrorMessage:null===(o=Y)||void 0===o?void 0:o.message})}const x=E.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const S=1e3*Number(x[1]),z=Date.now();return{token:E.token,expireTimeMillis:z+S,issuedAtTimeMillis:z}})).apply(this,arguments)}function g_(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const tp="firebase-app-check-store";let np=null;function lb(){return np||(np=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var c;e(ar.create("storage-open",{originalErrorMessage:null===(c=o.target.error)||void 0===c?void 0:c.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(tp,{keyPath:"compositeKey"})}}catch(r){e(ar.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),np)}function rp(){return(rp=(0,Te.Z)(function*(n,e){const r=(yield lb()).transaction(tp,"readwrite"),c=r.objectStore(tp).put({compositeKey:n,value:e});return new Promise((d,g)=>{c.onsuccess=y=>{d()},r.onerror=y=>{var E;g(ar.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const op=new Ia.Yd("@firebase/app-check");function hb(n,e){return(0,mn.hl)()?function ub(n,e){return function LI(n,e){return rp.apply(this,arguments)}(function ip(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{op.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VI(){return Qf().enabled}function UI(){return pb.apply(this,arguments)}function pb(){return(pb=(0,Te.Z)(function*(){const n=Qf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Da={error:"UNKNOWN_ERROR"};function b_(n){return mn.US.encodeString(JSON.stringify(n),!1)}function sp(n){return ap.apply(this,arguments)}function ap(){return(ap=(0,Te.Z)(function*(n,e=!1){const t=n.app;f_(t);const r=Xr(t);let c,o=r.token;if(o&&!Sc(o)&&(Ti(t,Object.assign(Object.assign({},r),{token:void 0})),o=void 0),!o){const y=yield r.cachedTokenPromise;y&&(Sc(y)?o=y:yield hb(t,void 0))}if(!e&&o&&Sc(o))return{token:o.token};let g,d=!1;if(VI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Jf(g_(t,yield UI()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield hb(t,y),Ti(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?op.warn(y.message):op.error(y),c=y}return o?c?g=Sc(o)?{token:o.token,internalError:c}:gb(c):(g={token:o.token},Ti(t,Object.assign(Object.assign({},r),{token:o})),yield hb(t,o)):g=gb(c),d&&js(t,g),g})).apply(this,arguments)}function cp(n,e){const t=Xr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ti(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function lp(n){const{app:e}=n,t=Xr(e);let r=t.tokenRefresher;r||(r=function BI(n){const{app:e}=n;return new sb((0,Te.Z)(function*(){let r;if(r=Xr(e).token?yield sp(n,!0):yield sp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Xr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ti(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function js(n,e){const t=Xr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Sc(n){return n.expireTimeMillis-Date.now()>0}function gb(n){return{token:b_(Da),error:n}}class jI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Xr(this.app);for(const t of e)cp(this.app,t.next);return Promise.resolve()}}const Cb="app-check-internal";!function M_(){(0,Bs._registerComponent)(new Yf.wA("app-check",n=>function mb(n,e){return new jI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Cb).initialize()})),(0,Bs._registerComponent)(new Yf.wA(Cb,n=>function $I(n){return{getToken:e=>sp(n,e),addTokenListener:e=>function xd(n,e,t,r){const{app:o}=n,c=Xr(o),d={next:t,error:r,type:e};if(Ti(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,d]})),c.token&&Sc(c.token)){const g=c.token;Promise.resolve().then(()=>{t({token:g.token}),lp(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>lp(n))}(n,"INTERNAL",e),removeTokenListener:e=>cp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bs.registerVersion)("@firebase/app-check","0.5.14")}();class Md{constructor(){return(0,Ft.vb)("app-check")}}typeof window<"u"&&window,F(127);const xb=new u.OlP("angularfire2.auth.use-emulator"),fp=new u.OlP("angularfire2.auth.settings"),Tb=new u.OlP("angularfire2.auth.tenant-id"),Mb=new u.OlP("angularfire2.auth.langugage-code"),Sd=new u.OlP("angularfire2.auth.use-device-language"),pp=new u.OlP("angularfire.auth.persistence"),Ad=(n,e,t,r,o,c,d,g)=>(0,Fo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=o,c&&y.useDeviceLanguage(),d)for(const[E,x]of Object.entries(d))y.settings[E]=x;return g&&y.setPersistence(g),y},[t,r,o,c,d,g]);let Sb=(()=>{class n{constructor(t,r,o,c,d,g,y,E,x,S,z,Y){const se=new Vi.x,Ne=pt(void 0).pipe((0,Zf.Q)(d.outsideAngular),gr(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,mt.U)(()=>(0,Fo.on)(t,c,r)),(0,mt.U)(Ue=>Ad(Ue,c,g,E,x,S,y,z)),MI({bufferSize:1,refCount:!1}));if(yo(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{Ne.pipe(Ui()).subscribe();const Mt=Ne.pipe(gr(Jt=>Jt.getRedirectResult().then(Kt=>Kt,()=>null)),Ft.iC,MI({bufferSize:1,refCount:!1})),St=Ne.pipe(gr(Jt=>new xr.y(Kt=>({unsubscribe:c.runOutsideAngular(()=>Jt.onAuthStateChanged(ln=>Kt.next(ln),ln=>Kt.error(ln),()=>Kt.complete()))})))),Qt=Ne.pipe(gr(Jt=>new xr.y(Kt=>({unsubscribe:c.runOutsideAngular(()=>Jt.onIdTokenChanged(ln=>Kt.next(ln),ln=>Kt.error(ln),()=>Kt.complete()))}))));this.authState=Mt.pipe(c_(St),(0,qf.R)(d.outsideAngular),(0,Zf.Q)(d.insideAngular)),this.user=Mt.pipe(c_(Qt),(0,qf.R)(d.outsideAngular),(0,Zf.Q)(d.insideAngular)),this.idToken=this.user.pipe(gr(Jt=>Jt?(0,Mn.D)(Jt.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(gr(Jt=>Jt?(0,Mn.D)(Jt.getIdTokenResult()):pt(null))),this.credential=(0,J0.T)(Mt,se,this.authState.pipe(Jr(Jt=>!Jt))).pipe((0,mt.U)(Jt=>Jt?.user?Jt:null),(0,qf.R)(d.outsideAngular),(0,Zf.Q)(d.insideAngular))}return(0,Fo.pX)(this,Ne,c,{spy:{apply:(Ue,Mt,St)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&St.then(Qt=>se.next(Qt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fo.Dh),u.LFG(Fo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ft.HU),u.LFG(xb,8),u.LFG(fp,8),u.LFG(Tb,8),u.LFG(Mb,8),u.LFG(Sd,8),u.LFG(pp,8),u.LFG(Md,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),O_=(()=>{class n{constructor(t,r){this.fireauth=t,this.router=r}login(t,r){this.fireauth.signInWithEmailAndPassword(t,r).then(o=>{localStorage.setItem("token","true"),this.router.navigate(1==o.user?.emailVerified?["dashboard"]:["/verify-email"])},o=>{alert("Co\u015b posz\u0142o nie tak"),this.router.navigate(["login"])})}register(t,r){this.fireauth.createUserWithEmailAndPassword(t,r).then(o=>{alert("Uda\u0142o si\u0119 zarejestrowa\u0107"),this.sendEmailForVerification(o.user),this.router.navigate(["/login"])},o=>{alert("Problemy z rejestracj\u0105"),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["login"])},t=>{alert("Co\u015b posz\u0142o nie tak")})}forgotPassword(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/verify-email"])},r=>{alert("Something wrong")})}sendEmailForVerification(t){t.sendEmailVerification().then(r=>{this.router.navigate(["/verify-email"])},r=>{alert("Something is wrong")})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Sb),u.LFG(mr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),xa=(()=>{class n extends k_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Vo=new u.OlP("NgValueAccessor"),gp={provide:Vo,useExisting:(0,u.Gpc)(()=>Bl),multi:!0},Od=new u.OlP("CompositionEventMode");let Bl=(()=>{class n extends k_{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mp(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Od,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([gp]),u.qOj]}),n})();const hi=new u.OlP("NgValidators"),co=new u.OlP("NgAsyncValidators");function Vb(n){return null!=n}function Ub(n){return(0,u.QGY)(n)?(0,Mn.D)(n):n}function Bb(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function jb(n,e){return e.map(t=>t(n))}function $b(n){return n.map(e=>function JI(n){return!n.validate}(e)?e:t=>e.validate(t))}function zs(n){return null!=n?function kd(n){if(!n)return null;const e=n.filter(Vb);return 0==e.length?null:function(t){return Bb(jb(t,e))}}($b(n)):null}function Oc(n){return null!=n?function XI(n){if(!n)return null;const e=n.filter(Vb);return 0==e.length?null:function(t){return function Ob(...n){const e=(0,to.jO)(n),{args:t,keys:r}=As(n),o=new xr.y(c=>{const{length:d}=t;if(!d)return void c.complete();const g=new Array(d);let y=d,E=d;for(let x=0;x<d;x++){let S=!1;(0,Mo.Xf)(t[x]).subscribe((0,fr.x)(c,z=>{S||(S=!0,E--),g[x]=z},()=>y--,void 0,()=>{(!y||!S)&&(E||c.next(r?Zu(r,g):g),c.complete())}))}});return e?o.pipe(cf(e)):o}(jb(t,e).map(Ub)).pipe((0,mt.U)(Bb))}}($b(n)):null}function zb(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function F_(n){return n?Array.isArray(n)?n:[n]:[]}function zi(n,e){return Array.isArray(n)?n.includes(e):n===e}function $l(n,e){const t=F_(e);return F_(n).forEach(o=>{zi(t,o)||t.push(o)}),t}function ei(n,e){return F_(e).filter(t=>!zi(n,t))}class Ta{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Oc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qr extends Ta{get formDirective(){return null}get path(){return null}}class Fr extends Ta{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vp{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hs=(()=>{class n extends vp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fr,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),kc=(()=>{class n extends vp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Nd="VALID",Gl="INVALID",Aa="PENDING",Fd="DISABLED";function Wl(n){return(Zl(n)?n.validators:n)||null}function Ld(n){return Array.isArray(n)?zs(n):n||null}function Vd(n,e){return(Zl(e)?e.asyncValidators:n)||null}function Zb(n){return Array.isArray(n)?Oc(n):n||null}function Zl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class B_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ld(this._rawValidators),this._composedAsyncValidatorFn=Zb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nd}get invalid(){return this.status===Gl}get pending(){return this.status==Aa}get disabled(){return this.status===Fd}get enabled(){return this.status!==Fd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ld(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Zb(e)}addValidators(e){this.setValidators($l(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($l(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ei(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ei(e,this._rawAsyncValidators))}hasValidator(e){return zi(this._rawValidators,e)}hasAsyncValidator(e){return zi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Aa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nd||this.status===Aa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fd:Nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Aa,this._hasOwnPendingAsyncValidator=!0;const t=Ub(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Fd:this.errors?Gl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Aa)?Aa:this._anyControlsHaveStatus(Gl)?Gl:Nd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ud extends B_{constructor(e,t,r){super(Wl(t),Vd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function U_(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function bp(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function ql(n,e){$_(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function hD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ep(n,e)})}(n,e),function Yb(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Kb(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ep(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qb(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function jd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $_(n,e){const t=function Hb(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(zb(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function yp(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(zb(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();jd(e._rawValidators,o),jd(e._rawAsyncValidators,o)}function Ep(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Lr={provide:qr,useExisting:(0,u.Gpc)(()=>Dp)},Kl=(()=>Promise.resolve())();let Dp=(()=>{class n extends qr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Ud({},zs(t),Oc(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Kl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ql(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Kl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Kl.then(()=>{const r=this._findContainer(t.path),o=new Ud({});(function z_(n,e){$_(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Kl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Kl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Xb(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hi,10),u.Y36(co,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Lr]),u.qOj]}),n})();function tw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function W_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const nw=class extends B_{constructor(e=null,t,r){super(Wl(t),Vd(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=W_(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){W_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ow={provide:Fr,useExisting:(0,u.Gpc)(()=>Mi)},xp=(()=>Promise.resolve())();let Mi=(()=>{class n extends Fr{constructor(t,r,o,c,d){super(),this._changeDetectorRef=d,this.control=new nw,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function G_(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===Bl?t=c:function xS(n){return Object.getPrototypeOf(n.constructor)===xa}(c)?r=c:o=c}),o||r||t||null}(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Ip(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ql(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xp.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,u.D6c)(r);xp.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function wp(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qr,9),u.Y36(hi,10),u.Y36(co,10),u.Y36(Vo,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([ow]),u.qOj,u.TTD]}),n})(),sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Mw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Z_]}),n})(),Sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Mw]}),n})(),X_=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.email="",this.password="",this.logo="assets/images/logo.png"}goToRegister(){this.router.navigate(["/register"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}ngOnInit(){}login(){""!=this.email?""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter Password"):alert("Please enter email")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(O_),u.Y36(mr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:3,consts:[[1,"login"],[1,"login_container"],[1,"login_container_big_circle"],[1,"login_container_small_circle"],[1,"login_container_logotype"],[1,"login_container_logotype_logo"],[1,"login_container_logotype_logo_logo",3,"src"],[1,"login_container_logotype_title_title"],[1,"login_container_logotype_title"],[1,"login_container_base"],[1,"login_container_base_form"],[1,"login_container_base_form_title"],[1,"login_container_base_form_title_text"],[1,"login_container_base_form_inputs"],["type","email","placeholder","Email",1,"login_container_base_form_inputs_input",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"login_container_base_form_inputs_input",3,"ngModel","ngModelChange"],[1,"login_container_base_form_button"],[1,"login_container_base_form_button_button",3,"click"],[1,"col-6","m-3","d-flex","justify-content-center","align-items-center"],[2,"text-decoration","none","color","rgba(206, 81, 116, 0.59)","cursor","pointer",3,"click"],[1,"text-danger"],[1,"col-6","d-flex","justify-content-center","align-items-center"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7)(8,"h5",8),u._uU(9,"BRIGHTMOON"),u.qZA()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"p",12),u._uU(14,"LOGIN"),u.qZA()(),u.TgZ(15,"div",13)(16,"input",14),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(17,"input",15),u.NdJ("ngModelChange",function(c){return r.password=c}),u.qZA()(),u.TgZ(18,"div",16)(19,"button",17),u.NdJ("click",function(){return r.login()}),u._uU(20,"Login"),u.qZA()(),u.TgZ(21,"div",18)(22,"a",19),u.NdJ("click",function(){return r.goToRegister()}),u._uU(23,"Need Account?"),u.TgZ(24,"span",20),u._uU(25,"Register"),u.qZA()()(),u.TgZ(26,"div",21)(27,"a",19),u.NdJ("click",function(){return r.goToForgotPassword()}),u._uU(28,"Forgot Password?"),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("src",r.logo,u.LSH),u.xp6(10),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngModel",r.password))},dependencies:[Bl,Hs,Mi],styles:["@media screen and (min-width: 1601px){.login_container[_ngcontent-%COMP%]{z-index:3;display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:714px;height:714px;z-index:1;left:-385px;top:102px;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (min-width: 1024px) and (max-width: 1600px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:614px;height:614px;left:-385px;top:52px;z-index:1;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;z-index:2;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (max-width: 1023px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:397px;height:397px;left:-276px;top:157px;border-radius:100%;z-index:1;background:rgba(206,81,116,.39)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:35px;height:35px;left:59px;top:204px;border-radius:100%;z-index:2;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:27px;line-height:58px;color:#fff;margin-bottom:0}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:231px;max-width:431px;width:100%;margin-top:40px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:16px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:231px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:20px;line-height:29px}}"]}),n})();const LD=[{navbarLogo:"Brightmoon",navbarDashboard:"Dashboard",navbarClients:"Clients",navbarProducts:"Products",navbarAnalitycs:"Analitycs",navbarSettings:"Settings",dashboardTitle:"Dashboard",dashboardRecentProducts:"Recent Products",dashboardLastUpdates:"Last Updates",dashboardSalesAnalitycs:"Sales Analitycs",dashboardTotalSales:"Total Sales",dashboardTotalExpanses:"Total Expanses",dashboardTotalIncome:"Total Income",dashboardSalesCosts:"20.123 PLN",dashboardExpansesCosts:"10.123 PLN",dashboardIncomeCosts:"10.000 PLN"}];var ey=F(4986);function Hd(){return(0,pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,fr.x)(e,o=>{const c=t;t=o,r&&e.next([c,o]),r=!0}))})}function VD(n,e=pa.y){return n=n??Rt,(0,pr.e)((t,r)=>{let o,c=!0;t.subscribe((0,fr.x)(r,d=>{const g=e(d);(c||!n(o,g))&&(c=!1,o=g,r.next(d))}))})}function Rt(n,e){return n===e}F(5881);var wt,UD=F(3942),BD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Si={},Xl=Xl||{},jt=BD||self;function qn(){}function ty(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function eu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ny="closure_uid_"+(1e9*Math.random()>>>0),kw=0;function Pw(n,e,t){return n.call.apply(n.bind,arguments)}function Rw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ti(n,e,t){return(ti=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pw:Rw).apply(null,arguments)}function Op(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ni(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,c){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[o].apply(r,d)}}function Oa(){this.s=this.s,this.o=this.o}var jD={};Oa.prototype.s=!1,Oa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Ow(n){return Object.prototype.hasOwnProperty.call(n,ny)&&n[ny]||(n[ny]=++kw)}(this);delete jD[n]}},Oa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ry(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Wd(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ty(r)){const o=n.length||0,c=r.length||0;n.length=o+c;for(let d=0;d<c;d++)n[o+d]=r[d]}else n.push(r)}}function ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ri.prototype.h=function(){this.defaultPrevented=!0};var Fw=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",qn,e),jt.removeEventListener("test",qn,e)}catch{}return n}();function Zd(n){return/^[\s\xa0]*$/.test(n)}var Lw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Nc(n,e){return n<e?-1:n>e?1:0}function ka(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function us(n){return-1!=ka().indexOf(n)}function iy(n){return iy[" "](n),n}iy[" "]=qn;var cy,n,Vw=us("Opera"),Fc=us("Trident")||us("MSIE"),oy=us("Edge"),sy=oy||Fc,ay=us("Gecko")&&!(-1!=ka().toLowerCase().indexOf("webkit")&&!us("Edge"))&&!(us("Trident")||us("MSIE"))&&!us("Edge"),zD=-1!=ka().toLowerCase().indexOf("webkit")&&!us("Edge");function Uw(){var n=jt.document;return n?n.documentMode:void 0}e:{var Bw="",jw=(n=ka(),ay?/rv:([^\);]+)(\)|;)/.exec(n):oy?/Edge\/([\d\.]+)/.exec(n):Fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zD?/WebKit\/(\S+)/.exec(n):Vw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(jw&&(Bw=jw?jw[1]:""),Fc){var $w=Uw();if(null!=$w&&$w>parseFloat(Bw)){cy=String($w);break e}}cy=Bw}var zw={};var Gw=jt.document&&Fc&&(Uw()||parseInt(cy,10))||void 0;function Ws(n,e){if(ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ay){e:{try{iy(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:HD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ws.X.h.call(this)}}ni(Ws,ri);var HD={2:"touch",3:"pen",4:"mouse"};Ws.prototype.h=function(){Ws.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qd="closure_listenable_"+(1e6*Math.random()|0),GD=0;function WD(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++GD,this.ba=this.ea=!1}function Pp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Rp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ww(n){const e={};for(const t in n)e[t]=n[t];return e}const Zw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tu(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<Zw.length;c++)t=Zw[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Np(n){this.src=n,this.g={},this.h=0}function Fp(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=Nw(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(Pp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uy(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==r)return o}return-1}Np.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=uy(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new WD(e,this.src,c,!!r,o)).ea=t,n.push(e)),e};var Lp="closure_lm_"+(1e6*Math.random()|0),dy={};function hy(n,e,t,r,o){if(r&&r.once)return Kw(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)hy(n,e[c],t,r,o);return null}return t=my(t),n&&n[qd]?n.N(e,t,eu(r)?!!r.capture:!!r,o):qw(n,e,t,!1,r,o)}function qw(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var d=eu(o)?!!o.capture:!!o,g=gy(n);if(g||(n[Lp]=g=new Np(n)),(t=g.add(e,t,r,d,c)).proxy)return t;if(r=function fy(){const e=ZD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Fw||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Yw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Kw(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Kw(n,e[c],t,r,o);return null}return t=my(t),n&&n[qd]?n.O(e,t,eu(r)?!!r.capture:!!r,o):qw(n,e,t,!0,r,o)}function py(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)py(n,e[c],t,r,o);else r=eu(r)?!!r.capture:!!r,t=my(t),n&&n[qd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uy(c=n.g[e],t,r,o))&&(Pp(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=gy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uy(e,t,r,o)),(t=-1<n?e[n]:null)&&Vp(t))}function Vp(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[qd])Fp(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Yw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=gy(e))?(Fp(t,n),0==t.h&&(t.src=null,e[Lp]=null)):Pp(n)}}}function Yw(n){return n in dy?dy[n]:dy[n]="on"+n}function ZD(n,e){if(n.ba)n=!0;else{e=new Ws(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Vp(n),n=t.call(r,e)}return n}function gy(n){return(n=n[Lp])instanceof Np?n:null}var Kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function my(n){return"function"==typeof n?n:(n[Kd]||(n[Kd]=function(e){return n.handleEvent(e)}),n[Kd])}function Vr(){Oa.call(this),this.i=new Np(this),this.P=this,this.I=null}function ii(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ri(e,n);else if(e instanceof ri)e.target=e.target||n;else{var o=e;tu(e=new ri(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];o=Up(d,r,!0,e)&&o}if(o=Up(d=e.g=n,r,!0,e)&&o,o=Up(d,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=Up(d=e.g=t[c],r,!1,e)&&o}function Up(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.ba&&d.capture==t){var g=d.listener,y=d.ha||d.src;d.ea&&Fp(n.i,d),o=!1!==g.call(y,r)&&o}}return o&&!r.defaultPrevented}ni(Vr,Oa),Vr.prototype[qd]=!0,Vr.prototype.removeEventListener=function(n,e,t,r){py(this,n,e,t,r)},Vr.prototype.M=function(){if(Vr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Pp(t[r]);delete n.g[e],n.h--}}this.I=null},Vr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _y=jt.JSON.stringify;function qD(){var n=by;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Bp,Qw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new YD,n=>n.reset());class YD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function QD(n){jt.setTimeout(()=>{throw n},0)}function yy(n,e){Bp||function JD(){var n=jt.Promise.resolve(void 0);Bp=function(){n.then(XD)}}(),vy||(Bp(),vy=!0),by.add(n,e)}var vy=!1,by=new class KD{constructor(){this.h=this.g=null}add(e,t){const r=Qw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function XD(){for(var n;n=qD();){try{n.h.call(n.g)}catch(t){QD(t)}var e=Qw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vy=!1}function jp(n,e){Vr.call(this),this.h=n||1,this.g=e||jt,this.j=ti(this.lb,this),this.l=Date.now()}function wy(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Yd(n,e,t){if("function"==typeof n)t&&(n=ti(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ti(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function $p(n){n.g=Yd(()=>{n.g=null,n.i&&(n.i=!1,$p(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ni(jp,Vr),(wt=jp.prototype).ca=!1,wt.R=null,wt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ii(this,"tick"),this.ca&&(wy(this),this.start()))}},wt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.M=function(){jp.X.M.call(this),wy(this),delete this.g};class Jw extends Oa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$p(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lc(n){Oa.call(this),this.h=n,this.g={}}ni(Lc,Oa);var Xw=[];function eC(n,e,t,r){Array.isArray(t)||(t&&(Xw[0]=t.toString()),t=Xw);for(var o=0;o<t.length;o++){var c=hy(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function zp(n){Rp(n.g,function(e,t){this.g.hasOwnProperty(t)&&Vp(e)},n),n.g={}}function Hp(){this.g=!0}function Vc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function RS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<o.length;d++)o[d]=""}}}return _y(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Lc.prototype.M=function(){Lc.X.M.call(this),zp(this)},Lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hp.prototype.Aa=function(){this.g=!1},Hp.prototype.info=function(){};var Pa={},Gp=null;function Wp(){return Gp=Gp||new Vr}function Zp(n){ri.call(this,Pa.Pa,n)}function Qd(n){const e=Wp();ii(e,new Zp(e,n))}function Cy(n,e){ri.call(this,Pa.STAT_EVENT,n),this.stat=e}function oi(n){const e=Wp();ii(e,new Cy(e,n))}function Ey(n,e){ri.call(this,Pa.Qa,n),this.size=e}function ru(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}Pa.Pa="serverreachability",ni(Zp,ri),Pa.STAT_EVENT="statevent",ni(Cy,ri),Pa.Qa="timingevent",ni(Ey,ri);var Jd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Iy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Dy(){}function rC(){}Dy.prototype.h=null;var Kp,Xd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function qp(){ri.call(this,"d")}function iC(){ri.call(this,"c")}function Yp(){}function eh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Lc(this),this.O=NS,this.T=new jp(n=sy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tx}function tx(){this.i=null,this.g="",this.h=!1}ni(qp,ri),ni(iC,ri),ni(Yp,Dy),Yp.prototype.g=function(){return new XMLHttpRequest},Yp.prototype.i=function(){return{}},Kp=new Yp;var NS=45e3,xy={},Qp={};function Ty(n,e,t){n.K=1,n.v=eg(Zs(e)),n.s=t,n.P=!0,oC(n,null)}function oC(n,e){n.F=Date.now(),th(n),n.A=Zs(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),ah(t.i,"t",r),n.C=0,t=n.l.H,n.h=new tx,n.g=zy(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Jw(ti(n.La,n,n.g),n.N)),eC(n.S,n.g,"readystatechange",n.ib),e=n.H?Ww(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Qd(1),function tC(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var d="",g=c.split("&"),y=0;y<g.length;y++){var E=g[y].split("=");if(1<E.length){var x=E[0];E=E[1];var S=x.split("_");d=2<=S.length&&"type"==S[1]?d+(x+"=")+E+"&":d+(x+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function sC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function aC(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=nx(n,t),o==Qp){4==e&&(n.o=4,oi(14),r=!1),Vc(n.j,n.m,null,"[Incomplete Response]");break}if(o==xy){n.o=4,oi(15),Vc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Vc(n.j,n.m,o,null),Bc(n,o)}sC(n)&&o!=Qp&&o!=xy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,oi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),lu(e),e.K=!0,oi(11))):(Vc(n.j,n.m,t,"[Invalid Chunked Response]"),Uc(n),nh(n))}function nx(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Qp:(t=Number(e.substring(t,r)),isNaN(t)?xy:(r+=1)+t>e.length?Qp:(e=e.substr(r,t),n.C=r+t,e))}function th(n){n.V=Date.now()+n.O,cC(n,n.O)}function cC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ru(ti(n.gb,n),e)}function Jp(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function nh(n){0==n.l.G||n.I||$y(n.l,n)}function Uc(n){Jp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wy(n.T),zp(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Bc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ny(t.h,n)))if(!n.J&&Ny(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;jy(t),cu(t)}dg(t),oi(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=ru(ti(t.cb,t),6e3));if(1>=gC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Na(t,11)}else if((n.J||t.g==n)&&jy(t),!Zd(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let E=o[e];if(t.T=E[0],E=E[1],2==t.G)if("c"==E[0]){t.I=E[1],t.ka=E[2];const x=E[3];null!=x&&(t.ma=x,t.j.info("VER="+t.ma));const S=E[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const z=E[5];null!=z&&"number"==typeof z&&0<z&&(t.J=r=1.5*z,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Y=n.g;if(Y){const se=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var c=r.h;c.g||-1==se.indexOf("spdy")&&-1==se.indexOf("quic")&&-1==se.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(mC(c,c.h),c.h=null))}if(r.D){const Ne=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(r.za=Ne,tr(r.F,r.D,Ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=xC(r,r.H?r.ka:null,r.V),d.J){ng(r.h,d);var g=d,y=r.J;y&&g.setTimeout(y),g.B&&(Jp(g),th(g)),r.g=d}else By(r);0<t.i.length&&uh(t)}else"stop"!=E[0]&&"close"!=E[0]||Na(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Na(t,7):Uy(t):"noop"!=E[0]&&t.l&&t.l.wa(E),t.A=0)}Qd(4)}catch{}}function My(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ty(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function uC(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ty(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function lC(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ty(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}(wt=eh.prototype).setTimeout=function(n){this.O=n},wt.ib=function(n){n=n.target;const e=this.L;e&&3==Ys(n)?e.l():this.La(n)},wt.La=function(n){try{if(n==this.g)e:{const x=Ys(this.g);var e=this.g.Ea();const S=this.g.aa();if(!(3>x)&&(3!=x||sy||this.g&&(this.h.h||this.g.fa()||cx(this.g)))){this.I||4!=x||7==e||Qd(8==e||0>=S?3:2),Jp(this);var t=this.g.aa();this.Y=t;t:if(sC(this)){var r=cx(this.g);n="";var o=r.length,c=4==Ys(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uc(this),nh(this);var d="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function nu(n,e,t,r,o,c,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.U,x,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zd(g)){var E=g;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,oi(12),Uc(this),nh(this);break e}Vc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bc(this,t)}this.P?(aC(this,x,d),sy&&this.i&&3==x&&(eC(this.S,this.T,"tick",this.hb),this.T.start())):(Vc(this.j,this.m,d,null),Bc(this,d)),4==x&&Uc(this),this.i&&!this.I&&(4==x?$y(this.l,this):(this.i=!1,th(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,oi(12)):(this.o=0,oi(13)),Uc(this),nh(this)}}}catch{}},wt.hb=function(){if(this.g){var n=Ys(this.g),e=this.g.fa();this.C<e.length&&(Jp(this),aC(this,n,e),this.i&&4!=n&&th(this))}},wt.cancel=function(){this.I=!0,Uc(this)},wt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function ex(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qd(3),oi(17)),Uc(this),this.o=2,nh(this)):cC(this,this.V-n)};var Sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof jc){this.h=void 0!==e?e:n.h,Ay(this,n.j),this.s=n.s,this.g=n.g,Xp(this,n.m),this.l=n.l,e=n.i;var t=new oh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),hC(this,t),this.o=n.o}else n&&(t=String(n).match(Sy))?(this.h=!!e,Ay(this,t[1]||"",!0),this.s=rh(t[2]||""),this.g=rh(t[3]||"",!0),Xp(this,t[4]),this.l=rh(t[5]||"",!0),hC(this,t[6]||"",!0),this.o=rh(t[7]||"")):(this.h=!!e,this.i=new oh(null,this.h))}function Zs(n){return new jc(n)}function Ay(n,e,t){n.j=t?rh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function hC(n,e,t){e instanceof oh?(n.i=e,function ox(n,e){e&&!n.j&&(Ra(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(fC(this,r),ah(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=qs(e,Oy)),n.i=new oh(e,n.h))}function tr(n,e,t){n.i.set(e,t)}function eg(n){return tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qs(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qs(e,tg,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qs(e,tg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(qs(t,"/"==t.charAt(0)?ix:ds,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qs(t,ih)),n.join("")};var tg=/[#\/\?@]/g,ds=/[#\?:]/g,ix=/[#\?]/g,Oy=/[#\?@]/g,ih=/#/g;function oh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ra(n){n.g||(n.g=new Map,n.h=0,n.i&&function dC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fC(n,e){Ra(n),e=iu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sh(n,e){return Ra(n),e=iu(n,e),n.g.has(e)}function ah(n,e,t){fC(n,e),0<t.length&&(n.i=null,n.g.set(iu(n,e),ry(t)),n.h+=t.length)}function iu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ky(n){this.l=n||Py,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=oh.prototype).add=function(n,e){Ra(this),this.i=null,n=iu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},wt.forEach=function(n,e){Ra(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},wt.oa=function(){Ra(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let c=0;c<o.length;c++)t.push(e[r])}return t},wt.W=function(n){Ra(this);let e=[];if("string"==typeof n)sh(this,n)&&(e=e.concat(this.g.get(iu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},wt.set=function(n,e){return Ra(this),this.i=null,sh(this,n=iu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},wt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=c;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var Py=10;function Ry(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gC(n){return n.h?1:n.g?n.g.size:0}function Ny(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function mC(n,e){n.g?n.g.add(e):n.h=e}function ng(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function rg(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ry(n.i)}function ig(){}function Fy(){this.g=new ig}function Ly(n,e,t){const r=t||"";try{My(n,function(o,c){let d=o;eu(o)&&(d=_y(o)),e.push(r+c+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function og(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function ch(n){this.l=n.ac||null,this.j=n.jb||!1}function sg(n,e){Vr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ag,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ky.prototype.cancel=function(){if(this.i=rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ig.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},ig.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},ni(ch,Dy),ch.prototype.g=function(){return new sg(this.l,this.j)},ch.prototype.i=function(n){return function(){return n}}({}),ni(sg,Vr);var ag=0;function cg(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ou(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lh(n)}function lh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=sg.prototype).open=function(n,e){if(this.readyState!=ag)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lh(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ou(this)),this.readyState=ag},wt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lh(this)),this.g&&(this.readyState=3,lh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cg(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},wt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ou(this):lh(this),3==this.readyState&&cg(this)}},wt.Va=function(n){this.g&&(this.response=this.responseText=n,ou(this))},wt.Ua=function(n){this.g&&(this.response=n,ou(this))},wt.ga=function(){this.g&&ou(this)},wt.setRequestHeader=function(n,e){this.v.append(n,e)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _C=jt.JSON.parse;function cr(n){Vr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yC,this.K=this.L=!1}ni(cr,Vr);var yC="",vC=/^https?$/i,bC=["POST","PUT"];function Vy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wC(n),Ks(n)}function wC(n){n.D||(n.D=!0,ii(n,"complete"),ii(n,"error"))}function fi(n){if(n.h&&typeof Xl<"u"&&(!n.C[1]||4!=Ys(n)||2!=n.aa()))if(n.v&&4==Ys(n))Yd(n.Ha,0,n);else if(ii(n,"readystatechange"),4==Ys(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(Sy)[1]||null;if(!o&&jt.self&&jt.self.location){var c=jt.self.location.protocol;o=c.substr(0,c.length-1)}r=!vC.test(o?o.toLowerCase():"")}t=r}if(t)ii(n,"complete"),ii(n,"success");else{n.m=6;try{var d=2<Ys(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",wC(n)}}finally{Ks(n)}}}function Ks(n,e){if(n.g){CC(n);const t=n.g,r=n.C[0]?qn:null;n.g=null,n.C=null,e||ii(n,"ready");try{t.onreadystatechange=r}catch{}}}function CC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Ys(n){return n.g?n.g.readyState:0}function cx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case yC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function lx(n){let e="";return Rp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function lg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=lx(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):tr(n,e,t))}function su(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function au(n){this.Ca=0,this.i=[],this.j=new Hp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=su("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=su("baseRetryDelayMs",5e3,n),this.bb=su("retryDelaySeedMs",1e4,n),this.$a=su("forwardChannelMaxRetries",2,n),this.ta=su("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new ky(n&&n.concurrentRequestLimit),this.Fa=new Fy,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Uy(n){if(EC(n),3==n.G){var e=n.U++,t=Zs(n.F);tr(t,"SID",n.I),tr(t,"RID",e),tr(t,"TYPE","terminate"),dh(n,t),(e=new eh(n,n.j,e,void 0)).K=2,e.v=eg(Zs(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=zy(e.l,null),e.g.da(e.v)),e.F=Date.now(),th(e)}$c(n)}function cu(n){n.g&&(lu(n),n.g.cancel(),n.g=null)}function EC(n){cu(n),n.u&&(jt.clearTimeout(n.u),n.u=null),jy(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function uh(n){Ry(n.h)||n.m||(n.m=!0,yy(n.Ja,n),n.C=0)}function IC(n,e){var t;t=e?e.m:n.U++;const r=Zs(n.F);tr(r,"SID",n.I),tr(r,"RID",t),tr(r,"AID",n.T),dh(n,r),n.o&&n.s&&lg(r,n.o,n.s),t=new eh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=ug(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),mC(n.h,t),Ty(t,r,e)}function dh(n,e){n.ia&&Rp(n.ia,function(t,r){tr(e,r,t)}),n.l&&My({},function(t,r){tr(e,r,t)})}function ug(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ti(n.l.Ra,n.l,n):null;e:{var o=n.i;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=o[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let g=!0;for(let y=0;y<t;y++){let E=o[y].h;const x=o[y].g;if(E-=c,0>E)c=Math.max(0,o[y].h-100),g=!1;else try{Ly(x,d,"req"+E+"_")}catch{r&&r(x)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function By(n){n.g||n.u||(n.Z=1,yy(n.Ia,n),n.A=0)}function dg(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=ru(ti(n.Ia,n),DC(n,n.A)),n.A++,0))}function lu(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function hg(n){n.g=new eh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Zs(n.sa);tr(e,"RID","rpc"),tr(e,"SID",n.I),tr(e,"CI",n.L?"0":"1"),tr(e,"AID",n.T),tr(e,"TYPE","xmlhttp"),dh(n,e),n.o&&n.s&&lg(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=eg(Zs(e)),t.s=null,t.P=!0,oC(t,n)}function jy(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function $y(n,e){var t=null;if(n.g==e){jy(n),lu(n),n.g=null;var r=2}else{if(!Ny(n.h,e))return;t=e.D,ng(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ii(r=Wp(),new Ey(r,t,e,o)),uh(n)}else By(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function ux(n,e){return!(gC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=ru(ti(n.Ja,n,e),DC(n,n.C)),n.C++,0)))}(n,e)||2==r&&dg(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:Na(n,5);break;case 4:Na(n,10);break;case 3:Na(n,6);break;default:Na(n,2)}}function DC(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Na(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ti(n.kb,n);t||(t=new jc("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Ay(t,"https"),eg(t)),function sx(n,e){const t=new Hp;if(jt.Image){const r=new Image;r.onload=Op(og,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Op(og,t,r,"TestLoadImage: error",!1,e),r.onabort=Op(og,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Op(og,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else oi(2);n.G=0,n.l&&n.l.va(e),$c(n),EC(n)}function $c(n){if(n.G=0,n.la=[],n.l){const e=rg(n.h);(0!=e.length||0!=n.i.length)&&(Wd(n.la,e),Wd(n.la,n.i),n.h.i.length=0,ry(n.i),n.i.length=0),n.l.ua()}}function xC(n,e,t){var r=t instanceof jc?Zs(t):new jc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Xp(r,r.m);else{var o=jt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var c=new jc(null,void 0);r&&Ay(c,r),e&&(c.g=e),o&&Xp(c,o),t&&(c.l=t),r=c}return e=n.za,(t=n.D)&&e&&tr(r,t,e),tr(r,"VER",n.ma),dh(n,r),r}function zy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(t&&n.Da&&!n.ra?new ch({jb:!0}):n.ra)).Ka(n.H),e}function fg(){}function Hy(){if(Fc&&!(10<=Number(Gw)))throw Error("Environmental error: no available transport.")}function Hi(n,e){Vr.call(this),this.g=new au(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Zd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zd(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new uu(this)}function dx(n){qp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function TC(){iC.call(this),this.status=1}function uu(n){this.g=n}(wt=cr.prototype).Ka=function(n){this.L=n},wt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kp.g(),this.C=function nC(n){return n.h||(n.h=n.i())}(this.u?this.u:Kp),this.g.onreadystatechange=ti(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void Vy(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),o=jt.FormData&&n instanceof jt.FormData,!(0<=Nw(bC,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of t)this.g.setRequestHeader(c,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{CC(this),0<this.B&&((this.K=function ax(n){return Fc&&function kp(){return function $D(n){var e=zw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Lw(String(cy)).split("."),t=Lw("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",c=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=Nc(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||Nc(0==o[2].length,0==c[2].length)||Nc(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ti(this.qa,this)):this.A=Yd(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Vy(this,c)}},wt.qa=function(){typeof Xl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ii(this,"complete"),ii(this,"abort"),Ks(this))},wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ks(this,!0)),cr.X.M.call(this)},wt.Ha=function(){this.s||(this.F||this.v||this.l?fi(this):this.fb())},wt.fb=function(){fi(this)},wt.aa=function(){try{return 2<Ys(this)?this.g.status:-1}catch{return-1}},wt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_C(e)}},wt.Ea=function(){return this.m},wt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=au.prototype).ma=8,wt.G=1,wt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new eh(this,this.j,n,void 0);let c=this.s;if(this.S&&(c?(c=Ww(c),tu(c,this.S)):c=this.S),null!==this.o||this.N||(o.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ug(this,o,e),tr(t=Zs(this.F),"RID",n),tr(t,"CVER",22),this.D&&tr(t,"X-HTTP-Session-Id",this.D),dh(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(lx(c)))+"&"+e:this.o&&lg(t,this.o,c)),mC(this.h,o),this.Ya&&tr(t,"TYPE","init"),this.O?(tr(t,"$req",e),tr(t,"SID","null"),o.Z=!0,Ty(o,t,null)):Ty(o,t,e),this.G=2}}else 3==this.G&&(n?IC(this,n):0==this.i.length||Ry(this.h)||IC(this))},wt.Ia=function(){if(this.u=null,hg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=ru(ti(this.eb,this),n)}},wt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,oi(10),cu(this),hg(this))},wt.cb=function(){null!=this.v&&(this.v=null,cu(this),dg(this),oi(19))},wt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),oi(2)):(this.j.info("Failed to ping google.com"),oi(1))},(wt=fg.prototype).xa=function(){},wt.wa=function(){},wt.va=function(){},wt.ua=function(){},wt.Ra=function(){},Hy.prototype.g=function(n,e){return new Hi(n,e)},ni(Hi,Vr),Hi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;oi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=xC(n,null,n.V),uh(n)},Hi.prototype.close=function(){Uy(this.g)},Hi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_y(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&uh(e)},Hi.prototype.M=function(){this.g.l=null,delete this.j,Uy(this.g),delete this.g,Hi.X.M.call(this)},ni(dx,qp),ni(TC,iC),ni(uu,fg),uu.prototype.xa=function(){ii(this.g,"a")},uu.prototype.wa=function(n){ii(this.g,new dx(n))},uu.prototype.va=function(n){ii(this.g,new TC(n))},uu.prototype.ua=function(){ii(this.g,"b")},Hy.prototype.createWebChannel=Hy.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,Jd.NO_ERROR=0,Jd.TIMEOUT=8,Jd.HTTP_ERROR=6,Iy.COMPLETE="complete",rC.EventType=Xd,Xd.OPEN="a",Xd.CLOSE="b",Xd.ERROR="c",Xd.MESSAGE="d",Vr.prototype.listen=Vr.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.Oa,cr.prototype.getLastErrorCode=cr.prototype.Ea,cr.prototype.getStatus=cr.prototype.aa,cr.prototype.getResponseJson=cr.prototype.Sa,cr.prototype.getResponseText=cr.prototype.fa,cr.prototype.send=cr.prototype.da,cr.prototype.setWithCredentials=cr.prototype.Ka;var hx=Si.createWebChannelTransport=function(){return new Hy},MC=Si.getStatEventTarget=function(){return Wp()},pg=Si.ErrorCode=Jd,fx=Si.EventType=Iy,SC=Si.Event=Pa,Gy=Si.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},px=Si.FetchXmlHttpFactory=ch,gg=Si.WebChannel=rC,AC=Si.XhrIo=cr;const OC="@firebase/firestore";class Ur{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");let zc="9.12.0";const Qs=new Ia.Yd("@firebase/firestore");function mg(){return Qs.logLevel}function Ze(n,...e){if(Qs.logLevel<=Ia.in.DEBUG){const t=e.map(kC);Qs.debug(`Firestore (${zc}): ${n}`,...t)}}function Mr(n,...e){if(Qs.logLevel<=Ia.in.ERROR){const t=e.map(kC);Qs.error(`Firestore (${zc}): ${n}`,...t)}}function Fa(n,...e){if(Qs.logLevel<=Ia.in.WARN){const t=e.map(kC);Qs.warn(`Firestore (${zc}): ${n}`,...t)}}function kC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: `+n;throw Mr(e),new Error(e)}function Ut(n,e){n||_t()}function it(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ur.UNAUTHENTICATED))}shutdown(){}}class PC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _g{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=E=>this.i!==o?(o=this.i,t(E)):Promise.resolve();let d=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Kr,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const E=d;e.enqueueRetryable((0,Te.Z)(function*(){yield E.promise,yield c(r.currentUser)}))},y=E=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Kr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut("string"==typeof r.accessToken),new hh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new Ur(e)}}class RC{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class NC{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new RC(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wy{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=c=>{null!=c.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.A;return this.A=c.token,Ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?o(c):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.A=t.token,new mx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Zy{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=yx(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function qt(n,e){return n<e?-1:n>e?1:0}function fh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function FC(n){return n+"\0"}class nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new nr(0,0))}static max(){return new Pt(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ph{constructor(e,t,r){void 0===t?t=0:t>e.length&&_t(),void 0===r?r=e.length-t:r>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ph.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ph?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),d=t.get(o);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vn extends ph{construct(e,t,r){return new vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new vn(t)}static emptyPath(){return new vn([])}}const VS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends ph{construct(e,t,r){return new wr(e,t,r)}static isValidIdentifier(e){return VS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new $e(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new $e(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new $e(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new $e(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(vn.fromString(e))}static fromName(e){return new rt(vn.fromString(e).popFirst(5))}static empty(){return new rt(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new vn(e.slice()))}}class yg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function qy(n){return n.fields.find(e=>2===e.kind)}function du(n){return n.fields.filter(e=>2!==e.kind)}yg.UNKNOWN_ID=-1;class gh{constructor(e,t){this.fieldPath=e,this.kind=t}}class vg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vg(0,vi.min())}}function lo(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pt.fromTimestamp(1e9===r?new nr(t+1,0):new nr(t,r));return new vi(o,rt.empty(),e)}function VC(n){return new vi(n.readTime,n.key,-1)}class vi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vi(Pt.min(),rt.empty(),-1)}static max(){return new vi(Pt.max(),rt.empty(),-1)}}function Ky(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}const Gi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hs(n){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,Te.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==Gi)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),Yy.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&t()},y=>r(y))}),d=!0,c===o&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(o=>o?ue.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const E=y;t(e[E]).next(x=>{d[E]=x,++g,g===c&&r(d)},x=>o(x))}})}static doWhile(e,t){return new ue((r,o)=>{const c=()=>{!0===e()?t().next(()=>{c()},o):r()};c()})}}class hu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Kr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new mh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=Jy(r.target.error);this.P.reject(new mh(e,o))}}static open(e,t,r,o){try{return new hu(t,e.transaction(o,r))}catch(c){throw new mh(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jC(t)}}class uo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===uo.D((0,mn.z$)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),Hc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,mn.hl)())return!1;if(uo.N())return!0;const e=(0,mn.z$)(),t=uo.D(e),r=0<t&&t<10,o=uo.k(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Te.Z)(function*(){return t.db||(Ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{o(new mh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const g=d.target.error;o("VersionError"===g.name?new $e(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new $e(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new mh(e,g))},c.onupgradeneeded=d=>{Ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,c.transaction,d.oldVersion,t.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,Te.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{c.db=yield c.F(e);const y=hu.open(c.db,e,d?"readonly":"readwrite",r),E=o(y).next(x=>(y.V(),x)).catch(x=>(y.abort(x),ue.reject(x))).toPromise();return E.catch(()=>{}),yield y.v,E}catch(y){const E=y,x="FirebaseError"!==E.name&&g<3;if(Ze("SimpleDb","Transaction failed with error:",E.message,"Retrying:",x),c.close(),!x)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class BC{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Hc(this.U.delete())}}class mh extends $e{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Js(n){return"IndexedDbTransactionError"===n.name}class jC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hc(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),Hc(this.store.add(e))}get(e){return Hc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),Hc(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),Hc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.H(o,(d,g)=>{c.push(g)}).next(()=>c)}{const o=this.store.getAll(r.range);return new ue((c,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{c(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(c,d,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new ue((r,o)=>{t.onerror=c=>{const d=Jy(c.target.error);o(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}H(e,t){const r=[];return new ue((o,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void o();const y=new BC(g),E=t(g.primaryKey,g.value,y);if(E instanceof ue){const x=E.catch(S=>(y.done(),ue.reject(S)));r.push(x)}y.isDone?o():null===y.G?g.continue():g.continue(y.G)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hc(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Jy(r.target.error);t(o)}})}let Qy=!1;function Jy(n){const e=uo.D((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qy||(Qy=!0,setTimeout(()=>{throw r},0)),r}}return n}class Xy{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{Ze("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Js(r)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield hs(r)}yield t.nt(6e4)}))}}class La{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,c=!0;return ue.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ze("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(g=>{o-=g,r.add(d)});c=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,c)).next(g=>(Ze("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,c)=>{const d=VC(c);Ky(d,r)>0&&(r=d)}),new vi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class bi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function bg(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $C(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}bi.at=-1;class Cr{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new Cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wg(this.root,e,this.comparator,!1)}getReverseIterator(){return new wg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wg(this.root,e,this.comparator,!0)}}class wg{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??si.RED,this.left=o??si.EMPTY,this.right=c??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new si(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return si.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,r,o){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zC(this.data.getIterator())}getIteratorFrom(e){return new zC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class zC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gc(n){return n.hasNext()?n.getNext():void 0}class ho{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new ho([])}unionWith(e){let t=new Nn(wr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ho(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Br(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const GC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wc(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=GC.exec(n);if(Ut(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(n.seconds),nanos:rr(n.nanos)}}function rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Va(n){return"string"==typeof n?Br.fromBase64String(n):Br.fromUint8Array(n)}function Cg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ev(n){const e=n.mapValue.fields.__previous_value__;return Cg(e)?ev(e):e}function fu(n){const e=Wc(n.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}class WC{constructor(e,t,r,o,c,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class jo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jo&&e.projectId===this.projectId&&e.database===this.database}}function Ua(n){return null==n}function pu(n){return 0===n&&1/n==-1/0}function ZC(n){return"number"==typeof n&&Number.isInteger(n)&&!pu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_h={nullValue:"NULL_VALUE"};function Zc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cg(n)?4:vh(n)?9007199254740991:10:_t()}function fs(n,e){if(n===e)return!0;const t=Zc(n);if(t!==Zc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fu(n).isEqual(fu(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Wc(r.timestampValue),d=Wc(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Va(n.bytesValue).isEqual(Va(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return rr(r.geoPointValue.latitude)===rr(o.geoPointValue.latitude)&&rr(r.geoPointValue.longitude)===rr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return rr(r.integerValue)===rr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=rr(r.doubleValue),d=rr(o.doubleValue);return c===d?pu(c)===pu(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return fh(n.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:return function(r,o){const c=r.mapValue.fields||{},d=o.mapValue.fields||{};if(bg(c)!==bg(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(void 0===d[g]||!fs(c[g],d[g])))return!1;return!0}(n,e);default:return _t()}var o}function Eg(n,e){return void 0!==(n.values||[]).find(t=>fs(t,e))}function qc(n,e){if(n===e)return 0;const t=Zc(n),r=Zc(e);if(t!==r)return qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=rr(o.integerValue||o.doubleValue),g=rr(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return tv(n.timestampValue,e.timestampValue);case 4:return tv(fu(n),fu(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(o,c){const d=Va(o),g=Va(c);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),g=c.split("/");for(let y=0;y<d.length&&y<g.length;y++){const E=qt(d[y],g[y]);if(0!==E)return E}return qt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=qt(rr(o.latitude),rr(c.latitude));return 0!==d?d:qt(rr(o.longitude),rr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const d=o.values||[],g=c.values||[];for(let y=0;y<d.length&&y<g.length;++y){const E=qc(d[y],g[y]);if(E)return E}return qt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===Xs.mapValue&&c===Xs.mapValue)return 0;if(o===Xs.mapValue)return 1;if(c===Xs.mapValue)return-1;const d=o.fields||{},g=Object.keys(d),y=c.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let x=0;x<g.length&&x<E.length;++x){const S=qt(g[x],E[x]);if(0!==S)return S;const z=qc(d[g[x]],y[E[x]]);if(0!==z)return z}return qt(g.length,E.length)}(n.mapValue,e.mapValue);default:throw _t()}}function tv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=Wc(n),r=Wc(e),o=qt(t.seconds,r.seconds);return 0!==o?o:qt(t.nanos,r.nanos)}function gu(n){return nv(n)}function nv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Wc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Va(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const d of r.values||[])c?c=!1:o+=",",o+=nv(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const g of o)d?d=!1:c+=",",c+=`${g}:${nv(r.fields[g])}`;return c+"}"}(n.mapValue):_t();var e}function Kc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qC(n){return!!n&&"integerValue"in n}function Ig(n){return!!n&&"arrayValue"in n}function bx(n){return!!n&&"nullValue"in n}function wx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rv(n){return!!n&&"mapValue"in n}function yh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cx(n){return"nullValue"in n?_h:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Kc(jo.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function Ex(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Kc(jo.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Xs:_t()}function iv(n,e){const t=qc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Ba(n,e){const t=qc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yh(t)}setAll(e){let t=wr.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,o),r={},o=[],t=g.popLast()}d?r[g.lastSegment()]=yh(d):o.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());rv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];rv(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){wi(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Yr(yh(this.value))}}function Dg(n){const e=[];return wi(n.fields,(t,r)=>{const o=new wr([t]);if(rv(r)){const c=Dg(r.mapValue).fields;if(0===c.length)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new ho(e)}class Fn{constructor(e,t,r,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Fn(e,0,Pt.min(),Pt.min(),Yr.empty(),0)}static newFoundDocument(e,t,r){return new Fn(e,1,t,Pt.min(),r,0)}static newNoDocument(e,t){return new Fn(e,2,t,Pt.min(),Yr.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,Pt.min(),Yr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ix{constructor(e,t=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.ht=null}}function xg(n,e=null,t=[],r=[],o=null,c=null,d=null){return new Ix(n,e,t,r,o,c,d)}function ea(n){const e=it(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+gu(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ua(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gu(r)).join(",")),e.ht=t}return e.ht}function Mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!US(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!fs(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Sg(n.startAt,e.startAt)&&Sg(n.endAt,e.endAt)}function ov(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function sv(n,e){return n.filters.filter(t=>t instanceof ai&&t.field.isEqual(e))}function Dx(n,e,t){let r=_h,o=!0;for(const c of sv(n,e)){let d=_h,g=!0;switch(c.op){case"<":case"<=":d=Cx(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,g=!1;break;case"!=":case"not-in":d=_h}iv({value:r,inclusive:o},{value:d,inclusive:g})<0&&(r=d,o=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];iv({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function av(n,e,t){let r=Xs,o=!0;for(const c of sv(n,e)){let d=Xs,g=!0;switch(c.op){case">=":case">":d=Ex(c.value),g=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,g=!1;break;case"!=":case"not-in":d=Xs}Ba({value:r,inclusive:o},{value:d,inclusive:g})>0&&(r=d,o=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];Ba({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class ai extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new xx(e,t,r):"array-contains"===t?new KC(e,r):"in"===t?new YC(e,r):"not-in"===t?new Sx(e,r):"array-contains-any"===t?new Ax(e,r):new ai(e,t,r)}static lt(e,t,r){return"in"===t?new Tx(e,r):new Mx(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(qc(t,this.value)):null!==t&&Zc(this.value)===Zc(t)&&this.ft(qc(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xx extends ai{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.ft(t)}}class Tx extends ai{constructor(e,t){super(e,"in",t),this.keys=cv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mx extends ai{constructor(e,t){super(e,"not-in",t),this.keys=cv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class KC extends ai{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ig(t)&&Eg(t.arrayValue,this.value)}}class YC extends ai{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eg(this.value.arrayValue,t)}}class Sx extends ai{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eg(this.value.arrayValue,t)}}class Ax extends ai{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Eg(this.value.arrayValue,r))}}class ta{constructor(e,t){this.position=e,this.inclusive=t}}class ja{constructor(e,t="asc"){this.field=e,this.dir=t}}function US(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function lv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(r=c.field.isKeyField()?rt.comparator(rt.fromName(d.referenceValue),t.key):qc(d,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function Sg(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fs(n.position[t],e.position[t]))return!1;return!0}class na{constructor(e,t=null,r=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function QC(n,e,t,r,o,c,d,g){return new na(n,e,t,r,o,c,d,g)}function bh(n){return new na(n)}function Ox(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function uv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function dv(n){for(const e of n.filters)if(e.dt())return e.field;return null}function hv(n){return null!==n.collectionGroup}function wh(n){const e=it(n);if(null===e._t){e._t=[];const t=dv(e),r=uv(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new ja(t)),e._t.push(new ja(wr.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e._t.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ja(wr.keyField(),c))}}}return e._t}function Ai(n){const e=it(n);if(!e.wt)if("F"===e.limitType)e.wt=xg(e.path,e.collectionGroup,wh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of wh(e))t.push(new ja(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new ta(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ta(e.startAt.position,e.startAt.inclusive):null;e.wt=xg(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function fv(n,e,t){return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ag(n,e){return Mg(Ai(n),Ai(e))&&n.limitType===e.limitType}function kx(n){return`${ea(Ai(n))}|lt:${n.limitType}`}function pv(n){return`Query(target=${function Tg(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${gu(r.value)}`;var r}).join(", ")}]`),Ua(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>gu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>gu(t)).join(",")),`Target(${e})`}(Ai(n))}; limitType=${n.limitType})`}function JC(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):rt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,c,d){const g=lv(o,c,d);return o.inclusive?g<=0:g<0}(t.startAt,wh(t),r)||t.endAt&&!function(o,c,d){const g=lv(o,c,d);return o.inclusive?g>=0:g>0}(t.endAt,wh(t),r)));var t,r}function Px(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rx(n){return(e,t)=>{let r=!1;for(const o of wh(n)){const c=BS(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function BS(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(o,c,d){const g=c.data.field(o),y=d.data.field(o);return null!==g&&null!==y?qc(g,y):_t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}function Nx(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function Fx(n){return{integerValue:""+n}}function i(n,e){return ZC(e)?Fx(e):Nx(n,e)}class s{constructor(){this._=void 0}}function a(n,e,t){return n instanceof f?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof _?b(n,e):n instanceof C?I(n,e):function(r,o){const c=h(r,o),d=U(c)+U(r.yt);return qC(c)&&qC(r.yt)?Fx(d):Nx(r.It,d)}(n,e)}function l(n,e,t){return n instanceof _?b(n,e):n instanceof C?I(n,e):t}function h(n,e){return n instanceof M?qC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class f extends s{}class _ extends s{constructor(e){super(),this.elements=e}}function b(n,e){const t=q(e);for(const r of n.elements)t.some(o=>fs(o,r))||t.push(r);return{arrayValue:{values:t}}}class C extends s{constructor(e){super(),this.elements=e}}function I(n,e){let t=q(e);for(const r of n.elements)t=t.filter(o=>!fs(o,r));return{arrayValue:{values:t}}}class M extends s{constructor(e,t){super(),this.It=e,this.yt=t}}function U(n){return rr(n.integerValue||n.doubleValue)}function q(n){return Ig(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ie{constructor(e,t){this.field=e,this.transform=t}}class qe{constructor(e,t){this.version=e,this.transformResults=t}}class He{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new He}static exists(e){return new He(void 0,e)}static updateTime(e){return new He(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lt(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Tt{}function Ve(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ha(n.key,He.none()):new za(n.key,n.data,He.none());{const t=n.data,r=Yr.empty();let o=new Nn(wr.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?r.delete(c):r.set(c,d),o=o.add(c)}return new $o(n.key,r,new ho(o.toArray()),He.none())}}function Lt(n,e,t){n instanceof za?function(r,o,c){const d=r.value.clone(),g=kg(r.fieldTransforms,o,c.transformResults);d.setAll(g),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof $o?function(r,o,c){if(!lt(r.precondition,o))return void o.convertToUnknownDocument(c.version);const d=kg(r.fieldTransforms,o,c.transformResults),g=o.data;g.setAll(Og(r)),g.setAll(d),o.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fn(n,e,t,r){return n instanceof za?function(o,c,d,g){if(!lt(o.precondition,c))return d;const y=o.value.clone(),E=Pg(o.fieldTransforms,g,c);return y.setAll(E),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof $o?function(o,c,d,g){if(!lt(o.precondition,c))return d;const y=Pg(o.fieldTransforms,g,c),E=c.data;return E.setAll(Og(o)),E.setAll(y),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,e,t,r):(d=t,lt(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function ir(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=h(r.transform,o||null);null!=c&&(null===t&&(t=Yr.empty()),t.set(r.field,c))}return t||null}function $a(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&fh(t,r,(o,c)=>function Me(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof _&&r instanceof _||t instanceof C&&r instanceof C?fh(t.elements,r.elements,fs):t instanceof M&&r instanceof M?fs(t.yt,r.yt):t instanceof f&&r instanceof f);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class za extends Tt{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $o extends Tt{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Og(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kg(n,e,t){const r=new Map;Ut(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,l(d,g,t[o]))}return r}function Pg(n,e,t){const r=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);r.set(o.field,a(c,d,e))}return r}class Ha extends Tt{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ch extends Tt{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gv{constructor(e){this.count=e}}var _r,En;function jS(n){switch(n){default:return _t();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function $S(n){if(void 0===n)return Mr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case _r.OK:return ye.OK;case _r.CANCELLED:return ye.CANCELLED;case _r.UNKNOWN:return ye.UNKNOWN;case _r.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case _r.INTERNAL:return ye.INTERNAL;case _r.UNAVAILABLE:return ye.UNAVAILABLE;case _r.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case _r.NOT_FOUND:return ye.NOT_FOUND;case _r.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case _r.ABORTED:return ye.ABORTED;case _r.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case _r.DATA_LOSS:return ye.DATA_LOSS;default:return _t()}}(En=_r||(_r={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class mu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wi(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return $C(this.inner)}size(){return this.innerSize}}const ik=new Cr(rt.comparator);function fo(){return ik}const zS=new Cr(rt.comparator);function mv(...n){let e=zS;for(const t of n)e=e.insert(t.key,t);return e}function HS(n){let e=zS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ga(){return _v()}function GS(){return _v()}function _v(){return new mu(n=>n.toString(),(n,e)=>n.isEqual(e))}const ok=new Cr(rt.comparator),sk=new Nn(rt.comparator);function sn(...n){let e=sk;for(const t of n)e=e.add(t);return e}const ak=new Nn(qt);function XC(){return ak}class yv{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,vv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yv(Pt.min(),o,XC(),fo(),sn())}}class vv{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vv(r,t,sn(),sn(),sn())}}class eE{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class WS{constructor(e,t){this.targetId=e,this.At=t}}class ZS{constructor(e,t,r=Br.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class qS{constructor(){this.Rt=0,this.bt=YS(),this.Pt=Br.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=sn(),t=sn(),r=sn();return this.bt.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:_t()}}),new vv(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=YS()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class ck{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=fo(),this.qt=KS(),this.Kt=new Nn(qt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const c=o.target;if(ov(c))if(0===r){const d=new rt(c.path);this.jt(t,d,Fn.newNoDocument(d,Pt.min()))}else Ut(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((c,d)=>{const g=this.Xt(d);if(g){if(c.current&&ov(g.target)){const y=new rt(g.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Fn.newNoDocument(y,e))}c.Dt&&(t.set(d,c.xt()),c.Nt())}});let r=sn();this.qt.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const E=this.Xt(y);return!E||2===E.purpose||(g=!1,!1)}),g&&(r=r.add(c))}),this.Ut.forEach((c,d)=>d.setReadTime(e));const o=new yv(e,t,this.Kt,this.Ut,r);return this.Ut=fo(),this.qt=KS(),this.Kt=new Nn(qt),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new qS,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Nn(qt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new qS),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function KS(){return new Cr(rt.comparator)}function YS(){return new Cr(rt.comparator)}const lk={asc:"ASCENDING",desc:"DESCENDING"},uk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dk{constructor(e,t){this.databaseId=e,this.gt=t}}function bv(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(n,e){return n.gt?e.toBase64():e.toUint8Array()}function hk(n,e){return bv(n,e.toTimestamp())}function pi(n){return Ut(!!n),Pt.fromTimestamp(function(e){const t=Wc(e);return new nr(t.seconds,t.nanos)}(n))}function Lx(n,e){return(t=n,new vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function JS(n){const e=vn.fromString(n);return Ut(sA(e)),e}function wv(n,e){return Lx(n.databaseId,e.path)}function Wa(n,e){const t=JS(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(eA(t))}function Vx(n,e){return Lx(n.databaseId,e)}function XS(n){const e=JS(n);return 4===e.length?vn.emptyPath():eA(e)}function Cv(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eA(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tA(n,e,t){return{name:wv(n,e),fields:t.value.mapValue.fields}}function nA(n,e,t){const r=Wa(n,e.name),o=pi(e.updateTime),c=new Yr({mapValue:{fields:e.fields}}),d=Fn.newFoundDocument(r,o,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Ev(n,e){let t;if(e instanceof za)t={update:tA(n,e.key,e.value)};else if(e instanceof Ha)t={delete:wv(n,e.key)};else if(e instanceof $o)t={update:tA(n,e.key,e.data),updateMask:wk(e.fieldMask)};else{if(!(e instanceof Ch))return _t();t={verify:wv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof f)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof C)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof M)return{fieldPath:c.field.canonicalString(),increment:d.yt};throw _t()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:hk(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:_t()),t;var o}function Ux(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?He.updateTime(pi(o.updateTime)):void 0!==o.exists?He.exists(o.exists):He.none():He.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,d){let g=null;"setToServerValue"in d?(Ut("REQUEST_TIME"===d.setToServerValue),g=new f):"appendMissingElements"in d?g=new _(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new C(d.removeAllFromArray.values||[]):"increment"in d?g=new M(c,d.increment):_t();const y=wr.fromServerFormat(d.fieldPath);return new ie(y,g)}(n,o)):[];var o;if(e.update){const o=Wa(n,e.update.name),c=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ho((e.updateMask.fieldPaths||[]).map(E=>wr.fromServerFormat(E)));return new $o(o,c,d,t,r)}return new za(o,c,t,r)}if(e.delete){const o=Wa(n,e.delete);return new Ha(o,t)}if(e.verify){const o=Wa(n,e.verify);return new Ch(o,t)}return _t()}function rA(n,e){return{documents:[Vx(n,e.path)]}}function Bx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Vx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0===y.length)return;const E=y.map(x=>function(S){if("=="===S.op){if(wx(S.value))return{unaryFilter:{field:Rg(S.field),op:"IS_NAN"}};if(bx(S.value))return{unaryFilter:{field:Rg(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(wx(S.value))return{unaryFilter:{field:Rg(S.field),op:"IS_NOT_NAN"}};if(bx(S.value))return{unaryFilter:{field:Rg(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rg(S.field),op:yk(S.op),value:S.value}}}(x));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(y){if(0!==y.length)return y.map(E=>{return{field:Rg((x=E).field),direction:_k(x.dir)};var x})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=(E=e.limit,n.gt||Ua(E)?E:{value:E});var E,g,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function iA(n){let e=XS(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ut(1===r);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=oA(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(x=>{return new ja(Ng((S=x).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let g=null;t.limit&&(g=function(x){let S;return S="object"==typeof x?x.value:x,Ua(S)?null:S}(t.limit));let y=null;var x;t.startAt&&(y=new ta((x=t.startAt).values||[],!!x.before));let E=null;return t.endAt&&(E=function(x){return new ta(x.values||[],!x.before)}(t.endAt)),QC(e,o,d,c,g,"F",y,E)}function oA(n){return n?void 0!==n.unaryFilter?[bk(n)]:void 0!==n.fieldFilter?[vk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>oA(e)).reduce((e,t)=>e.concat(t)):_t():[]}function _k(n){return lk[n]}function yk(n){return uk[n]}function Rg(n){return{fieldPath:n.canonicalString()}}function Ng(n){return wr.fromServerFormat(n.fieldPath)}function vk(n){return ai.create(Ng(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}function bk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ng(n.unaryFilter.field);return ai.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ng(n.unaryFilter.field);return ai.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ng(n.unaryFilter.field);return ai.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ng(n.unaryFilter.field);return ai.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function wk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Wi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aA(e)),e=Ck(n.get(t),e);return aA(e)}function Ck(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function aA(n){return n+"\x01\x01"}function Za(n){const e=n.length;if(Ut(e>=2),2===e)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vn.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const d=n.indexOf("\x01",c);switch((d<0||d>t)&&_t(),n.charAt(d+1)){case"\x01":const g=n.substring(c,d);let y;0===o.length?y=g:(o+=g,y=o,o=""),r.push(y);break;case"\x10":o+=n.substring(c,d),o+="\0";break;case"\x11":o+=n.substring(c,d+1);break;default:_t()}c=d+2}return new vn(r)}const cA=["userId","batchId"];function tE(n,e){return[n,Wi(e)]}function lA(n,e,t){return[n,Wi(e),t]}const Ek={},Ik=["prefixPath","collectionGroup","readTime","documentId"],Dk=["prefixPath","collectionGroup","documentId"],xk=["collectionGroup","readTime","prefixPath","documentId"],Tk=["canonicalId","targetId"],Mk=["targetId","path"],Sk=["path","targetId"],Ak=["collectionId","parent"],Ok=["indexId","uid"],kk=["uid","sequenceNumber"],Pk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rk=["indexId","uid","orderedDocumentKey"],Nk=["userId","collectionPath","documentId"],Fk=["userId","collectionPath","largestBatchId"],Lk=["userId","collectionGroup","largestBatchId"],uA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vk=[...uA,"documentOverlays"],dA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hA=dA,Uk=[...hA,"indexConfiguration","indexState","indexEntries"];class jx extends UC{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function gi(n,e){const t=it(n);return uo.M(t.ie,e)}class $x{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Lt(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fn(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fn(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GS();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=t.has(o.key)?null:g;const y=Ve(d,g);null!==y&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Pt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&fh(this.mutations,e.mutations,(t,r)=>$a(t,r))&&fh(this.baseMutations,e.baseMutations,(t,r)=>$a(t,r))}}class zx{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ut(e.mutations.length===r.length);let o=ok;const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new zx(e,t,r,o)}}class Hx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _u{constructor(e,t,r,o,c=Pt.min(),d=Pt.min(),g=Br.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new _u(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class fA{constructor(e){this.re=e}}function pA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:nE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:wv(o=n.re,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:bv(o,c.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Eh(e.version)};else{if(!e.isUnknownDocument())return _t();r.unknownDocument={path:t.path.toArray(),version:Eh(e.version)}}var o,c;return r}function nE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Eh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ih(n){const e=new nr(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function Dh(n,e){const t=(e.baseMutations||[]).map(c=>Ux(n.re,c));for(let c=0;c<e.mutations.length-1;++c){const d=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(d.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>Ux(n.re,c)),o=nr.fromMillis(e.localWriteTimeMs);return new $x(e.batchId,o,t,r)}function Iv(n){const e=Ih(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ih(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var o;return void 0!==n.query.documents?(Ut(1===(o=n.query).documents.length),r=Ai(bh(XS(o.documents[0])))):r=Ai(iA(n.query)),new _u(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Br.fromBase64String(n.resumeToken))}function gA(n,e){const t=Eh(e.snapshotVersion),r=Eh(e.lastLimboFreeSnapshotVersion);let o;o=ov(e.target)?rA(n.re,e.target):Bx(n.re,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ea(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Gx(n){const e=iA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fv(e,e.limit,"L"):e}function Wx(n,e){return new Hx(e.largestBatchId,Ux(n.re,e.overlayMutation))}function mA(n,e){const t=e.path.lastSegment();return[n,Wi(e.path.popLast()),t]}function _A(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Eh(r.readTime),documentKey:Wi(r.documentKey.path),largestBatchId:r.largestBatchId}}class jk{getBundleMetadata(e,t){return yA(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ih(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return yA(e).put({bundleId:(r=t).id,createTime:Eh(pi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return vA(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Gx(o.bundledQuery),readTime:Ih(o.readTime)};var o})}saveNamedQuery(e,t){return vA(e).put({name:(r=t).name,readTime:Eh(pi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function yA(n){return gi(n,"bundles")}function vA(n){return gi(n,"namedQueries")}class rE{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new rE(e,t.uid||"")}getOverlay(e,t){return Dv(e).get(mA(this.userId,t)).next(r=>r?Wx(this.It,r):null)}getOverlays(e,t){const r=Ga();return ue.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((c,d)=>{const g=new Hx(t,d);o.push(this.ue(e,g))}),ue.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Wi(d.getCollectionPath())));const c=[];return o.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(Dv(e).Y("collectionPathOverlayIndex",g))}),ue.waitFor(c)}getOverlaysForCollection(e,t,r){const o=Ga(),c=Wi(t),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Dv(e).W("collectionPathOverlayIndex",d).next(g=>{for(const y of g){const E=Wx(this.It,y);o.set(E.getKey(),E)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const c=Ga();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dv(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,E,x)=>{const S=Wx(this.It,E);c.size()<o||S.largestBatchId===d?(c.set(S.getKey(),S),d=S.largestBatchId):x.done()}).next(()=>c)}ue(e,t){return Dv(e).put(function(r,o,c){const[d,g,y]=mA(o,c.mutation.key);return{userId:o,collectionPath:g,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Ev(r.re,c.mutation)}}(this.It,this.userId,t))}}function Dv(n){return gi(n,"documentOverlays")}class xh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(rr(e.integerValue));else if("doubleValue"in e){const r=rr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),pu(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Va(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?vh(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):_t()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),rt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function $k(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function bA(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const c=$k(255&t[o]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}xh.Te=new xh;class zk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=bA(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=bA(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Hk{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Gk{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class xv{constructor(){this.Be=new zk,this.Le=new Hk(this.Be),this.Ue=new Gk(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Th{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Th(this.indexId,this.documentKey,this.arrayValue,r)}}function Mh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=wA(n.arrayValue,e.arrayValue),0!==t?t:(t=wA(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function wA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Wk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=qy(e);if(void 0!==t&&!this.ze(t))return!1;const r=du(e);let o=0,c=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const d=r[o];if(!this.He(this.je,d)||!this.Je(this.Ge[c++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(c>=this.Ge.length||!this.Je(this.Ge[c++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Zk{constructor(){this.Ye=new Zx}addToCollectionParentIndex(e,t){return this.Ye.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(vi.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Zx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Nn(vn.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Nn(vn.comparator)).toArray()}}const iE=new Uint8Array(0);class qk{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Zx,this.Ze=new mu(r=>ea(r),(r,o)=>Mg(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const c={collectionId:r,parent:Wi(o)};return CA(e).put(c)}return ue.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[FC(t),""],!1,!0);return CA(e).W(o).next(c=>{for(const d of c){if(d.collectionId!==t)break;r.push(Za(d.parent))}return r})}addFieldIndex(e,t){const r=oE(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete o.indexId;const c=r.add(o);if(t.indexState){const d=Mv(e);return c.next(g=>{d.put(_A(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=oE(e),o=Mv(e),c=Tv(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Tv(e);let o=!0;const c=new Map;return ue.forEach(this.tn(t),d=>this.en(e,d).next(g=>{o&&(o=!!g),c.set(d,g)})).next(()=>{if(o){let d=sn();const g=[];return ue.forEach(c,(y,E)=>{var x;Ze("IndexedDbIndexManager",`Using index ${x=y,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Qt=>`${Qt.fieldPath}:${Qt.kind}`).join(",")}`} to execute ${ea(t)}`);const S=function(Qt,Jt){const Kt=qy(Jt);if(void 0===Kt)return null;for(const ln of sv(Qt,Kt.fieldPath))switch(ln.op){case"array-contains-any":return ln.value.arrayValue.values||[];case"array-contains":return[ln.value]}return null}(E,y),z=function(Qt,Jt){const Kt=new Map;for(const ln of du(Jt))for(const ci of sv(Qt,ln.fieldPath))switch(ci.op){case"==":case"in":Kt.set(ln.fieldPath.canonicalString(),ci.value);break;case"not-in":case"!=":return Kt.set(ln.fieldPath.canonicalString(),ci.value),Array.from(Kt.values())}return null}(E,y),Y=function(Qt,Jt){const Kt=[];let ln=!0;for(const ci of du(Jt)){const qv=0===ci.kind?Dx(Qt,ci.fieldPath,Qt.startAt):av(Qt,ci.fieldPath,Qt.startAt);Kt.push(qv.value),ln&&(ln=qv.inclusive)}return new ta(Kt,ln)}(E,y),se=function(Qt,Jt){const Kt=[];let ln=!0;for(const ci of du(Jt)){const qv=0===ci.kind?av(Qt,ci.fieldPath,Qt.endAt):Dx(Qt,ci.fieldPath,Qt.endAt);Kt.push(qv.value),ln&&(ln=qv.inclusive)}return new ta(Kt,ln)}(E,y),Ne=this.nn(y,E,Y),Ue=this.nn(y,E,se),Mt=this.sn(y,E,z),St=this.rn(y.indexId,S,Ne,Y.inclusive,Ue,se.inclusive,Mt);return ue.forEach(St,Qt=>r.J(Qt,t.limit).next(Jt=>{Jt.forEach(Kt=>{const ln=rt.fromSegments(Kt.documentKey);d.has(ln)||(d=d.add(ln),g.push(ln))})}))}).next(()=>g)}return ue.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,c,d,g){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),E=y/(null!=t?t.length:1),x=[];for(let S=0;S<y;++S){const z=t?this.on(t[S/E]):iE,Y=this.un(e,z,r[S%E],o),se=this.cn(e,z,c[S%E],d),Ne=g.map(Ue=>this.un(e,z,Ue,!0));x.push(...this.createRange(Y,se,Ne))}return x}un(e,t,r,o){const c=new Th(e,rt.empty(),t,r);return o?c:c.Ke()}cn(e,t,r,o){const c=new Th(e,rt.empty(),t,r);return o?c.Ke():c}en(e,t){const r=new Wk(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let d=null;for(const g of c)r.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return ue.forEach(this.tn(t),o=>this.en(e,o).next(c=>{c?0!==r&&c.fields.length<function(d){let g=new Nn(wr.comparator),y=!1;for(const E of d.filters){const x=E;x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?y=!0:g=g.add(x.field))}for(const E of d.orderBy)E.field.isKeyField()||(g=g.add(E.field));return g.size+(y?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new xv;for(const o of du(e)){const c=t.data.field(o.fieldPath);if(null==c)return null;const d=r.qe(o.kind);xh.Te.ce(c,d)}return r.$e()}on(e){const t=new xv;return xh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new xv;return xh.Te.ce(Kc(this.databaseId,t),r.qe(function(o){const c=du(o);return 0===c.length?0:c[c.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new xv);let c=0;for(const d of du(e)){const g=r[c++];for(const y of o)if(this.ln(t,d.fieldPath)&&Ig(g))o=this.fn(o,d,g);else{const E=y.qe(d.kind);xh.Te.ce(g,E)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],c=[];for(const d of r.arrayValue.values||[])for(const g of o){const y=new xv;y.seed(g.$e()),xh.Te.ce(d,y.qe(t.kind)),c.push(y)}return c}ln(e,t){return!!e.filters.find(r=>r instanceof ai&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=oE(e),o=Mv(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const d=[];return ue.forEach(c,g=>o.get([g.indexId,this.uid]).next(y=>{d.push(function(E,x){const S=x?new vg(x.sequenceNumber,new vi(Ih(x.readTime),new rt(Za(x.documentKey)),x.largestBatchId)):vg.empty(),z=E.fields.map(([Y,se])=>new gh(wr.fromServerFormat(Y),se));return new yg(E.indexId,E.collectionGroup,z,S)}(g,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const c=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:qt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=oE(e),c=Mv(e);return this._n(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>ue.forEach(g,y=>c.put(_A(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(o,c)=>{const d=r.get(o.collectionGroup);return(d?ue.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),ue.forEach(g,y=>this.wn(e,o,y).next(E=>{const x=this.mn(c,y);return E.isEqual(x)?ue.resolve():this.gn(e,c,y,E,x)}))))})}yn(e,t,r,o){return Tv(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return Tv(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=Tv(e);let c=new Nn(Mh);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,g)=>{c=c.add(new Th(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>c)}mn(e,t){let r=new Nn(Mh);const o=this.an(t,e);if(null==o)return r;const c=qy(t);if(null!=c){const d=e.data.field(c.fieldPath);if(Ig(d))for(const g of d.arrayValue.values||[])r=r.add(new Th(t.indexId,e.key,this.on(g),o))}else r=r.add(new Th(t.indexId,e.key,iE,o));return r}gn(e,t,r,o,c){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,y,E,x,S){const z=g.getIterator(),Y=y.getIterator();let se=Gc(z),Ne=Gc(Y);for(;se||Ne;){let Ue=!1,Mt=!1;if(se&&Ne){const St=E(se,Ne);St<0?Mt=!0:St>0&&(Ue=!0)}else null!=se?Mt=!0:Ue=!0;Ue?(x(Ne),Ne=Gc(Y)):Mt?(S(se),se=Gc(z)):(se=Gc(z),Ne=Gc(Y))}}(o,c,Mh,g=>{d.push(this.yn(e,t,r,g))},g=>{d.push(this.pn(e,t,r,g))}),ue.waitFor(d)}_n(e){let t=1;return Mv(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>Mh(d,g)).filter((d,g,y)=>!g||0!==Mh(d,y[g-1]));const o=[];o.push(e);for(const d of r){const g=Mh(d,e),y=Mh(d,t);if(0===g)o[0]=e.Ke();else if(g>0&&y<0)o.push(d),o.push(d.Ke());else if(y>0)break}o.push(t);const c=[];for(let d=0;d<o.length;d+=2)c.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,iE,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,iE,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(EA)}getMinOffset(e,t){return ue.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||_t())).next(EA)}}function CA(n){return gi(n,"collectionParents")}function Tv(n){return gi(n,"indexEntries")}function oE(n){return gi(n,"indexConfiguration")}function Mv(n){return gi(n,"indexState")}function EA(n){Ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;Ky(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new vi(e.readTime,e.documentKey,t)}const IA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class po{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function DA(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),c=[],d=IDBKeyRange.only(t.batchId);let g=0;const y=r.Z({range:d},(x,S,z)=>(g++,z.delete()));c.push(y.next(()=>{Ut(1===g)}));const E=[];for(const x of t.mutations){const S=lA(e,x.key.path,t.batchId);c.push(o.delete(S)),E.push(x.key)}return ue.waitFor(c).next(()=>E)}function sE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _t();e=n.noDocument}return JSON.stringify(e).length}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class aE{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){Ut(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new aE(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).Z({index:"userMutationsIndex",range:r},(o,c,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=Fg(e),d=yu(e);return d.add({}).next(g=>{Ut("number"==typeof g);const y=new $x(g,t,r,o),E=function(z,Y,se){const Ne=se.baseMutations.map(Mt=>Ev(z.re,Mt)),Ue=se.mutations.map(Mt=>Ev(z.re,Mt));return{userId:Y,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Ne,mutations:Ue}}(this.It,this.userId,y),x=[];let S=new Nn((z,Y)=>qt(z.canonicalString(),Y.canonicalString()));for(const z of o){const Y=lA(this.userId,z.key.path,g);S=S.add(z.key.path.popLast()),x.push(d.put(E)),x.push(c.put(Y,Ek))}return S.forEach(z=>{x.push(this.indexManager.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.In[g]=y.keys()}),ue.waitFor(x).next(()=>y)})}lookupMutationBatch(e,t){return yu(e).get(t).next(r=>r?(Ut(r.userId===this.userId),Dh(this.It,r)):null)}Tn(e,t){return this.In[t]?ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return yu(e).Z({index:"userMutationsIndex",range:o},(d,g,y)=>{g.userId===this.userId&&(Ut(g.batchId>=r),c=Dh(this.It,g)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return yu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).W("userMutationsIndex",t).next(r=>r.map(o=>Dh(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=tE(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return Fg(e).Z({range:o},(d,g,y)=>{const[E,x,S]=d,z=Za(x);if(E===this.userId&&t.path.isEqual(z))return yu(e).get(S).next(Y=>{if(!Y)throw _t();Ut(Y.userId===this.userId),c.push(Dh(this.It,Y))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(qt);const o=[];return t.forEach(c=>{const d=tE(this.userId,c.path),g=IDBKeyRange.lowerBound(d),y=Fg(e).Z({range:g},(E,x,S)=>{const[z,Y,se]=E,Ne=Za(Y);z===this.userId&&c.path.isEqual(Ne)?r=r.add(se):S.done()});o.push(y)}),ue.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=tE(this.userId,r),d=IDBKeyRange.lowerBound(c);let g=new Nn(qt);return Fg(e).Z({range:d},(y,E,x)=>{const[S,z,Y]=y,se=Za(z);S===this.userId&&r.isPrefixOf(se)?se.length===o&&(g=g.add(Y)):x.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],o=[];return t.forEach(c=>{o.push(yu(e).get(c).next(d=>{if(null===d)throw _t();Ut(d.userId===this.userId),r.push(Dh(this.It,d))}))}),ue.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return DA(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ue.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Fg(e).Z({range:r},(c,d,g)=>{if(c[0]===this.userId){const y=Za(c[1]);o.push(y)}else g.done()}).next(()=>{Ut(0===o.length)})})}containsKey(e,t){return xA(e,this.userId,t)}Rn(e){return TA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xA(n,e,t){const r=tE(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return Fg(n).Z({range:c,X:!0},(g,y,E)=>{const[x,S,z]=g;x===e&&S===o&&(d=!0),E.done()}).next(()=>d)}function yu(n){return gi(n,"mutations")}function Fg(n){return gi(n,"documentMutations")}function TA(n){return gi(n,"mutationQueues")}class Sh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Sh(0)}static vn(){return new Sh(-1)}}class Kk{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Sh(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Pt.fromTimestamp(new nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Lg(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ut(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return Lg(e).Z((d,g)=>{const y=Iv(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(o++,c.push(this.removeTargetData(e,y)))}).next(()=>ue.waitFor(c)).next(()=>o)}forEachTarget(e,t){return Lg(e).Z((r,o)=>{const c=Iv(o);t(c)})}Vn(e){return MA(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}Sn(e,t){return MA(e).put("targetGlobalKey",t)}Dn(e,t){return Lg(e).put(gA(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ea(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Lg(e).Z({range:o,index:"queryTargetsIndex"},(d,g,y)=>{const E=Iv(g);Mg(t,E.target)&&(c=E,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=vu(e);return t.forEach(d=>{const g=Wi(d.path);o.push(c.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,d))}),ue.waitFor(o)}removeMatchingKeys(e,t,r){const o=vu(e);return ue.forEach(t,c=>{const d=Wi(c.path);return ue.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=vu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=vu(e);let c=sn();return o.Z({range:r,X:!0},(d,g,y)=>{const E=Za(d[1]),x=new rt(E);c=c.add(x)}).next(()=>c)}containsKey(e,t){const r=Wi(t.path),o=IDBKeyRange.bound([r],[FC(r)],!1,!0);let c=0;return vu(e).Z({index:"documentTargetsIndex",X:!0,range:o},([d,g],y,E)=>{0!==d&&(c++,E.done())}).next(()=>c>0)}se(e,t){return Lg(e).get(t).next(r=>r?Iv(r):null)}}function Lg(n){return gi(n,"targets")}function MA(n){return gi(n,"targetGlobal")}function vu(n){return gi(n,"targetDocuments")}function SA([n,e],[t,r]){const o=qt(n,t);return 0===o?qt(e,r):o}class Yk{constructor(e){this.xn=e,this.buffer=new Nn(SA),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();SA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Js(r)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield hs(r)}yield t.Fn(3e5)}))}}class Jk{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(bi.at);const r=new Yk(t);return this.$n.forEachTarget(e,o=>r.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.On(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(IA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IA):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,c,d,g,y,E;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(r=S,g=Date.now(),this.removeTargets(e,r,t))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(E=Date.now(),mg()<=Ia.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-x}ms\n\tDetermined least recently used ${o} in `+(g-d)+`ms\n\tRemoved ${c} targets in `+(y-g)+`ms\n\tRemoved ${S} documents in `+(E-y)+`ms\nTotal Duration: ${E-x}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}class Xk{constructor(e,t){this.db=e,this.garbageCollector=new Jk(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return cE(e,r)}removeReference(e,t,r){return cE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return cE(e,t)}Gn(e,t){return function(r,o){let c=!1;return TA(r).tt(d=>xA(r,d,o).next(g=>(g&&(c=!0),ue.resolve(!g)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Kn(e,(d,g)=>{if(g<=t){const y=this.Gn(e,d).next(E=>{if(!E)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Pt.min()),vu(e).delete([0,Wi(d.path)])))});o.push(y)}}).next(()=>ue.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return cE(e,t)}Kn(e,t){const r=vu(e);let o,c=bi.at;return r.Z({index:"documentTargetsIndex"},([d,g],{path:y,sequenceNumber:E})=>{0===d?(c!==bi.at&&t(new rt(Za(o)),c),c=E,o=y):c=bi.at}).next(()=>{c!==bi.at&&t(new rt(Za(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cE(n,e){return vu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Wi(e.path),sequenceNumber:r}));var r}class AA{constructor(){this.changes=new mu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eP{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ah(e).put(r)}removeEntry(e,t,r){return Ah(e).delete(function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],nE(c),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Fn.newInvalidDocument(t);return Ah(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sv(t))},(o,c)=>{r=this.jn(t,c)}).next(()=>r)}Wn(e,t){let r={size:0,document:Fn.newInvalidDocument(t)};return Ah(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sv(t))},(o,c)=>{r={document:this.jn(t,c),size:sE(c)}}).next(()=>r)}getEntries(e,t){let r=fo();return this.zn(e,t,(o,c)=>{const d=this.jn(o,c);r=r.insert(o,d)}).next(()=>r)}Hn(e,t){let r=fo(),o=new Cr(rt.comparator);return this.zn(e,t,(c,d)=>{const g=this.jn(c,d);r=r.insert(c,g),o=o.insert(c,sE(d))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return ue.resolve();let o=new Nn(RA);t.forEach(y=>o=o.add(y));const c=IDBKeyRange.bound(Sv(o.first()),Sv(o.last())),d=o.getIterator();let g=d.getNext();return Ah(e).Z({index:"documentKeyIndex",range:c},(y,E,x)=>{const S=rt.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;g&&RA(g,S)<0;)r(g,null),g=d.getNext();g&&g.isEqual(S)&&(r(g,E),g=d.hasNext()?d.getNext():null),g?x.j(Sv(g)):x.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),nE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ah(e).W(IDBKeyRange.bound(o,c,!0)).next(d=>{let g=fo();for(const y of d){const E=this.jn(rt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(E.key,E)}return g})}getAllFromCollectionGroup(e,t,r,o){let c=fo();const d=PA(t,r),g=PA(t,vi.max());return Ah(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(y,E,x)=>{const S=this.jn(rt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);c=c.insert(S.key,S),c.size===o&&x.done()}).next(()=>c)}newChangeBuffer(e){return new tP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kA(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}Qn(e,t){return kA(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function Bk(n,e){let t;if(e.document)t=nA(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=rt.fromSegments(e.noDocument.path),o=Ih(e.noDocument.readTime);t=Fn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const r=rt.fromSegments(e.unknownDocument.path),o=Ih(e.unknownDocument.version);t=Fn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new nr(r[0],r[1]);return Pt.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return Fn.newInvalidDocument(e)}}function OA(n){return new eP(n)}class tP extends AA{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new mu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Nn((c,d)=>qt(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const g=this.Xn.get(c);if(t.push(this.Yn.removeEntry(e,c,g.readTime)),d.isValidDocument()){const y=pA(this.Yn.It,d);o=o.add(c.path.popLast()),r+=sE(y)-g.size,t.push(this.Yn.addEntry(e,c,y))}else if(r-=g.size,this.trackRemovals){const y=pA(this.Yn.It,d.convertToNoDocument(Pt.min()));t.push(this.Yn.addEntry(e,c,y))}}),o.forEach(c=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Yn.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((c,d)=>{this.Xn.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function kA(n){return gi(n,"remoteDocumentGlobal")}function Ah(n){return gi(n,"remoteDocumentsV14")}function Sv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PA(n,e){const t=e.documentKey.path.toArray();return[n,nE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function RA(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(o=qt(t[c],r[c]),o)return o;return o=qt(t.length,r.length),o||(o=qt(t[t.length-2],r[r.length-2]),o||qt(t[t.length-1],r[r.length-1]))}class nP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NA{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&fn(r.mutation,o,ho.empty(),nr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,sn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=sn()){const o=Ga();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let d=mv();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ga();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,sn()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,o){let c=fo();const d=_v(),g=_v();return t.forEach((y,E)=>{const x=r.get(E.key);o.has(E.key)&&(void 0===x||x.mutation instanceof $o)?c=c.insert(E.key,E):void 0!==x&&(d.set(E.key,x.mutation.getFieldMask()),fn(x.mutation,E,x.mutation.getFieldMask(),nr.now()))}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((E,x)=>d.set(E,x)),t.forEach((E,x)=>{var S;return g.set(E,new nP(x,null!==(S=d.get(E))&&void 0!==S?S:null))}),g))}recalculateAndSaveOverlays(e,t){const r=_v();let o=new Cr((d,g)=>d-g),c=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let x=r.get(y)||ho.empty();x=g.applyToLocalView(E,x),r.set(y,x);const S=(o.get(g.batchId)||sn()).add(y);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),E=y.key,x=y.value,S=GS();x.forEach(z=>{if(!c.has(z)){const Y=Ve(t.get(z),r.get(z));null!==Y&&S.set(z,Y),c=c.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(e,E,S))}return ue.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):hv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):ue.resolve(Ga());let g=-1,y=c;return d.next(E=>ue.forEach(E,(x,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(x)?ue.resolve():this.getBaseDocument(e,x,S).next(z=>{y=y.insert(x,z)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,y,E,sn())).next(x=>({batchId:g,changes:HS(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let o=mv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let c=mv();return this.indexManager.getCollectionParents(e,o).next(d=>ue.forEach(d,g=>{const y=(E=t,x=g.child(o),new na(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,x;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(E=>{E.forEach((x,S)=>{c=c.insert(x,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(c=>(o=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(c=>{c.forEach((g,y)=>{const E=y.getKey();null===o.get(E)&&(o=o.insert(E,Fn.newInvalidDocument(E)))});let d=mv();return o.forEach((g,y)=>{const E=c.get(g);void 0!==E&&fn(E.mutation,y,ho.empty(),nr.now()),JC(t,y)&&(d=d.insert(g,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ue.resolve(Fn.newInvalidDocument(t))}}class rP{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:pi(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Gx(r.bundledQuery),readTime:pi(r.readTime)}),ue.resolve();var r}}class iP{constructor(){this.overlays=new Cr(rt.comparator),this.es=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ga();return ue.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.ue(e,t,c)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const o=Ga(),c=t.length+1,d=new rt(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new Cr((E,x)=>E-x);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let x=c.get(E.largestBatchId);null===x&&(x=Ga(),c=c.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const g=Ga(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,x)=>g.set(E,x)),!(g.size()>=o)););return ue.resolve(g)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Hx(t,r));let c=this.es.get(t);void 0===c&&(c=sn(),this.es.set(t,c)),this.es.set(t,c.add(r.key))}}class qx{constructor(){this.ns=new Nn(mi.ss),this.rs=new Nn(mi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new mi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new mi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new rt(new vn([])),r=new mi(t,e),o=new mi(t,e+1),c=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),c.push(d.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new rt(new vn([])),r=new mi(t,e),o=new mi(t,e+1);let c=sn();return this.rs.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new mi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class mi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return rt.comparator(e.key,t.key)||qt(e._s,t._s)}static os(e,t){return qt(e._s,t._s)||rt.comparator(e.key,t.key)}}class oP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Nn(mi.ss)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const c=this.ws;this.ws++;const d=new $x(c,t,r,o);this.mutationQueue.push(d);for(const g of o)this.gs=this.gs.add(new mi(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ue.resolve(d)}lookupMutationBatch(e,t){return ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),c=o<0?0:o;return ue.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mi(t,0),o=new mi(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([r,o],d=>{const g=this.ys(d._s);c.push(g)}),ue.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(qt);return t.forEach(o=>{const c=new mi(o,0),d=new mi(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,d],g=>{r=r.add(g._s)})}),ue.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;rt.isDocumentKey(c)||(c=c.child(""));const d=new mi(new rt(c),0);let g=new Nn(qt);return this.gs.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===o&&(g=g.add(y._s)),!0)},d),ue.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ut(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ue.forEach(t.mutations,o=>{const c=new mi(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new mi(t,0),o=this.gs.firstAfterOrEqual(r);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sP{constructor(e){this.Es=e,this.docs=new Cr(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=fo();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Fn.newInvalidDocument(o))}),ue.resolve(r)}getAllFromCollection(e,t,r){let o=fo();const c=new rt(t.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Ky(VC(y),r)<=0||(o=o.insert(y.key,y.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,t,r,o){_t()}As(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new aP(this)}getSize(e){return ue.resolve(this.size)}}class aP extends AA{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class cP{constructor(e){this.persistence=e,this.Rs=new mu(t=>ea(t),Mg),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new qx,this.targetCount=0,this.vs=Sh.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Sh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Dn(t),ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),ue.waitFor(c).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ue.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.Ps.containsKey(t))}}class FA{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new bi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new cP(this),this.indexManager=new Zk,this.remoteDocumentCache=new sP(r=>this.referenceDelegate.xs(r)),this.It=new fA(t),this.Ns=new rP(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new oP(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const o=new lP(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(c=>this.referenceDelegate.Os(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ms(e,t){return ue.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class lP extends UC{constructor(e){super(),this.currentSequenceNumber=e}}class lE{constructor(e){this.persistence=e,this.Fs=new qx,this.$s=null}static Bs(e){return new lE(e)}get Ls(){if(this.$s)return this.$s;throw _t()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.Ls.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,r=>{const o=rt.fromPath(r);return this.Us(e,o).next(c=>{c||t.removeEntry(o,Pt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ue.or([()=>ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class uP{constructor(e){this.It=e}$(e,t,r,o){const c=new hu("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cA,{unique:!0}),g.createObjectStore("documentMutations"),LA(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=ue.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),LA(e)),d=d.next(()=>function(g){const y=g.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(c))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(g,y){return y.store("mutations").W().next(E=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cA,{unique:!0});const x=y.store("mutations"),S=E.map(z=>x.put(z));return ue.waitFor(S)})}(e,c))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(c))),r<6&&o>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),r<7&&o>=7&&(d=d.next(()=>this.Gs(c))),r<8&&o>=8&&(d=d.next(()=>this.Qs(e,c))),r<9&&o>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.js(c))),r<11&&o>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:Nk});y.createIndex("collectionPathOverlayIndex",Fk,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Lk,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:Ik});y.createIndex("documentKeyIndex",Dk),y.createIndex("collectionGroupIndex",xk)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.zs(e,c))),r<15&&o>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:Ok}).createIndex("sequenceNumberIndex",kk,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:Pk}).createIndex("documentKeyIndex",Rk,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=sE(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>ue.forEach(o,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(g=>ue.forEach(g,y=>{Ut(y.userId===c.userId);const E=Dh(this.It,y);return DA(e,c.userId,E).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return r.Z((d,g)=>{const y=new vn(d),E=[0,Wi(y)];c.push(t.get(E).next(x=>x?ue.resolve():t.put({targetId:0,path:Wi(y),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ue.waitFor(c))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ak});const r=t.store("collectionParents"),o=new Zx,c=d=>{if(o.add(d)){const g=d.lastSegment(),y=d.popLast();return r.put({collectionId:g,parent:Wi(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const y=new vn(d);return c(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,y],E)=>{const x=Za(g);return c(x.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const c=Iv(o),d=gA(this.It,c);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((c,d)=>{const g=t.store("remoteDocumentsV14"),y=(E=d,E.document?new rt(vn.fromString(E.document.name).popFirst(5)):E.noDocument?rt.fromSegments(E.noDocument.path):E.unknownDocument?rt.fromSegments(E.unknownDocument.path):_t()).path.toArray();var E;const x={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(g.put(x))}).next(()=>ue.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=OA(this.It),c=new FA(lE.Bs,this.It.re);return r.W().next(d=>{const g=new Map;return d.forEach(y=>{var E;let x=null!==(E=g.get(y.userId))&&void 0!==E?E:sn();Dh(this.It,y).keys().forEach(S=>x=x.add(S)),g.set(y.userId,x)}),ue.forEach(g,(y,E)=>{const x=new Ur(E),S=rE.oe(this.It,x),z=c.getIndexManager(x),Y=aE.oe(x,this.It,z,c.referenceDelegate);return new NA(o,Y,S,z).recalculateAndSaveOverlaysForDocumentKeys(new jx(t,bi.at),y).next()})})}}function LA(n){n.createObjectStore("targetDocuments",{keyPath:Mk}).createIndex("documentTargetsIndex",Sk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tk,{unique:!0}),n.createObjectStore("targetGlobal")}const Kx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yx{constructor(e,t,r,o,c,d,g,y,E,x,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=c,this.window=d,this.document=g,this.Js=E,this.Ys=x,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=z=>Promise.resolve(),!Yx.C())throw new $e(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xk(this,o),this.ii=t+"main",this.It=new fA(y),this.ri=new uo(this.ii,this.Xs,new uP(this.It)),this.Cs=new Kk(this.referenceDelegate,this.It),this.remoteDocumentCache=OA(this.It),this.Ns=new jk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===x&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(ye.FAILED_PRECONDITION,Kx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new bi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Te.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Js(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Av(e).get("owner").next(t=>ue.resolve(this.mi(t)))}gi(e){return uE(e).delete(this.clientId)}yi(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=gi(r,"clientMetadata");return o.W().next(c=>{const d=e.Ii(c,18e5),g=c.filter(y=>-1===d.indexOf(y));return ue.forEach(g,y=>o.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ue.resolve(!0):Av(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new $e(ye.FAILED_PRECONDITION,Kx);return!1}}return!(!this.networkEnabled||!this.inForeground)||uE(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new jx(t,bi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>uE(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return aE.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qk(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return rE.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ze("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",c=15===(d=this.Xs)?Uk:14===d?hA:13===d?dA:12===d?Vk:11===d?uA:void _t();var d;let g;return this.ri.runTransaction(e,o,c,y=>(g=new jx(y,this.Ss?this.Ss.next():bi.at),"readwrite-primary"===t?this.fi(g).next(E=>!!E||this.di(g)).next(E=>{if(!E)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new $e(ye.FAILED_PRECONDITION,Gi);return r(g)}).next(E=>this.wi(g).next(()=>E)):this.Vi(g).next(()=>r(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(e){return Av(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $e(ye.FAILED_PRECONDITION,Kx)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Av(e).put("owner",t)}static C(){return uo.C()}_i(e){const t=Av(e);return t.get("owner").next(r=>this.mi(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Mr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Av(n){return gi(n,"owner")}function uE(n){return gi(n,"clientMetadata")}function Qx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Jx{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=sn(),o=sn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jx(e,t.fromCache,r,o)}}class VA{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(c=>c||this.Oi(e,t,o,r)).next(c=>c||this.Mi(e,t))}ki(e,t){if(Ox(t))return ue.resolve(null);let r=Ai(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=fv(t,null,"F"),r=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=sn(...c);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const E=this.Fi(t,g);return this.$i(t,E,d,y.readTime)?this.ki(e,fv(t,null,"F")):this.Bi(e,E,t,y)}))})))}Oi(e,t,r,o){return Ox(t)||o.isEqual(Pt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(c=>{const d=this.Fi(t,c);return this.$i(t,d,r,o)?this.Mi(e,t):(mg()<=Ia.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pv(t)),this.Bi(e,d,t,lo(o,-1)))})}Fi(e,t){let r=new Nn(Rx(e));return t.forEach((o,c)=>{JC(e,c)&&(r=r.add(c))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Mi(e,t){return mg()<=Ia.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",pv(t)),this.Ni.getDocumentsMatchingQuery(e,t,vi.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class dP{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Cr(qt),this.qi=new mu(c=>ea(c),Mg),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NA(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function UA(n,e,t,r){return new dP(n,e,t,r)}function BA(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,Te.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],g=[];let y=sn();for(const E of o){d.push(E.batchId);for(const x of E.mutations)y=y.add(x.key)}for(const E of c){g.push(E.batchId);for(const x of E.mutations)y=y.add(x.key)}return t.localDocuments.getDocuments(r,y).next(E=>({ji:E,removedBatchIds:d,addedBatchIds:g}))})})}),Xx.apply(this,arguments)}function hP(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,y,E){const x=y.batch,S=x.keys();let z=ue.resolve();return S.forEach(Y=>{z=z.next(()=>E.getEntry(g,Y)).next(se=>{const Ne=y.docVersions.get(Y);Ut(null!==Ne),se.version.compareTo(Ne)<0&&(x.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),E.addEntry(se)))})}),z.next(()=>d.mutationQueue.removeMutationBatch(g,x))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=sn();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function jA(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function fP(n,e){const t=it(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const g=[];e.targetChanges.forEach((x,S)=>{const z=o.get(S);if(!z)return;g.push(t.Cs.removeMatchingKeys(c,x.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(c,x.addedDocuments,S)));let Y=z.withSequenceNumber(c.currentSequenceNumber);var se,Ne,Ue;e.targetMismatches.has(S)?Y=Y.withResumeToken(Br.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):x.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(x.resumeToken,r)),o=o.insert(S,Y),Ne=Y,Ue=x,(0===(se=z).resumeToken.approximateByteSize()||Ne.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(c,Y))});let y=fo(),E=sn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),g.push($A(c,d,e.documentUpdates).next(x=>{y=x.Wi,E=x.zi})),!r.isEqual(Pt.min())){const x=t.Cs.getLastRemoteSnapshotVersion(c).next(S=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(x)}return ue.waitFor(g).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,y,E)).next(()=>y)}).then(c=>(t.Ui=o,c))}function $A(n,e,t){let r=sn(),o=sn();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let d=fo();return t.forEach((g,y)=>{const E=c.get(g);y.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Pt.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):Ze("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",y.version)}),{Wi:d,zi:o}})}function pP(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vg(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(c=>c?(o=c,ue.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new _u(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Ug(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=(0,Te.Z)(function*(n,e,t){const r=it(n),o=r.Ui.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Js(d))throw d;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),eT.apply(this,arguments)}function dE(n,e,t){const r=it(n);let o=Pt.min(),c=sn();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,y,E){const x=it(g),S=x.qi.get(E);return void 0!==S?ue.resolve(x.Ui.get(S)):x.Cs.getTargetData(y,E)}(r,d,Ai(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:Pt.min(),t?c:sn())).next(g=>(GA(r,Px(e),g),{documents:g,Hi:c})))}function zA(n,e){const t=it(n),r=it(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.se(c,e).next(d=>d?d.target:null))}function HA(n,e){const t=it(n),r=t.Ki.get(e)||Pt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,lo(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(GA(t,e,o),o))}function GA(n,e,t){let r=n.Ki.get(e)||Pt.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Ki.set(e,r)}function tT(){return tT=(0,Te.Z)(function*(n,e,t,r){const o=it(n);let c=sn(),d=fo();for(const E of t){const x=e.Ji(E.metadata.name);E.document&&(c=c.add(x));const S=e.Yi(E);S.setReadTime(e.Xi(E.metadata.readTime)),d=d.insert(x,S)}const g=o.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Vg(o,(E=r,Ai(bh(vn.fromString(`__bundle__/docs/${E}`)))));var E;return o.persistence.runTransaction("Apply bundle documents","readwrite",E=>$A(E,g,d).next(x=>(g.apply(E),x)).next(x=>o.Cs.removeMatchingKeysForTargetId(E,y.targetId).next(()=>o.Cs.addMatchingKeys(E,c,y.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(E,x.Wi,x.zi)).next(()=>x.Wi)))}),tT.apply(this,arguments)}function mP(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,Te.Z)(function*(n,e,t=sn()){const r=yield Vg(n,Ai(Gx(e.bundledQuery))),o=it(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const d=pi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(c,e);const g=r.withResumeToken(Br.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(g.targetId,g),o.Cs.updateTargetData(c,g).next(()=>o.Cs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.Cs.addMatchingKeys(c,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(c,e))})}),nT.apply(this,arguments)}function WA(n,e){return`firestore_clients_${n}_${e}`}function ZA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function rT(n,e){return`firestore_targets_${n}_${e}`}class hE{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let c,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(c=new $e(o.error.code,o.error.message))),d?new hE(e,t,o.state,c):(Mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ov{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new $e(r.error.code,r.error.message))),c?new Ov(e,r.state,o):(Mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=XC();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=ZC(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return o?new fE(e,c):(Mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class iT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new iT(t.clientId,t.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oT{constructor(){this.activeTargetIds=XC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sT{constructor(e,t,r,o,c){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Cr(qt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=WA(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new oT),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const c=e.getItem(WA(e.persistenceKey,o));if(c){const d=fE.Zi(o,c);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(rT(this.persistenceKey,e));if(r){const o=Ov.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ze("SharedClientState","READ",e,t),t}setItem(e,t){Ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(c){let d=bi.at;if(null!=c)try{const g=JSON.parse(c);Ut("number"==typeof g),d=g}catch(g){Mr("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);o!==bi.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Or(r.newValue);yield Promise.all(o.map(c=>t.syncEngine.Mr(c)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new hE(this.currentUser,e,t,r),c=ZA(this.persistenceKey,this.currentUser,e);this.setItem(c,o.tr())}Er(e){const t=ZA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=rT(this.persistenceKey,e),c=new Ov(e,t,r);this.setItem(o,c.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return fE.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return hE.Zi(new Ur(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return Ov.Zi(o,t)}yr(e){return iT.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),c=this.Ir(r),d=[],g=[];return c.forEach(y=>{o.has(y)||d.push(y)}),o.forEach(y=>{c.has(y)||g.push(y)}),this.syncEngine.Br(d,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=XC();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class qA{constructor(){this.Lr=new oT,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _P{qr(e){}shutdown(){}}class KA{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vP{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class bP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,o,c){const d=this.ho(e,t);Ze("RestConnection","Sending: ",d,r);const g={};return this.lo(g,o,c),this.fo(e,d,g,r).then(y=>(Ze("RestConnection","Received: ",y),y),y=>{throw Fa("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,o,c,d){return this.ao(e,t,r,o,c)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}ho(e,t){return`${this.oo}/v1/${t}:${yP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((c,d)=>{const g=new AC;g.setWithCredentials(!0),g.listenOnce(fx.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case pg.NO_ERROR:const E=g.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(E)),c(E);break;case pg.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),d(new $e(ye.DEADLINE_EXCEEDED,"Request time out"));break;case pg.HTTP_ERROR:const x=g.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',x,"response text:",g.getResponseText()),x>0){const S=g.getResponseJson().error;if(S&&S.status&&S.message){const z=function(Y){const se=Y.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(se)>=0?se:ye.UNKNOWN}(S.status);d(new $e(z,S.message))}else d(new $e(ye.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new $e(ye.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(o);g.send(t,"POST",y,r,15)})}wo(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=hx(),d=MC(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new px({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=o.join("");Ze("Connection","Creating WebChannel: "+y,g);const E=c.createWebChannel(y,g);let x=!1,S=!1;const z=new vP({Hr:se=>{S?Ze("Connection","Not sending because WebChannel is closed:",se):(x||(Ze("Connection","Opening WebChannel transport."),E.open(),x=!0),Ze("Connection","WebChannel sending:",se),E.send(se))},Jr:()=>E.close()}),Y=(se,Ne,Ue)=>{se.listen(Ne,Mt=>{try{Ue(Mt)}catch(St){setTimeout(()=>{throw St},0)}})};return Y(E,gg.EventType.OPEN,()=>{S||Ze("Connection","WebChannel transport opened.")}),Y(E,gg.EventType.CLOSE,()=>{S||(S=!0,Ze("Connection","WebChannel transport closed"),z.io())}),Y(E,gg.EventType.ERROR,se=>{S||(S=!0,Fa("Connection","WebChannel transport errored:",se),z.io(new $e(ye.UNAVAILABLE,"The operation could not be completed")))}),Y(E,gg.EventType.MESSAGE,se=>{var Ne;if(!S){const Ue=se.data[0];Ut(!!Ue);const Mt=Ue,St=Mt.error||(null===(Ne=Mt[0])||void 0===Ne?void 0:Ne.error);if(St){Ze("Connection","WebChannel received error:",St);const Qt=St.status;let Jt=function(ln){const ci=_r[ln];if(void 0!==ci)return $S(ci)}(Qt),Kt=St.message;void 0===Jt&&(Jt=ye.INTERNAL,Kt="Unknown error status: "+Qt+" with message "+St.message),S=!0,z.io(new $e(Jt,Kt)),E.close()}else Ze("Connection","WebChannel received:",Ue),z.ro(Ue)}}),Y(d,SC.STAT_EVENT,se=>{se.stat===Gy.PROXY?Ze("Connection","Detected buffering proxy"):se.stat===Gy.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{z.so()},0),z}}function YA(){return typeof window<"u"?window:null}function pE(){return typeof document<"u"?document:null}function kv(n){return new dk(n,!0)}class aT{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=o,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&Ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class QA{constructor(e,t,r,o,c,d,g,y){this.Hs=e,this.vo=r,this.Vo=o,this.So=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new aT(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Te.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Te.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Do===t&&this.Qo(r,o)},r=>{e(()=>{const o=new $e(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(o)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.jo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Te.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wP extends QA{constructor(e,t,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.It=c}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function pk(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:_t(),o=e.targetChange.targetIds||[],c=function(y,E){return y.gt?(Ut(void 0===E||"string"==typeof E),Br.fromBase64String(E||"")):(Ut(void 0===E||E instanceof Uint8Array),Br.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=void 0===y.code?ye.UNKNOWN:$S(y.code);return new $e(E,y.message||"")}(d);t=new ZS(r,o,c,g||null)}else if("documentChange"in e){const r=e.documentChange,o=Wa(n,r.document.name),c=pi(r.document.updateTime),d=new Yr({mapValue:{fields:r.document.fields}}),g=Fn.newFoundDocument(o,c,d);t=new eE(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=Wa(n,r.document),c=r.readTime?pi(r.readTime):Pt.min(),d=Fn.newNoDocument(o,c);t=new eE([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Wa(n,r.document);t=new eE([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return _t();{const r=e.filter,c=new gv(r.count||0);t=new WS(r.targetId,c)}}var y;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return Pt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?pi(c.readTime):Pt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Cv(this.It),t.addTarget=function(o,c){let d;const g=c.target;return d=ov(g)?{documents:rA(o,g)}:{query:Bx(o,g)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?d.resumeToken=QS(o,c.resumeToken):c.snapshotVersion.compareTo(Pt.min())>0&&(d.readTime=bv(o,c.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function mk(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Cv(this.It),t.removeTarget=e,this.Lo(t)}}class CP extends QA{constructor(e,t,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.It=c,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function gk(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(r,o){let c=pi(r.updateTime?r.updateTime:o);return c.isEqual(Pt.min())&&(c=pi(o)),new qe(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.tu(r,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Cv(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ev(this.It,r))};this.Lo(t)}}class EP extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=o,this.su=!1}iu(){if(this.su)throw new $e(ye.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.So.ao(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(ye.UNKNOWN,o.toString())})}_o(e,t,r,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.So._o(e,t,r,c,d,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new $e(ye.UNKNOWN,c.toString())})}terminate(){this.su=!0}}class DP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Mr(t),this.uu=!1):Ze("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class xP{constructor(e,t,r,o,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=c,this.gu.qr(g=>{r.enqueueAndForget((0,Te.Z)(function*(){var y;Yc(d)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Te.Z)(function*(E){const x=it(E);x.wu.add(4),yield Bg(x),x.yu.set("Unknown"),x.wu.delete(4),yield Pv(x)}),function(E){return y.apply(this,arguments)})(d))}))}),this.yu=new DP(r,o)}}function Pv(n){return lT.apply(this,arguments)}function lT(){return lT=(0,Te.Z)(function*(n){if(Yc(n))for(const e of n.mu)yield e(!0)}),lT.apply(this,arguments)}function Bg(n){return uT.apply(this,arguments)}function uT(){return uT=(0,Te.Z)(function*(n){for(const e of n.mu)yield e(!1)}),uT.apply(this,arguments)}function gE(n,e){const t=it(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),fT(t)?hT(t):$g(t).Oo()&&dT(t,e))}function Rv(n,e){const t=it(n),r=$g(t);t._u.delete(e),r.Oo()&&JA(t,e),0===t._u.size&&(r.Oo()?r.$o():Yc(t)&&t.yu.set("Unknown"))}function dT(n,e){n.pu.Mt(e.targetId),$g(n).Ho(e)}function JA(n,e){n.pu.Mt(e),$g(n).Jo(e)}function hT(n){n.pu=new ck({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),$g(n).start(),n.yu.cu()}function fT(n){return Yc(n)&&!$g(n).ko()&&n._u.size>0}function Yc(n){return 0===it(n).wu.size}function XA(n){n.pu=void 0}function TP(n){return pT.apply(this,arguments)}function pT(){return pT=(0,Te.Z)(function*(n){n._u.forEach((e,t)=>{dT(n,e)})}),pT.apply(this,arguments)}function MP(n,e){return gT.apply(this,arguments)}function gT(){return gT=(0,Te.Z)(function*(n,e){XA(n),fT(n)?(n.yu.lu(e),hT(n)):n.yu.set("Unknown")}),gT.apply(this,arguments)}function SP(n,e,t){return mT.apply(this,arguments)}function mT(){return mT=(0,Te.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof ZS&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(o,c){const d=c.cause;for(const g of c.targetIds)o._u.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o._u.delete(g),o.pu.removeTarget(g))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mE(n,r)}else if(e instanceof eE?n.pu.Gt(e):e instanceof WS?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Pt.min()))try{const r=yield jA(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const d=o.pu.te(c);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=o._u.get(y);E&&o._u.set(y,E.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach(g=>{const y=o._u.get(g);if(!y)return;o._u.set(g,y.withResumeToken(Br.EMPTY_BYTE_STRING,y.snapshotVersion)),JA(o,g);const E=new _u(y.target,g,1,y.sequenceNumber);dT(o,E)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield mE(n,r)}var r}),mT.apply(this,arguments)}function mE(n,e,t){return _T.apply(this,arguments)}function _T(){return _T=(0,Te.Z)(function*(n,e,t){if(!Js(e))throw e;n.wu.add(1),yield Bg(n),n.yu.set("Offline"),t||(t=()=>jA(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Pv(n)}))}),_T.apply(this,arguments)}function e1(n,e){return e().catch(t=>mE(n,t,e))}function jg(n){return yT.apply(this,arguments)}function yT(){return yT=(0,Te.Z)(function*(n){const e=it(n),t=bu(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;AP(e);)try{const o=yield pP(e.localStore,r);if(null===o){0===e.du.length&&t.$o();break}r=o.batchId,OP(e,o)}catch(o){yield mE(e,o)}t1(e)&&n1(e)}),yT.apply(this,arguments)}function AP(n){return Yc(n)&&n.du.length<10}function OP(n,e){n.du.push(e);const t=bu(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function t1(n){return Yc(n)&&!bu(n).ko()&&n.du.length>0}function n1(n){bu(n).start()}function kP(n){return vT.apply(this,arguments)}function vT(){return vT=(0,Te.Z)(function*(n){bu(n).nu()}),vT.apply(this,arguments)}function PP(n){return bT.apply(this,arguments)}function bT(){return bT=(0,Te.Z)(function*(n){const e=bu(n);for(const t of n.du)e.Zo(t.mutations)}),bT.apply(this,arguments)}function RP(n,e,t){return wT.apply(this,arguments)}function wT(){return wT=(0,Te.Z)(function*(n,e,t){const r=n.du.shift(),o=zx.from(r,e,t);yield e1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield jg(n)}),wT.apply(this,arguments)}function NP(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,Te.Z)(function*(n,e){var t;e&&bu(n).Xo&&(yield(t=(0,Te.Z)(function*(r,o){if(jS(c=o.code)&&c!==ye.ABORTED){const d=r.du.shift();bu(r).Fo(),yield e1(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield jg(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),t1(n)&&n1(n)}),CT.apply(this,arguments)}function r1(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,Te.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Yc(t);t.wu.add(3),yield Bg(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Pv(t)}),ET.apply(this,arguments)}function IT(n,e){return DT.apply(this,arguments)}function DT(){return DT=(0,Te.Z)(function*(n,e){const t=it(n);e?(t.wu.delete(2),yield Pv(t)):e||(t.wu.add(2),yield Bg(t),t.yu.set("Unknown"))}),DT.apply(this,arguments)}function $g(n){return n.Iu||(n.Iu=function(e,t,r){const o=it(e);return o.iu(),new wP(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:TP.bind(null,n),Zr:MP.bind(null,n),zo:SP.bind(null,n)}),n.mu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Iu.Fo(),fT(n)?hT(n):n.yu.set("Unknown")):(yield n.Iu.stop(),XA(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function bu(n){return n.Tu||(n.Tu=function(e,t,r){const o=it(e);return o.iu(),new CP(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:kP.bind(null,n),Zr:NP.bind(null,n),eu:PP.bind(null,n),tu:RP.bind(null,n)}),n.mu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Tu.Fo(),yield jg(n)):(yield n.Tu.stop(),n.du.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class xT{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,c){const d=Date.now()+r,g=new xT(e,t,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(n,e){if(Mr("AsyncQueue",`${e}: ${n}`),Js(n))return new $e(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class Hg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=mv(),this.sortedSet=new Cr(this.comparator)}static emptySet(e){return new Hg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Hg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class o1{constructor(){this.Eu=new Cr(rt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):_t():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Gg{constructor(e,t,r,o,c,d,g,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,o,c){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new Gg(e,t,Hg.emptySet(t),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class FP{constructor(){this.Ru=void 0,this.listeners=[]}}class LP{constructor(){this.queries=new mu(e=>kx(e),Ag),this.onlineState="Unknown",this.bu=new Set}}function TT(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,Te.Z)(function*(n,e){const t=it(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new FP),o)try{c.Ru=yield t.onListen(r)}catch(d){const g=zg(d,`Initialization of query '${pv(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,c),c.listeners.push(e),e.Pu(t.onlineState),c.Ru&&e.vu(c.Ru)&&OT(t)}),MT.apply(this,arguments)}function ST(n,e){return AT.apply(this,arguments)}function AT(){return AT=(0,Te.Z)(function*(n,e){const t=it(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),AT.apply(this,arguments)}function VP(n,e){const t=it(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const g of d.listeners)g.vu(o)&&(r=!0);d.Ru=o}}r&&OT(t)}function UP(n,e,t){const r=it(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function OT(n){n.bu.forEach(e=>{e.next()})}class kT{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Gg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Gg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class BP{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class s1{constructor(e){this.It=e}Ji(e){return Wa(this.It,e)}Yi(e){return e.metadata.exists?nA(this.It,e.document,!1):Fn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return pi(e)}}class jP{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=a1(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=vn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new s1(this.It);for(const o of e)if(o.metadata.queries){const c=r.Ji(o.metadata.name);for(const d of o.metadata.queries){const g=(t.get(d)||sn()).add(c);t.set(d,g)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function gP(n,e,t,r){return tT.apply(this,arguments)}(e.localStore,new s1(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const o of e.queries)yield mP(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function a1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class c1{constructor(e){this.key=e}}class l1{constructor(e){this.key=e}}class u1{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sn(),this.mutatedKeys=sn(),this.Gu=Rx(e),this.Qu=new Hg(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new o1,o=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,E="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,S)=>{const z=o.get(x),Y=JC(this.query,S)?S:null,se=!!z&&this.mutatedKeys.has(z.key),Ne=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let Ue=!1;z&&Y?z.data.isEqual(Y.data)?se!==Ne&&(r.track({type:3,doc:Y}),Ue=!0):this.Hu(z,Y)||(r.track({type:2,doc:Y}),Ue=!0,(y&&this.Gu(Y,y)>0||E&&this.Gu(Y,E)<0)&&(g=!0)):!z&&Y?(r.track({type:0,doc:Y}),Ue=!0):z&&!Y&&(r.track({type:1,doc:z}),Ue=!0,(y||E)&&(g=!0)),Ue&&(Y?(d=d.add(Y),c=Ne?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const x="F"===this.query.limitType?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{Qu:d,zu:r,$i:g,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Au();c.sort((E,x)=>function(S,z){const Y=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return Y(S)-Y(z)}(E.type,x.type)||this.Gu(E.doc,x.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,y=g!==this.qu;return this.qu=g,0!==c.length||y?{snapshot:new Gg(this.query,e.Qu,o,c,e.mutatedKeys,0===g,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new o1,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new l1(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new c1(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=sn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Gg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class $P{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class zP{constructor(e){this.key=e,this.nc=!1}}class HP{constructor(e,t,r,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new mu(g=>kx(g),Ag),this.rc=new Map,this.oc=new Set,this.uc=new Cr(rt.comparator),this.cc=new Map,this.ac=new qx,this.hc={},this.lc=new Map,this.fc=Sh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function GP(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,Te.Z)(function*(n,e){const t=nM(n);let r,o;const c=t.ic.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.ec();else{const d=yield Vg(t.localStore,Ai(e));t.isPrimaryClient&&gE(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield RT(t,e,r,"current"===g,d.resumeToken)}return o}),PT.apply(this,arguments)}function RT(n,e,t,r,o){return NT.apply(this,arguments)}function NT(){return NT=(0,Te.Z)(function*(n,e,t,r,o){n._c=(S,z,Y)=>{return(se=(0,Te.Z)(function*(Ne,Ue,Mt,St){let Qt=Ue.view.Wu(Mt);Qt.$i&&(Qt=yield dE(Ne.localStore,Ue.query,!1).then(({documents:ln})=>Ue.view.Wu(ln,Qt)));const Jt=St&&St.targetChanges.get(Ue.targetId),Kt=Ue.view.applyChanges(Qt,Ne.isPrimaryClient,Jt);return GT(Ne,Ue.targetId,Kt.Xu),Kt.snapshot}),function(Ne,Ue,Mt,St){return se.apply(this,arguments)})(n,S,z,Y);var se};const c=yield dE(n.localStore,e,!0),d=new u1(e,c.Hi),g=d.Wu(c.documents),y=vv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),E=d.applyChanges(g,n.isPrimaryClient,y);GT(n,t,E.Xu);const x=new $P(e,t,d);return n.ic.set(e,x),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),E.snapshot}),NT.apply(this,arguments)}function WP(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,Te.Z)(function*(n,e){const t=it(n),r=t.ic.get(e),o=t.rc.get(r.targetId);if(o.length>1)return t.rc.set(r.targetId,o.filter(c=>!Ag(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ug(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Rv(t.remoteStore,r.targetId),Wg(t,r.targetId)}).catch(hs))):(Wg(t,r.targetId),yield Ug(t.localStore,r.targetId,!0))}),FT.apply(this,arguments)}function LT(){return LT=(0,Te.Z)(function*(n,e,t){const r=rM(n);try{const o=yield function(c,d){const g=it(c),y=nr.now(),E=d.reduce((z,Y)=>z.add(Y.key),sn());let x,S;return g.persistence.runTransaction("Locally write mutations","readwrite",z=>{let Y=fo(),se=sn();return g.Gi.getEntries(z,E).next(Ne=>{Y=Ne,Y.forEach((Ue,Mt)=>{Mt.isValidDocument()||(se=se.add(Ue))})}).next(()=>g.localDocuments.getOverlayedDocuments(z,Y)).next(Ne=>{x=Ne;const Ue=[];for(const Mt of d){const St=ir(Mt,x.get(Mt.key).overlayedDocument);null!=St&&Ue.push(new $o(Mt.key,St,Dg(St.value.mapValue),He.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,Ue,d)}).next(Ne=>{S=Ne;const Ue=Ne.applyToLocalDocumentSet(x,se);return g.documentOverlayCache.saveOverlays(z,Ne.batchId,Ue)})}).then(()=>({batchId:S.batchId,changes:HS(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,d,g){let y=c.hc[c.currentUser.toKey()];y||(y=new Cr(qt)),y=y.insert(d,g),c.hc[c.currentUser.toKey()]=y}(r,o.batchId,t),yield Qc(r,o.changes),yield jg(r.remoteStore)}catch(o){const c=zg(o,"Failed to persist write");t.reject(c)}}),LT.apply(this,arguments)}function d1(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,Te.Z)(function*(n,e){const t=it(n);try{const r=yield fP(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.cc.get(c);d&&(Ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?Ut(d.nc):o.removedDocuments.size>0&&(Ut(d.nc),d.nc=!1))}),yield Qc(t,r,e)}catch(r){yield hs(r)}}),VT.apply(this,arguments)}function h1(n,e,t){const r=it(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ic.forEach((c,d)=>{const g=d.view.Pu(e);g.snapshot&&o.push(g.snapshot)}),function(c,d){const g=it(c);g.onlineState=d;let y=!1;g.queries.forEach((E,x)=>{for(const S of x.listeners)S.Pu(d)&&(y=!0)}),y&&OT(g)}(r.eventManager,e),o.length&&r.sc.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qP(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,Te.Z)(function*(n,e,t){const r=it(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.cc.get(e),c=o&&o.key;if(c){let d=new Cr(rt.comparator);d=d.insert(c,Fn.newNoDocument(c,Pt.min()));const g=sn().add(c),y=new yv(Pt.min(),new Map,new Nn(qt),d,g);yield d1(r,y),r.uc=r.uc.remove(c),r.cc.delete(e),WT(r)}else yield Ug(r.localStore,e,!1).then(()=>Wg(r,e,t)).catch(hs)}),UT.apply(this,arguments)}function KP(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,Te.Z)(function*(n,e){const t=it(n),r=e.batch.batchId;try{const o=yield hP(t.localStore,e);HT(t,r,null),zT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Qc(t,o)}catch(o){yield hs(o)}}),BT.apply(this,arguments)}function YP(n,e,t){return jT.apply(this,arguments)}function jT(){return jT=(0,Te.Z)(function*(n,e,t){const r=it(n);try{const o=yield function(c,d){const g=it(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,d).next(x=>(Ut(null!==x),E=x.keys(),g.mutationQueue.removeMutationBatch(y,x))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(r.localStore,e);HT(r,e,t),zT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Qc(r,o)}catch(o){yield hs(o)}}),jT.apply(this,arguments)}function $T(){return $T=(0,Te.Z)(function*(n,e){const t=it(n);Yc(t.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const d=it(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.lc.get(r)||[];o.push(e),t.lc.set(r,o)}catch(r){const o=zg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),$T.apply(this,arguments)}function zT(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function HT(n,e,t){const r=it(n);let o=r.hc[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.hc[r.currentUser.toKey()]=o}}function Wg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||f1(n,r)})}function f1(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Rv(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),WT(n))}function GT(n,e,t){for(const r of t)r instanceof c1?(n.ac.addReference(r.key,e),JP(n,r)):r instanceof l1?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||f1(n,r.key)):_t()}function JP(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.oc.add(r),WT(n))}function WT(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new rt(vn.fromString(e)),r=n.fc.next();n.cc.set(r,new zP(t)),n.uc=n.uc.insert(t,r),gE(n.remoteStore,new _u(Ai(bh(t.path)),r,2,bi.at))}}function Qc(n,e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Te.Z)(function*(n,e,t){const r=it(n),o=[],c=[],d=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,y)=>{d.push(r._c(y,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E?.fromCache?"not-current":"current"),E){o.push(E);const x=Jx.Ci(y.targetId,E);c.push(x)}}))}),yield Promise.all(d),r.sc.zo(o),yield(g=(0,Te.Z)(function*(y,E){const x=it(y);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ue.forEach(E,z=>ue.forEach(z.Si,Y=>x.persistence.referenceDelegate.addReference(S,z.targetId,Y)).next(()=>ue.forEach(z.Di,Y=>x.persistence.referenceDelegate.removeReference(S,z.targetId,Y)))))}catch(S){if(!Js(S))throw S;Ze("LocalStore","Failed to update sequence numbers: "+S)}for(const S of E){const z=S.targetId;if(!S.fromCache){const Y=x.Ui.get(z),Ne=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);x.Ui=x.Ui.insert(z,Ne)}}}),function(y,E){return g.apply(this,arguments)})(r.localStore,c))}),ZT.apply(this,arguments)}function XP(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,Te.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield BA(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new $e(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qc(t,r.ji)}var o}),qT.apply(this,arguments)}function eR(n,e){const t=it(n),r=t.cc.get(e);if(r&&r.nc)return sn().add(r.key);{let o=sn();const c=t.rc.get(e);if(!c)return o;for(const d of c){const g=t.ic.get(d);o=o.unionWith(g.view.ju)}return o}}function tR(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,Te.Z)(function*(n,e){const t=it(n),r=yield dE(t.localStore,e.query,!0),o=e.view.tc(r);return t.isPrimaryClient&&GT(t,e.targetId,o.Xu),o}),KT.apply(this,arguments)}function nR(n,e){return YT.apply(this,arguments)}function YT(){return YT=(0,Te.Z)(function*(n,e){const t=it(n);return HA(t.localStore,e).then(r=>Qc(t,r))}),YT.apply(this,arguments)}function rR(n,e,t,r){return QT.apply(this,arguments)}function QT(){return QT=(0,Te.Z)(function*(n,e,t,r){const o=it(n),c=yield function(d,g){const y=it(d),E=it(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",x=>E.Tn(x,g).next(S=>S?y.localDocuments.getDocuments(x,S):ue.resolve(null)))}(o.localStore,e);var g;null!==c?("pending"===t?yield jg(o.remoteStore):"acknowledged"===t||"rejected"===t?(HT(o,e,r||null),zT(o,e),g=e,it(it(o.localStore).mutationQueue).An(g)):_t(),yield Qc(o,c)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),QT.apply(this,arguments)}function JT(){return JT=(0,Te.Z)(function*(n,e){const t=it(n);if(nM(t),rM(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield p1(t,r.toArray());t.dc=!0,yield IT(t.remoteStore,!0);for(const c of o)gE(t.remoteStore,c)}else if(!1===e&&!1!==t.dc){const r=[];let o=Promise.resolve();t.rc.forEach((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Wg(t,d),Ug(t.localStore,d,!0))),Rv(t.remoteStore,d)}),yield o,yield p1(t,r),function(c){const d=it(c);d.cc.forEach((g,y)=>{Rv(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new Cr(rt.comparator)}(t),t.dc=!1,yield IT(t.remoteStore,!1)}}),JT.apply(this,arguments)}function p1(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=(0,Te.Z)(function*(n,e,t){const r=it(n),o=[],c=[];for(const d of e){let g;const y=r.rc.get(d);if(y&&0!==y.length){g=yield Vg(r.localStore,Ai(y[0]));for(const E of y){const x=r.ic.get(E),S=yield tR(r,x);S.snapshot&&c.push(S.snapshot)}}else{const E=yield zA(r.localStore,d);g=yield Vg(r.localStore,E),yield RT(r,g1(E),d,!1,g.resumeToken)}o.push(g)}return r.sc.zo(c),o}),XT.apply(this,arguments)}function g1(n){return QC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function oR(n){const e=it(n);return it(it(e.localStore).persistence).vi()}function sR(n,e,t,r){return eM.apply(this,arguments)}function eM(){return eM=(0,Te.Z)(function*(n,e,t,r){const o=it(n);if(o.dc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const c=o.rc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=yield HA(o.localStore,Px(c[0])),g=yv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Br.EMPTY_BYTE_STRING);yield Qc(o,d,g);break}case"rejected":yield Ug(o.localStore,e,!0),Wg(o,e,r);break;default:_t()}}),eM.apply(this,arguments)}function aR(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,Te.Z)(function*(n,e,t){const r=nM(n);if(r.dc){for(const o of e){if(r.rc.has(o)){Ze("SyncEngine","Adding an already active target "+o);continue}const c=yield zA(r.localStore,o),d=yield Vg(r.localStore,c);yield RT(r,g1(c),d.targetId,!1,d.resumeToken),gE(r.remoteStore,d)}for(const o of t)r.rc.has(o)&&(yield Ug(r.localStore,o,!1).then(()=>{Rv(r.remoteStore,o),Wg(r,o)}).catch(hs))}}),tM.apply(this,arguments)}function nM(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qP.bind(null,e),e.sc.zo=VP.bind(null,e.eventManager),e.sc.wc=UP.bind(null,e.eventManager),e}function rM(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YP.bind(null,e),e}class m1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.It=kv(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return UA(this.persistence,new VA,e.initialUser,this.It)}yc(e){return new FA(lE.Bs,this.It)}gc(e){return new qA}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _1 extends m1{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield rM(r.Ac.syncEngine),yield jg(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return UA(this.persistence,new VA,e.initialUser,this.It)}Tc(e,t){return new Qk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new La(t,this.persistence);return new Xy(e.asyncQueue,r)}yc(e){const t=Qx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new Yx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,YA(),pE(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new qA}}class lR extends _1{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const o=r.Ac.syncEngine;r.sharedClientState instanceof sT&&(r.sharedClientState.syncEngine={Fr:rR.bind(null,o),$r:sR.bind(null,o),Br:aR.bind(null,o),vi:oR.bind(null,o),Mr:nR.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var c=(0,Te.Z)(function*(d){yield function iR(n,e){return JT.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}gc(e){const t=YA();if(!sT.C(t))throw new $e(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Qx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class iM{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>h1(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=XP.bind(null,r.syncEngine),yield IT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LP}createDatastore(e){const t=kv(e.databaseInfo.databaseId),r=new bP(e.databaseInfo);return new EP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=g=>h1(this.syncEngine,g,0),d=KA.C()?new KA:new _P,new xP(t,r,o,c,d);var t,r,o,c,d}createSyncEngine(e,t){return function(r,o,c,d,g,y,E){const x=new HP(r,o,c,d,g,y);return E&&(x.dc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=it(t);Ze("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Bg(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oM(n,e,t){if(!t)throw new $e(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function y1(n,e,t,r){if(!0===e&&!0===r)throw new $e(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function v1(n){if(!rt.isDocumentKey(n))throw new $e(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function b1(n){if(rt.isDocumentKey(n))throw new $e(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _E(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_E(n);throw new $e(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function w1(n,e){if(e<=0)throw new $e(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const C1=new Map;class E1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,y1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nv{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new LS;switch(t.type){case"gapi":return new NC(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new $e(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=C1.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),C1.delete(e),t.terminate())}(this),Promise.resolve()}}function I1(n,e,t,r={}){var o;const c=(n=_n(n,Nv))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Fa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=Ur.MOCK_USER;else{d=(0,mn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new $e(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ur(y)}n._authCredentials=new PC(new hh(d,g))}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class Oi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class qa extends Oi{constructor(e,t,r){super(e,t,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new rt(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function D1(n,e,...t){if(n=(0,mn.m9)(n),oM("collection","path",e),n instanceof Nv){const r=vn.fromString(e,...t);return b1(r),new qa(n,null,r)}{if(!(n instanceof lr||n instanceof qa))throw new $e(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return b1(r),new qa(n.firestore,null,r)}}function yE(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=Zy.R()),oM("doc","path",e),n instanceof Nv){const r=vn.fromString(e,...t);return v1(r),new lr(n,null,new rt(r))}{if(!(n instanceof lr||n instanceof qa))throw new $e(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return v1(r),new lr(n.firestore,n instanceof qa?n.converter:null,new rt(r))}}function x1(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof lr||n instanceof qa)&&(e instanceof lr||e instanceof qa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function sM(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof Oi&&e instanceof Oi&&n.firestore===e.firestore&&Ag(n._query,e._query)&&n.converter===e.converter}function T1(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dR{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Kr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),o=Number(r);isNaN(o)&&e.Dc(`length string (${r}) is not valid number`);const c=yield e.Cc(o);return new BP(JSON.parse(c),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Te.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class pR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $e(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Te.Z)(function*(c,d){const g=it(c),y=Cv(g.It)+"/documents",E={documents:d.map(Y=>wv(g.It,Y))},x=yield g._o("BatchGetDocuments",y,E,d.length),S=new Map;x.forEach(Y=>{const se=function fk(n,e){return"found"in e?function(t,r){Ut(!!r.found);const o=Wa(t,r.found.name),c=pi(r.found.updateTime),d=new Yr({mapValue:{fields:r.found.fields}});return Fn.newFoundDocument(o,c,d)}(n,e):"missing"in e?function(t,r){Ut(!!r.missing),Ut(!!r.readTime);const o=Wa(t,r.missing),c=pi(r.readTime);return Fn.newNoDocument(o,c)}(n,e):_t()}(g.It,Y);S.set(se.key.toString(),se)});const z=[];return d.forEach(Y=>{const se=S.get(Y.toString());Ut(!!se),z.push(se)}),z}),function(c,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ha(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=rt.fromPath(o);e.mutations.push(new Ch(c,e.precondition(c)))}),yield(r=(0,Te.Z)(function*(o,c){const d=it(o),g=Cv(d.It)+"/documents",y={writes:c.map(E=>Ev(d.It,E))};yield d.ao("Commit",g,y)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new $e(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pt.min())?He.exists(!1):He.updateTime(t):He.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new $e(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return He.updateTime(t)}return He.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gR{constructor(e,t,r,o,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=c,this.kc=r.maxAttempts,this.No=new aT(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Te.Z)(function*(){const t=new pR(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.Fc(c)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!Ua(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!jS(t)}return!1}}class mR{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ur.UNAUTHENTICATED,this.clientId=Zy.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Te.Z)(function*(g){Ze("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ze("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=zg(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function M1(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Te.Z)(function*(c){r.isEqual(c)||(yield BA(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),aM.apply(this,arguments)}function S1(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lM(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>r1(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,c)=>r1(e.remoteStore,c)),n.onlineComponents=e}),cM.apply(this,arguments)}function lM(n){return uM.apply(this,arguments)}function uM(){return uM=(0,Te.Z)(function*(n){return n.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield M1(n,new m1)),n.offlineComponents}),uM.apply(this,arguments)}function bE(n){return dM.apply(this,arguments)}function dM(){return dM=(0,Te.Z)(function*(n){return n.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield S1(n,new iM)),n.onlineComponents}),dM.apply(this,arguments)}function A1(n){return lM(n).then(e=>e.persistence)}function wE(n){return lM(n).then(e=>e.localStore)}function hM(n){return bE(n).then(e=>e.remoteStore)}function fM(n){return bE(n).then(e=>e.syncEngine)}function Zg(n){return pM.apply(this,arguments)}function pM(){return pM=(0,Te.Z)(function*(n){const e=yield bE(n),t=e.eventManager;return t.onListen=GP.bind(null,e.syncEngine),t.onUnlisten=WP.bind(null,e.syncEngine),t}),pM.apply(this,arguments)}function k1(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(o,c,d,g,y){const E=new vE({next:S=>{c.enqueueAndForget(()=>ST(o,x));const z=S.docs.has(d);!z&&S.fromCache?y.reject(new $e(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&S.fromCache&&g&&"server"===g.source?y.reject(new $e(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),x=new kT(bh(d.path),E,{includeMetadataChanges:!0,ku:!0});return TT(o,x)}(yield Zg(n),n.asyncQueue,e,t,r)})),r.promise}function P1(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(o,c,d,g,y){const E=new vE({next:S=>{c.enqueueAndForget(()=>ST(o,x)),S.fromCache&&"server"===g.source?y.reject(new $e(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),x=new kT(d,E,{includeMetadataChanges:!0,ku:!0});return TT(o,x)}(yield Zg(n),n.asyncQueue,e,t,r)})),r.promise}class IR{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new aT(this,"async_queue_retry"),this.Wc=()=>{const t=pE();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=pE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=pE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Kr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Js(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=xT.createAndSchedule(this,e,t,r,c=>this.Yc(c));return this.qc.push(o),o}zc(){this.Kc&&_t()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function gM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class DR{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ur extends Nv{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new IR,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||R1(this),this._firestoreClient.terminate()}}function TR(n,e){const t="object"==typeof n?n:(0,Bs.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,Bs._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=(0,mn.P0)("firestore");c&&I1(o,...c)}return o}function jr(n){return n._firestoreClient||R1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function R1(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new WC(n._databaseId,c,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var c,g;n._firestoreClient=new mR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function N1(n,e,t){const r=new Kr;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield M1(n,t),yield S1(n,e),r.resolve()}catch(o){const c=o;if(!("FirebaseError"===(d=c).name?d.code===ye.FAILED_PRECONDITION||d.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw c;Fa("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var d})).then(()=>r.promise)}function F1(n){if(n._initialized||n._terminated)throw new $e(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ka(Br.fromBase64String(e))}catch(t){throw new $e(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ka(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $e(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class CE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const FR=/^__.*__$/;class LR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $o(e,this.data,this.fieldMask,t,this.fieldTransforms):new za(e,this.data,t,this.fieldTransforms)}}class L1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $o(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function V1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class EE{constructor(e,t,r,o,c,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new EE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.ua(e),o}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return xE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(V1(this.sa)&&FR.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class VR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||kv(e)}da(e,t,r,o=!1){return new EE({sa:e,methodName:t,fa:r,path:wr.emptyPath(),oa:!1,la:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function kh(n){const e=n._freezeSettings(),t=kv(n._databaseId);return new VR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IE(n,e,t,r,o,c={}){const d=n.da(c.merge||c.mergeFields?2:0,e,t,o);vM("Data must be an object, but it was:",d,r);const g=j1(r,d);let y,E;if(c.merge)y=new ho(d.fieldMask),E=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const S of c.mergeFields){const z=bM(e,S,t);if(!d.contains(z))throw new $e(ye.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);z1(x,z)||x.push(z)}y=new ho(x),E=d.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,E=d.fieldTransforms;return new LR(new Yr(g),y,E)}class Fv extends Oh{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fv}}function U1(n,e,t){return new EE({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class mM extends Oh{_toFieldTransform(e){return new ie(e.path,new f)}isEqual(e){return e instanceof mM}}class UR extends Oh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=U1(this,e,!0),r=this._a.map(c=>Ph(c,t)),o=new _(r);return new ie(e.path,o)}isEqual(e){return this===e}}class BR extends Oh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=U1(this,e,!0),r=this._a.map(c=>Ph(c,t)),o=new C(r);return new ie(e.path,o)}isEqual(e){return this===e}}class jR extends Oh{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new M(e.It,i(e.It,this.wa));return new ie(e.path,t)}isEqual(e){return this===e}}function _M(n,e,t,r){const o=n.da(1,e,t);vM("Data must be an object, but it was:",o,r);const c=[],d=Yr.empty();wi(r,(y,E)=>{const x=DE(e,y,t);E=(0,mn.m9)(E);const S=o.ca(x);if(E instanceof Fv)c.push(x);else{const z=Ph(E,S);null!=z&&(c.push(x),d.set(x,z))}});const g=new ho(c);return new L1(d,g,o.fieldTransforms)}function yM(n,e,t,r,o,c){const d=n.da(1,e,t),g=[bM(e,r,t)],y=[o];if(c.length%2!=0)throw new $e(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<c.length;z+=2)g.push(bM(e,c[z])),y.push(c[z+1]);const E=[],x=Yr.empty();for(let z=g.length-1;z>=0;--z)if(!z1(E,g[z])){const Y=g[z];let se=y[z];se=(0,mn.m9)(se);const Ne=d.ca(Y);if(se instanceof Fv)E.push(Y);else{const Ue=Ph(se,Ne);null!=Ue&&(E.push(Y),x.set(Y,Ue))}}const S=new ho(E);return new L1(x,S,d.fieldTransforms)}function B1(n,e,t,r=!1){return Ph(t,n.da(r?4:3,e))}function Ph(n,e){if($1(n=(0,mn.m9)(n)))return vM("Unsupported field value:",e,n),j1(n,e);if(n instanceof Oh)return function(t,r){if(!V1(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const d of t){let g=Ph(d,r.aa(c));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return i(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=nr.fromDate(t);return{timestampValue:bv(r.It,o)}}if(t instanceof nr){const o=new nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bv(r.It,o)}}if(t instanceof CE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ka)return{bytesValue:QS(r.It,t._byteString)};if(t instanceof lr){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Lx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${_E(t)}`)}(n,e)}function j1(n,e){const t={};return $C(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wi(n,(r,o)=>{const c=Ph(o,e.ra(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function $1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof CE||n instanceof Ka||n instanceof lr||n instanceof Oh)}function vM(n,e,t){if(!$1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_E(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function bM(n,e,t){if((e=(0,mn.m9)(e))instanceof Jc)return e._internalPath;if("string"==typeof e)return DE(n,e);throw xE("Field path arguments must be of type string or ",n,!1,void 0,t)}const $R=new RegExp("[~\\*/\\[\\]]");function DE(n,e,t){if(e.search($R)>=0)throw xE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jc(...e.split("."))._internalPath}catch{throw xE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xE(n,e,t,r,o){const c=r&&!r.isEmpty(),d=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new $e(ye.INVALID_ARGUMENT,g+n+y)}function z1(n,e){return n.some(t=>t.isEqual(e))}class Lv{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zR extends Lv{data(){return super.data()}}function TE(n,e){return"string"==typeof e?DE(n,e):e instanceof Jc?e._internalPath:e._delegate._internalPath}function H1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{}function wu(n,...e){for(const t of e)n=t._apply(n);return n}class HR extends Vv{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=kh(e.firestore),r=function(o,c,d,g,y,E,x){let S;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new $e(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){Y1(x,E);const Y=[];for(const se of x)Y.push(K1(g,o,se));S={arrayValue:{values:Y}}}else S=K1(g,o,x)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||Y1(x,E),S=B1(d,"where",x,"in"===E||"not-in"===E);const z=ai.create(y,E,S);return function(Y,se){if(se.dt()){const Ue=dv(Y);if(null!==Ue&&!Ue.isEqual(se.field))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ue.toString()}' and '${se.field.toString()}'`);const Mt=uv(Y);null!==Mt&&Q1(0,se.field,Mt)}const Ne=function(Ue,Mt){for(const St of Ue.filters)if(Mt.indexOf(St.op)>=0)return St.op;return null}(Y,function(Ue){switch(Ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==Ne)throw new $e(ye.INVALID_ARGUMENT,Ne===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${Ne.toString()}' filters.`)}(o,z),z}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Oi(e.firestore,e.converter,function(o,c){const d=o.filters.concat([c]);return new na(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class WR extends Vv{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new $e(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new $e(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new ja(o,c);return function(g,y){if(null===uv(g)){const E=dv(g);null!==E&&Q1(0,E,y.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Oi(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new na(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class G1 extends Vv{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Oi(e.firestore,e.converter,fv(e._query,this.Ia,this.Ta))}}class W1 extends Vv{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=q1(e,this.type,this.Ea,this.Aa);return new Oi(e.firestore,e.converter,(o=t,new na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Z1 extends Vv{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=q1(e,this.type,this.Ea,this.Aa);return new Oi(e.firestore,e.converter,(o=t,new na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function q1(n,e,t,r){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof Lv)return function(o,c,d,g,y){if(!g)throw new $e(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const x of wh(o))if(x.field.isKeyField())E.push(Kc(c,g.key));else{const S=g.data.field(x.field);if(Cg(S))throw new $e(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const z=x.field.canonicalString();throw new $e(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}E.push(S)}return new ta(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=kh(n.firestore);return function(c,d,g,y,E,x){const S=c.explicitOrderBy;if(E.length>S.length)throw new $e(ye.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let Y=0;Y<E.length;Y++){const se=E[Y];if(S[Y].field.isKeyField()){if("string"!=typeof se)throw new $e(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof se}`);if(!hv(c)&&-1!==se.indexOf("/"))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${se}' contains a slash.`);const Ne=c.path.child(vn.fromString(se));if(!rt.isDocumentKey(Ne))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Ue=new rt(Ne);z.push(Kc(d,Ue))}else{const Ne=B1(g,y,se);z.push(Ne)}}return new ta(z,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function K1(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new $e(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hv(e)&&-1!==t.indexOf("/"))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vn.fromString(t));if(!rt.isDocumentKey(r))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kc(n,new rt(r))}if(t instanceof lr)return Kc(n,t._key);throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_E(t)}.`)}function Y1(n,e){if(!Array.isArray(n)||0===n.length)throw new $e(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new $e(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Q1(n,e,t){if(!t.isEqual(e))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class wM{convertValue(e,t="none"){switch(Zc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){const r={};return wi(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new CE(rr(e.latitude),rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ev(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const t=Wc(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vn.fromString(e);Ut(sA(r));const o=new jo(r.get(1),r.get(3)),c=new rt(r.popFirst(5));return o.isEqual(t)||Mr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function ME(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class eN extends wM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}class Rh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xc extends Lv{constructor(e,t,r,o,c,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(TE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Uv extends Xc{data(e={}){return super.data(e)}}class Cu{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Rh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Uv(this._firestore,this._userDataWriter,r.key,r,new Rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Uv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Rh(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const g=new Uv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Rh(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==d.type&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),E=c.indexOf(d.doc.key)),{type:tN(d.type),doc:g,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function J1(n,e){return n instanceof Xc&&e instanceof Xc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cu&&e instanceof Cu&&n._firestore===e._firestore&&sM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Eu extends wM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function X1(n,e,t){n=_n(n,lr);const r=_n(n.firestore,ur),o=ME(n.converter,e,t);return qg(r,[IE(kh(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,He.none())])}function eO(n,e,t,...r){n=_n(n,lr);const o=_n(n.firestore,ur),c=kh(o);let d;return d="string"==typeof(e=(0,mn.m9)(e))||e instanceof Jc?yM(c,"updateDoc",n._key,e,t,r):_M(c,"updateDoc",n._key,e),qg(o,[d.toMutation(n._key,He.exists(!0))])}function tO(n,...e){var t,r,o;n=(0,mn.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||gM(e[d])||(c=e[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges};if(gM(e[d])){const S=e[d];e[d]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[d+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[d+2]=null===(o=S.complete)||void 0===o?void 0:o.bind(S)}let y,E,x;if(n instanceof lr)E=_n(n.firestore,ur),x=bh(n._key.path),y={next:S=>{e[d]&&e[d](CM(E,n,S))},error:e[d+1],complete:e[d+2]};else{const S=_n(n,Oi);E=_n(S.firestore,ur),x=S._query;const z=new Eu(E);y={next:Y=>{e[d]&&e[d](new Cu(E,z,S,Y))},error:e[d+1],complete:e[d+2]},H1(n._query)}return function(S,z,Y,se){const Ne=new vE(se),Ue=new kT(z,Ne,Y);return S.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return TT(yield Zg(S),Ue)})),()=>{Ne.bc(),S.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return ST(yield Zg(S),Ue)}))}}(jr(E),x,g,y)}function qg(n,e){return function(t,r){const o=new Kr;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function ZP(n,e,t){return LT.apply(this,arguments)}(yield fM(t),r,o)})),o.promise}(jr(n),e)}function CM(n,e,t){const r=t.docs.get(e._key),o=new Eu(n);return new Xc(n,o,e._key,r,new Rh(t.hasPendingWrites,t.fromCache),e.converter)}const dN={maxAttempts:5};class nO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kh(e)}set(e,t,r){this._verifyNotCommitted();const o=Iu(e,this._firestore),c=ME(o.converter,t,r),d=IE(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,He.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Iu(e,this._firestore);let d;return d="string"==typeof(t=(0,mn.m9)(t))||t instanceof Jc?yM(this._dataReader,"WriteBatch.update",c._key,t,r,o):_M(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,He.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Iu(e,this._firestore);return this._mutations=this._mutations.concat(new Ha(t._key,He.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iu(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new $e(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class hN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=kh(e)}get(e){const t=Iu(e,this._firestore),r=new eN(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return _t();const c=o[0];if(c.isFoundDocument())return new Lv(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Lv(this._firestore,r,t._key,null,t.converter);throw _t()})}set(e,t,r){const o=Iu(e,this._firestore),c=ME(o.converter,t,r),d=IE(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const c=Iu(e,this._firestore);let d;return d="string"==typeof(t=(0,mn.m9)(t))||t instanceof Jc?yM(this._dataReader,"Transaction.update",c._key,t,r,o):_M(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,d),this}delete(e){const t=Iu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Iu(e,this._firestore),r=new Eu(this._firestore);return super.get(e).then(o=>new Xc(this._firestore,r,t._key,o._document,new Rh(!1,!1),t.converter))}}function EM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iO(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function oO(){if(!function HC(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){zc=Bs.SDK_VERSION,(0,Bs._registerComponent)(new Yf.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const c=t.getProvider("app").getImmediate(),d=new ur(new _g(t.getProvider("auth-internal")),new Wy(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new $e(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(g.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Bs.registerVersion)(OC,"3.7.0",n),(0,Bs.registerVersion)(OC,"3.7.0","esm2017")}();class Bv{constructor(e){this._delegate=e}static fromBase64String(e){return oO(),new Bv(Ka.fromBase64String(e))}static fromUint8Array(e){return iO(),new Bv(Ka.fromUint8Array(e))}toBase64(){return oO(),this._delegate.toBase64()}toUint8Array(){return iO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IM(n){return function wN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class CN{enableIndexedDbPersistence(e,t){return function MR(n,e){F1(n=_n(n,ur));const t=jr(n),r=n._freezeSettings(),o=new iM;return N1(t,o,new _1(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function SR(n){F1(n=_n(n,ur));const e=jr(n),t=n._freezeSettings(),r=new iM;return N1(e,r,new lR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function AR(n){if(n._initialized&&!n._terminated)throw new $e(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!uo.C())return Promise.resolve();const o=r+"main";yield uo.delete(o)}),function(r){return t.apply(this,arguments)})(Qx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class sO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof jo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){I1(this._delegate,e,t,r)}enableNetwork(){return function kR(n){return function _R(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield A1(n),t=yield hM(n);return e.setNetworkEnabled(!0),function(r){const o=it(r);return o.wu.delete(0),Pv(o)}(t)}))}(jr(n=_n(n,ur)))}(this._delegate)}disableNetwork(){return function PR(n){return function yR(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield A1(n),t=yield hM(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(o){const c=it(o);c.wu.add(0),yield Bg(c),c.yu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(jr(n=_n(n,ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,y1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function OR(n){return function(e){const t=new Kr;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function QP(n,e){return $T.apply(this,arguments)}(yield fM(e),t)})),t.promise}(jr(n=_n(n,ur)))}(this._delegate)}onSnapshotsInSync(e){return function uN(n,e){return function wR(n,e){const t=new vE(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Zg(n),o=t,it(r).bu.add(o),void o.next();var r,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Zg(n),o=t,void it(r).bu.delete(o);var r,o}))}}(jr(n=_n(n,ur)),gM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kg(this,D1(this._delegate,e))}catch(t){throw Zi(t,"collection()","Firestore.collection()")}}doc(e){try{return new ps(this,yE(this._delegate,e))}catch(t){throw Zi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qi(this,function uR(n,e){if(n=_n(n,Nv),oM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(n,null,(t=e,new na(vn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Zi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function fN(n,e,t){n=_n(n,ur);const r=Object.assign(Object.assign({},dN),t);return function(o){if(o.maxAttempts<1)throw new $e(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,c,d){const g=new Kr;return o.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const y=yield function O1(n){return bE(n).then(e=>e.datastore)}(o);new gR(o.asyncQueue,y,d,c,g).run()})),g.promise}(jr(n),o=>e(new hN(n,o)),r)}(this._delegate,t=>e(new aO(this,t)))}batch(){return jr(this._delegate),new cO(new nO(this._delegate,e=>qg(this._delegate,e)))}loadBundle(e){return function RR(n,e){const t=jr(n=_n(n,ur)),r=new DR;return function CR(n,e,t,r){const o=function(c,d){let g;return g="string"==typeof c?(new TextEncoder).encode(c):c,y=function(y,E){if(y instanceof Uint8Array)return T1(y,E);if(y instanceof ArrayBuffer)return T1(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new dR(y,d);var y}(t,kv(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function cR(n,e,t){const r=it(n);var o;(o=(0,Te.Z)(function*(c,d,g){try{const y=yield d.getMetadata();if(yield function(z,Y){const se=it(z),Ne=pi(Y.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",Ue=>se.Ns.getBundleMetadata(Ue,Y.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Ne)>=0)}(c.localStore,y))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(z=y).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);g._updateProgress(a1(y));const E=new jP(y,c.localStore,d.It);let x=yield d.mc();for(;x;){const z=yield E.Fu(x);z&&g._updateProgress(z),x=yield d.mc()}const S=yield E.complete();return yield Qc(c,S.Lu,void 0),yield function(z,Y){const se=it(z);return se.persistence.runTransaction("Save bundle","readwrite",Ne=>se.Ns.saveBundleMetadata(Ne,Y))}(c.localStore,y),g._completeWith(S.progress),Promise.resolve(S.Bu)}catch(y){return Fa("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var z}),function(c,d,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield fM(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function NR(n,e){return function ER(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const o=it(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Ns.getNamedQuery(c,r))}(yield wE(n),e)}))}(jr(n=_n(n,ur)),e).then(t=>t?new Oi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new qi(this,t):null)}}class SE extends wM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bv(new Ka(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ps.forKey(t,this.firestore,null)}}class aO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}get(e){const t=Fh(e);return this._delegate.get(t).then(r=>new jv(this._firestore,new Xc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Fh(e);return r?(EM("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Fh(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Fh(e);return this._delegate.delete(t),this}}class cO{constructor(e){this._delegate=e}set(e,t,r){const o=Fh(e);return r?(EM("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Fh(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Fh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Nh{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Uv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $v(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Nh.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new Nh(e,new SE(e),t),o.set(t,c)),c}}Nh.INSTANCES=new WeakMap;class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ps(t,new lr(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new ps(t,new lr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Kg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kg(this.firestore,D1(this._delegate,e))}catch(t){throw Zi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof lr&&x1(this._delegate,e)}set(e,t){t=EM("DocumentReference.set",t);try{return t?X1(this._delegate,e,t):X1(this._delegate,e)}catch(r){throw Zi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?eO(this._delegate,e):eO(this._delegate,e,t,...r)}catch(o){throw Zi(o,"updateDoc()","DocumentReference.update()")}}delete(){return function cN(n){return qg(_n(n.firestore,ur),[new Ha(n._key,He.none())])}(this._delegate)}onSnapshot(...e){const t=lO(e),r=uO(e,o=>new jv(this.firestore,new Xc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return tO(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function rN(n){n=_n(n,lr);const e=_n(n.firestore,ur),t=jr(e),r=new Eu(e);return function vR(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(o,c,d){try{const g=yield function(y,E){const x=it(y);return x.persistence.runTransaction("read document","readonly",S=>x.localDocuments.getDocument(S,E))}(o,c);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new $e(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=zg(g,`Failed to get document '${c} from cache`);d.reject(y)}}),function(o,c,d){return r.apply(this,arguments)})(yield wE(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Xc(e,r,n._key,o,new Rh(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function iN(n){n=_n(n,lr);const e=_n(n.firestore,ur);return k1(jr(e),n._key,{source:"server"}).then(t=>CM(e,n,t))}(this._delegate):function nN(n){n=_n(n,lr);const e=_n(n.firestore,ur);return k1(jr(e),n._key).then(t=>CM(e,n,t))}(this._delegate),t.then(r=>new jv(this.firestore,new Xc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?Nh.getInstance(this.firestore,e):null))}}function Zi(n,e,t){return n.message=n.message.replace(e,t),n}function lO(n){for(const e of n)if("object"==typeof e&&!IM(e))return e;return{}}function uO(n,e){var t,r;let o;return o=IM(n[0])?n[0]:IM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class jv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ps(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return J1(this._delegate,e._delegate)}}class $v extends jv{data(e){const t=this._delegate.data(e);return function FS(n,e){n||_t()}(void 0!==t),t}}class qi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}where(e,t,r){try{return new qi(this.firestore,wu(this._delegate,function GR(n,e,t){const r=e,o=TE("where",n);return new HR(o,r,t)}(e,t,r)))}catch(o){throw Zi(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qi(this.firestore,wu(this._delegate,function ZR(n,e="asc"){const t=e,r=TE("orderBy",n);return new WR(r,t)}(e,t)))}catch(r){throw Zi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qi(this.firestore,wu(this._delegate,function qR(n){return w1("limit",n),new G1("limit",n,"F")}(e)))}catch(t){throw Zi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qi(this.firestore,wu(this._delegate,function KR(n){return w1("limitToLast",n),new G1("limitToLast",n,"L")}(e)))}catch(t){throw Zi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qi(this.firestore,wu(this._delegate,function YR(...n){return new W1("startAt",n,!0)}(...e)))}catch(t){throw Zi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qi(this.firestore,wu(this._delegate,function QR(...n){return new W1("startAfter",n,!1)}(...e)))}catch(t){throw Zi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qi(this.firestore,wu(this._delegate,function JR(...n){return new Z1("endBefore",n,!1)}(...e)))}catch(t){throw Zi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qi(this.firestore,wu(this._delegate,function XR(...n){return new Z1("endAt",n,!0)}(...e)))}catch(t){throw Zi(t,"endAt()","Query.endAt()")}}isEqual(e){return sM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function sN(n){n=_n(n,Oi);const e=_n(n.firestore,ur),t=jr(e),r=new Eu(e);return function bR(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(o,c,d){try{const g=yield dE(o,c,!0),y=new u1(c,g.Hi),E=y.Wu(g.documents),x=y.applyChanges(E,!1);d.resolve(x.snapshot)}catch(g){const y=zg(g,`Failed to execute query '${c} against cache`);d.reject(y)}}),function(o,c,d){return r.apply(this,arguments)})(yield wE(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Cu(e,r,n,o))}(this._delegate):"server"===e?.source?function aN(n){n=_n(n,Oi);const e=_n(n.firestore,ur),t=jr(e),r=new Eu(e);return P1(t,n._query,{source:"server"}).then(o=>new Cu(e,r,n,o))}(this._delegate):function oN(n){n=_n(n,Oi);const e=_n(n.firestore,ur),t=jr(e),r=new Eu(e);return H1(n._query),P1(t,n._query).then(o=>new Cu(e,r,n,o))}(this._delegate),t.then(r=>new DM(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=lO(e),r=uO(e,o=>new DM(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return tO(this._delegate,t,r)}withConverter(e){return new qi(this.firestore,this._delegate.withConverter(e?Nh.getInstance(this.firestore,e):null))}}class IN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $v(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $v(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new IN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $v(this._firestore,r))})}isEqual(e){return J1(this._delegate,e._delegate)}}class Kg extends qi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ps(this.firestore,e):null}doc(e){try{return new ps(this.firestore,void 0===e?yE(this._delegate):yE(this._delegate,e))}catch(t){throw Zi(t,"doc()","CollectionReference.doc()")}}add(e){return function lN(n,e){const t=_n(n.firestore,ur),r=yE(n),o=ME(n.converter,e);return qg(t,[IE(kh(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,He.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ps(this.firestore,t))}isEqual(e){return x1(this._delegate,e._delegate)}withConverter(e){return new Kg(this.firestore,this._delegate.withConverter(e?Nh.getInstance(this.firestore,e):null))}}function Fh(n){return _n(n,lr)}class xM{constructor(...e){this._delegate=new Jc(...e)}static documentId(){return new xM(wr.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof Jc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function gN(){return new mM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Lh(e)}static delete(){const e=function pN(){return new Fv("deleteField")}();return e._methodName="FieldValue.delete",new Lh(e)}static arrayUnion(...e){const t=function mN(...n){return new UR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Lh(t)}static arrayRemove(...e){const t=function _N(...n){return new BR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Lh(t)}static increment(e){const t=function yN(n){return new jR("increment",n)}(e);return t._methodName="FieldValue.increment",new Lh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const DN={Firestore:sO,GeoPoint:CE,Timestamp:nr,Blob:Bv,Transaction:aO,WriteBatch:cO,DocumentReference:ps,DocumentSnapshot:jv,Query:qi,QueryDocumentSnapshot:$v,QuerySnapshot:DM,CollectionReference:Kg,FieldPath:xM,FieldValue:Lh,setLogLevel:function EN(n){!function gx(n){Qs.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function dO(n,e){return function MN(n,e=ey.z){return new xr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function TM(n,e){return dO(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function AE(n,e){return TM(n,e).pipe(Ao(void 0),Hd(),(0,mt.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const y=o.find(x=>x.doc.ref.isEqual(d.ref)),E=t?.payload.docs.find(x=>x.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),c}))}function hO(n,e,t){return AE(n,t).pipe(ma((r,o)=>function AN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ON(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return MM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return MM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return MM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),VD(),(0,mt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function MM(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function fO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function TN(n){(function xN(n,e){n.INTERNAL.registerComponent(new Yf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},DN)))})(n,(e,t)=>new sO(e,t,new CN)),n.registerVersion("@firebase/firestore-compat","0.2.0")}(UD.Z);class pO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=AE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ao(void 0),Hd(),Jr(([r,o])=>o.length>0||!r),(0,mt.U)(([r,o])=>o),Ft.iC)}auditTrail(e){return this.stateChanges(e).pipe(ma((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fO(e);return hO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ft.iC)}valueChanges(e={}){return TM(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ft.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(Ft.iC)}add(e){return this.ref.add(e)}doc(e){return new gO(this.ref.doc(e),this.afs)}}class gO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=mO(r,t);return new pO(o,c,this.afs)}snapshotChanges(){return function SN(n,e){return dO(n,e).pipe(Ao(void 0),Hd(),(0,mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ft.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Mn.D)(this.ref.get(e)).pipe(Ft.iC)}}class kN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?AE(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Jr(t=>t.length>0),Ft.iC):AE(this.query,this.afs.schedulers.outsideAngular).pipe(Ft.iC)}auditTrail(e){return this.stateChanges(e).pipe(ma((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fO(e);return hO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ft.iC)}valueChanges(e={}){return TM(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ft.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(Ft.iC)}}const PN=new u.OlP("angularfire2.enableFirestorePersistence"),RN=new u.OlP("angularfire2.firestore.persistenceSettings"),NN=new u.OlP("angularfire2.firestore.settings"),FN=new u.OlP("angularfire2.firestore.use-emulator");function mO(n,e=(t=>t)){return{query:e(n),ref:n}}let LN=(()=>{class n{constructor(t,r,o,c,d,g,y,E,x,S,z,Y,se,Ne,Ue,Mt,St){this.schedulers=y;const Qt=(0,Fo.on)(t,g,r),Jt=x;S&&Ad(Qt,g,z,se,Ne,Ue,Y,Mt),[this.firestore,this.persistenceEnabled$]=(0,Fo.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const Kt=g.runOutsideAngular(()=>Qt.firestore());if(c&&Kt.settings(c),Jt&&Kt.useEmulator(...Jt),o&&!yo(d)){const ln=()=>{try{return(0,Mn.D)(Kt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(ci){return typeof console<"u"&&console.warn(ci),pt(!1)}};return[Kt,g.runOutsideAngular(ln)]}return[Kt,pt(!1)]},[c,Jt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:d}=mO(o,r),g=this.schedulers.ngZone.run(()=>c);return new pO(g,d,this)}collectionGroup(t,r){const o=r||(d=>d),c=this.firestore.collectionGroup(t);return new kN(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new gO(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fo.Dh),u.LFG(Fo.xv,8),u.LFG(PN,8),u.LFG(NN,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ft.HU),u.LFG(RN,8),u.LFG(FN,8),u.LFG(Sb,8),u.LFG(xb,8),u.LFG(fp,8),u.LFG(Tb,8),u.LFG(Mb,8),u.LFG(Sd,8),u.LFG(pp,8),u.LFG(Md,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VN=(()=>{class n{constructor(t){this.afs=t}addProduct(t){return t.id=this.afs.createId(),this.afs.collection("/BrightMoonProducts").add(t)}getAllProducts(){return this.afs.collection("/BrightMoonProducts").snapshotChanges()}deleteProduct(t){return this.afs.doc("/BrightMoonProducts"+t.id).delete()}updateProduct(t){this.deleteProduct(t),this.addProduct(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(LN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_O=(()=>{class n{constructor(){this.showDialog=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-ledbar"]],decls:1,vars:0,consts:[[1,"gradient-top-line"]],template:function(t,r){1&t&&u._UZ(0,"div",0)},styles:[".gradient-top-line[_ngcontent-%COMP%]{background:linear-gradient(90.42deg,#FF3535,#6691FF,#FF3535,#6691FF);animation:gradient 10s ease infinite;background-size:200% 200%;height:15px;margin:0;padding:0}@media screen and (max-width: 1023px){.gradient-top-line[_ngcontent-%COMP%]{height:12px}}@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]}),n})();function UN(n,e){if(1&n&&(u.TgZ(0,"div",2)(1,"div",3)(2,"div",4),u._UZ(3,"img",5),u.TgZ(4,"p",6),u._uU(5),u.qZA()(),u.TgZ(6,"div",7)(7,"div",8)(8,"a",9),u._UZ(9,"img",10),u.TgZ(10,"p",11),u._uU(11),u.qZA()()(),u.TgZ(12,"div",8)(13,"a",9),u._UZ(14,"img",10),u.TgZ(15,"p",11),u._uU(16),u.qZA()()(),u.TgZ(17,"div",8)(18,"a",9),u._UZ(19,"img",10),u.TgZ(20,"p",11),u._uU(21),u.qZA()()(),u.TgZ(22,"div",8)(23,"a",9),u._UZ(24,"img",10),u.TgZ(25,"p",11),u._uU(26),u.qZA()()(),u.TgZ(27,"div",8)(28,"a",9),u._UZ(29,"img",10),u.TgZ(30,"p",11),u._uU(31),u.qZA()()()()()()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(3),u.Q6J("src",r.logo,u.LSH),u.xp6(2),u.hij(" ",t.navbarLogo," "),u.xp6(4),u.Q6J("src",r.dashboard,u.LSH),u.xp6(2),u.hij(" ",t.navbarDashboard," "),u.xp6(3),u.Q6J("src",r.user,u.LSH),u.xp6(2),u.hij(" ",t.navbarClients," "),u.xp6(3),u.Q6J("src",r.analitycs,u.LSH),u.xp6(2),u.hij(" ",t.navbarProducts," "),u.xp6(3),u.Q6J("src",r.analitycs,u.LSH),u.xp6(2),u.hij(" ",t.navbarAnalitycs," "),u.xp6(3),u.Q6J("src",r.settings,u.LSH),u.xp6(2),u.hij(" ",t.navbarSettings," ")}}let BN=(()=>{class n{constructor(){this.logo="assets/images/logo.png",this.analitycs="assets/images/navbar-icons/analitycs.png",this.settings="assets/images/navbar-icons/settings.png",this.user="assets/images/navbar-icons/user.png",this.products="assets/images/navbar-icons/Frame3.png",this.dashboard="assets/images/navbar-icons/Frame.png",this.navbartexts=LD}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:2,vars:1,consts:[[1,"navbar"],["class","navbar_container",4,"ngFor","ngForOf"],[1,"navbar_container"],[1,"navbar_container_base"],[1,"navbar_container_base_title"],[1,"navbar_container_base_title_icon",3,"src"],[1,"navbar_container_base_title_text"],[1,"navbar_container_base_items"],[1,"navbar_container_base_items_item"],["href","/dashboard"],[1,"navbar_container_base_items_item_icon",3,"src"],[1,"navbar_container_base_items_item_text"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,UN,32,12,"div",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.navbartexts))},dependencies:[Ci],styles:["@media screen and (min-width: 1024px){.navbar[_ngcontent-%COMP%]{width:100%;height:100%}.navbar_container[_ngcontent-%COMP%]{color:#fff;background:#212429;display:flex;justify-content:center;align-items:center;min-width:252px;max-width:252px;height:694px}.navbar_container_base[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.navbar_container_base_title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.navbar_container_base_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;color:#fff;margin:0!important}.navbar_container_base_items[_ngcontent-%COMP%]{margin-top:40px;text-align:left}.navbar_container_base_items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.navbar_container_base_items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:flex;justify-content:center;align-items:center;margin:0;text-align:left}.navbar_container_base_items_item[_ngcontent-%COMP%]{margin-top:40px;width:100%;max-width:200px;display:flex;justify-content:center;align-items:center;text-align:left;min-width:200px;text-decoration:none}.navbar_container_base_items_item_text[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:20px;line-height:24px;color:#fff;padding:10px}.navbar_container_base_items_item[_ngcontent-%COMP%]:hover{background:#1F1F1F}}@media screen and (max-width: 1023px){.navbar[_ngcontent-%COMP%]{display:none}.navbar_container[_ngcontent-%COMP%]{color:#fff;background:#212429}.navbar_container_base_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;color:#fff}.navbar_container_base_items_item_text[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:20px;line-height:24px;color:#fff}}"]}),n})(),jN=(()=>{class n{constructor(){this.sales="assets/images/sales-icon.png",this.expanses="assets/images/expanses-icon.png",this.income="assets/images/income-icon.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-analitycs"]],decls:48,vars:3,consts:[[1,"analitycs_block"],[1,"analitycs_block_image"],[3,"src"],[1,"analitycs_block_text"],[1,"analitycs_block_text_name"],[1,"analitycs_block_text_time"],[1,"analitycs_block_percent"],[1,"analitycs_block_number"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"p"),u._uU(6,"Online Orders"),u.qZA()(),u.TgZ(7,"div",5)(8,"p"),u._uU(9,"Last 24 Hours"),u.qZA()()(),u.TgZ(10,"div",6)(11,"p"),u._uU(12,"+21%"),u.qZA()(),u.TgZ(13,"div",7)(14,"p"),u._uU(15,"2078"),u.qZA()()(),u.TgZ(16,"div",0)(17,"div",1),u._UZ(18,"img",2),u.qZA(),u.TgZ(19,"div",3)(20,"div",4)(21,"p"),u._uU(22,"Online Orders"),u.qZA()(),u.TgZ(23,"div",5)(24,"p"),u._uU(25,"Last 24 Hours"),u.qZA()()(),u.TgZ(26,"div",6)(27,"p"),u._uU(28,"+21%"),u.qZA()(),u.TgZ(29,"div",7)(30,"p"),u._uU(31,"2078"),u.qZA()()(),u.TgZ(32,"div",0)(33,"div",1),u._UZ(34,"img",2),u.qZA(),u.TgZ(35,"div",3)(36,"div",4)(37,"p"),u._uU(38,"Online Orders"),u.qZA()(),u.TgZ(39,"div",5)(40,"p"),u._uU(41,"Last 24 Hours"),u.qZA()()(),u.TgZ(42,"div",6)(43,"p"),u._uU(44,"+21%"),u.qZA()(),u.TgZ(45,"div",7)(46,"p"),u._uU(47,"2078"),u.qZA()()()),2&t&&(u.xp6(2),u.Q6J("src",r.sales,u.LSH),u.xp6(16),u.Q6J("src",r.expanses,u.LSH),u.xp6(16),u.Q6J("src",r.income,u.LSH))},styles:["@media screen and (min-width: 1024px){.analitycs_block[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:80px;background:#212429;border-radius:27px;margin-bottom:20px;max-width:391px;min-width:391px}.analitycs_block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.analitycs_block_image[_ngcontent-%COMP%]{width:50%;margin-left:20px}.analitycs_block_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:16px;line-height:19px;color:#fff;width:100%;min-width:150px;max-width:150px}.analitycs_block_text_time[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:15px;line-height:18px;color:#ffffffab}.analitycs_block_percent[_ngcontent-%COMP%]{width:40%;color:#5affb0;font-style:normal;font-weight:600;font-size:15px;line-height:18px}.analitycs_block_number[_ngcontent-%COMP%]{width:30%;color:#fff;margin:0}}@media screen and (max-width: 1023px){.analitycs_block[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:auto;background:#212429;border-radius:27px;margin-bottom:20px;width:100%;max-width:300px;height:80px;min-width:300px}.analitycs_block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.analitycs_block_image[_ngcontent-%COMP%]{width:50%;margin-left:20px}.analitycs_block_text[_ngcontent-%COMP%]{width:100%}.analitycs_block_text_time[_ngcontent-%COMP%]{font-size:15px;font-weight:400}.analitycs_block_percent[_ngcontent-%COMP%]{width:40%;color:#5affb0;font-style:normal;font-weight:600;font-size:15px;line-height:18px}.analitycs_block_number[_ngcontent-%COMP%]{width:30%;margin-right:10px}}"]}),n})(),$N=(()=>{class n{constructor(){this.customer="assets/images/customer-picture.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-updates"]],decls:36,vars:3,consts:[[1,"updates"],[1,"updates_image"],[1,"updates_image_img",3,"src"],[1,"updates_text"],[1,"updates_text_user"],[1,"updates_text_user_name"],[1,"updates_text_user_information"],[1,"updates_text_time"],[1,"updates_text_time_text"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Alexandr Luke"),u.qZA(),u.TgZ(7,"p",6),u._uU(8," received his order of Macbook "),u.qZA()(),u.TgZ(9,"div",7)(10,"p",8),u._uU(11,"2 minutes ago."),u.qZA()()()(),u.TgZ(12,"div",0)(13,"div",1),u._UZ(14,"img",2),u.qZA(),u.TgZ(15,"div",3)(16,"div",4)(17,"h1",5),u._uU(18,"Alexandr Luke"),u.qZA(),u.TgZ(19,"p",6),u._uU(20," received his order of Macbook "),u.qZA()(),u.TgZ(21,"div",7)(22,"p",8),u._uU(23,"2 minutes ago."),u.qZA()()()(),u.TgZ(24,"div",0)(25,"div",1),u._UZ(26,"img",2),u.qZA(),u.TgZ(27,"div",3)(28,"div",4)(29,"h1",5),u._uU(30,"Alexandr Luke"),u.qZA(),u.TgZ(31,"p",6),u._uU(32," received his order of Macbook "),u.qZA()(),u.TgZ(33,"div",7)(34,"p",8),u._uU(35,"2 minutes ago."),u.qZA()()()()),2&t&&(u.xp6(2),u.Q6J("src",r.customer,u.LSH),u.xp6(12),u.Q6J("src",r.customer,u.LSH),u.xp6(12),u.Q6J("src",r.customer,u.LSH))},styles:["@media screen and (max-width: 1023px){.updates[_ngcontent-%COMP%]{margin-top:-10px;max-width:391px;min-width:391px;display:flex;justify-content:center;align-items:center;width:100%;height:auto;line-height:.5}.updates_image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:20px}.updates_text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;height:100%;flex-wrap:wrap;margin-left:30px;margin-top:30px}.updates_text_user[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;flex-wrap:wrap;height:50px}.updates_text_user_image[_ngcontent-%COMP%]{width:50px}.updates_text_user_name[_ngcontent-%COMP%]{width:100%;min-width:300px;max-width:200px;margin-right:2px;font-style:normal;font-weight:700;font-size:14px;line-height:.5;color:#fff}.updates_text_user_information[_ngcontent-%COMP%]{width:100%;font-style:normal;font-weight:400;font-size:14px;color:#fff}.updates_text_time[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:1px!important}.updates_text_time_text[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:10px;line-height:12px;color:#686868}}@media screen and (min-width: 1024px){.updates[_ngcontent-%COMP%]{margin-bottom:0;max-width:391px;min-width:391px;display:flex;justify-content:center;align-items:center;width:100%;height:auto;line-height:.5}.updates_image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:20px}.updates_text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;height:100%;flex-wrap:wrap;margin-left:30px;margin-top:30px}.updates_text_user[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;flex-wrap:wrap;height:50px}.updates_text_user_image[_ngcontent-%COMP%]{width:50px}.updates_text_user_name[_ngcontent-%COMP%]{width:100%;min-width:300px;max-width:200px;margin-right:2px;font-style:normal;font-weight:700;font-size:14px;line-height:.5;color:#fff}.updates_text_user_information[_ngcontent-%COMP%]{width:100%;font-style:normal;font-weight:400;font-size:14px;color:#fff}.updates_text_time[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:1px!important}.updates_text_time_text[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:10px;line-height:12px;color:#686868}}"]}),n})(),zN=(()=>{class n{constructor(){this.closeicon="assets/images/close.png",this.burger="assets/images/burger.png",this.user="assets/images/user-avatar.png",this.logo="assets/images/logo.png",this.burgerShow=!0}close(){this.burgerShow=!0,console.log("trybi")}open(){this.burgerShow=!1,console.log("dziala")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mobilenav"]],decls:37,vars:5,consts:[[1,"mobilenav"],[1,"mobilenav_container"],[1,"mobilenav_container_burger"],[3,"src","click"],[1,"mobilenav_container_items"],[1,"mobilenav_container_items_switch"],[3,"src"],[1,"mobilenav_side",3,"hidden"],[1,"mobilenav_side_container"],[1,"mobilenav_side_container_title"],[1,"h5"],[1,"mobilenav_side_container_title_close",3,"src","click"],[1,"mobilenav_side_container_items"],[1,"mobilenav_side_container_items_link"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"app-ledbar"),u.TgZ(2,"div",1)(3,"div",2)(4,"img",3),u.NdJ("click",function(){return r.open()}),u.qZA()(),u.TgZ(5,"div",4)(6,"button",5),u._uU(7,"Switch"),u.qZA(),u._UZ(8,"img",6),u.qZA()(),u.TgZ(9,"div",7)(10,"div",8)(11,"div",9),u._UZ(12,"img",6),u.TgZ(13,"p",10),u._uU(14,"BRIGHTMOON"),u.qZA(),u.TgZ(15,"img",11),u.NdJ("click",function(){return r.close()}),u.qZA()(),u.TgZ(16,"div",12)(17,"div",13),u._UZ(18,"img",6),u.TgZ(19,"p"),u._uU(20,"Dashboard"),u.qZA()(),u.TgZ(21,"div",13),u._UZ(22,"img",6),u.TgZ(23,"p"),u._uU(24,"Dashboard"),u.qZA()(),u.TgZ(25,"div",13),u._UZ(26,"img",6),u.TgZ(27,"p"),u._uU(28,"Dashboard"),u.qZA()(),u.TgZ(29,"div",13),u._UZ(30,"img",6),u.TgZ(31,"p"),u._uU(32,"Dashboard"),u.qZA()(),u.TgZ(33,"div",13),u._UZ(34,"img",6),u.TgZ(35,"p"),u._uU(36,"Dashboard"),u.qZA()()()()()()),2&t&&(u.xp6(4),u.Q6J("src",r.burger,u.LSH),u.xp6(4),u.Q6J("src",r.user,u.LSH),u.xp6(1),u.Q6J("hidden",r.burgerShow),u.xp6(3),u.Q6J("src",r.logo,u.LSH),u.xp6(3),u.Q6J("src",r.closeicon,u.LSH))},dependencies:[yO],styles:["@media screen and (max-width: 1023px){.mobilenav[_ngcontent-%COMP%]{position:fixed;z-index:2;width:100%}.mobilenav_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:60px;background:#212429}.mobilenav_container_burger[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:10px}.mobilenav_container_items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:10px}.mobilenav_container_items_switch[_ngcontent-%COMP%]{margin-right:10px}.mobilenav_side[_ngcontent-%COMP%]{position:absolute;inset:100% 0 0}.mobilenav_side_container[_ngcontent-%COMP%]{display:flex;width:100%;max-width:231px;height:100%;background:#212429;box-shadow:7px 4px 4px #00000040;position:fixed;justify-content:flex-start;flex-direction:column;align-items:center}.mobilenav_side_container_title[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;font-style:normal;font-weight:700;font-size:10px;line-height:24px;color:#fff}.mobilenav_side_container_title_close[_ngcontent-%COMP%]{margin-left:20px}.mobilenav_side_container_items[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:20px;line-height:24px;color:#fff}.mobilenav_side_container_items_link[_ngcontent-%COMP%]:hover{background:#1F1F1F}.mobilenav_side_container_items_link[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;max-width:230px;min-width:200px;height:60px;margin-top:20px}}@media screen and (min-width: 1601px){.mobilenav[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 1024px) and (max-width: 1600px){.mobilenav[_ngcontent-%COMP%]{position:fixed;z-index:2;width:100%}.mobilenav_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:60px;background:#212429}.mobilenav_container_burger[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:10px}.mobilenav_container_items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:10px}.mobilenav_container_items_switch[_ngcontent-%COMP%]{margin-right:10px}.mobilenav_side[_ngcontent-%COMP%]{position:absolute;inset:100% 0 0}.mobilenav_side_container[_ngcontent-%COMP%]{display:flex;width:100%;max-width:231px;height:100%;background:#212429;box-shadow:7px 4px 4px #00000040;position:fixed;justify-content:flex-start;flex-direction:column;align-items:center}.mobilenav_side_container_title[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;font-style:normal;font-weight:700;font-size:15px;font-size:10px;line-height:24px;color:#fff}.mobilenav_side_container_title_close[_ngcontent-%COMP%]{margin-left:20px}.mobilenav_side_container_items[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:20px;line-height:24px;color:#fff}.mobilenav_side_container_items_link[_ngcontent-%COMP%]:hover{background:#1F1F1F}.mobilenav_side_container_items_link[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;max-width:230px;min-width:200px;height:60px;margin-top:20px}}"]}),n})(),HN=(()=>{class n{constructor(t){this.modal=t,this.display=!1}ngOnInit(){}closeModal(){this.display=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_O))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-addproduct"]],outputs:{display:"display"},decls:16,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[1,"d-flex","justify-content-flex","align-content-end"],[1,"btn","btn-warning",3,"click"],[1,"title"],[1,"text-muted"],["type","text","placeholder","ProductName",1,"m-3"],[1,""],[1,"btn","btn-outline-danger"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("click",function(){return r.modal.showDialog=!1}),u._uU(4,"CLOSE"),u.qZA()(),u.TgZ(5,"div",4)(6,"h3",5),u._uU(7,"ADD PRODUCT"),u.qZA()(),u.TgZ(8,"div",1),u._UZ(9,"input",6)(10,"input",6)(11,"input",6)(12,"input",6),u.qZA(),u.TgZ(13,"div",7)(14,"button",8),u._uU(15,"ADD"),u.qZA()()()())},styles:[".container[_ngcontent-%COMP%]{width:100%;max-width:500px;min-width:500px;background:#1F1F1F;box-shadow:5px 5px 6px #3a3a3a;height:600px;z-index:2;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;left:0;right:0;width:100%;height:100%;background:rgba(0,0,0,.5)}"]}),n})();function GN(n,e){1&n&&u._UZ(0,"app-addproduct")}function WN(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr",34)(1,"td",35),u._uU(2),u.qZA(),u.TgZ(3,"td",35),u._uU(4),u.qZA(),u.TgZ(5,"td",35),u._uU(6),u.qZA(),u.TgZ(7,"td",35),u._uU(8),u.qZA(),u.TgZ(9,"td",35)(10,"button",36),u.NdJ("click",function(){const c=u.CHM(t).$implicit,d=u.oxw(2);return u.KtG(d.deleteProduct(c))}),u._uU(11,"Delete"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.hij(" ",t.ProductName," "),u.xp6(2),u.hij(" ",t.ProductNumber," "),u.xp6(2),u.hij(" ",t.ProductPayment," "),u.xp6(2),u.hij(" ",t.ProductStatus," ")}}function ZN(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",3),u._UZ(1,"app-navbar",4)(2,"app-mobilenav"),u.TgZ(3,"div",5),u.YNc(4,GN,1,0,"app-addproduct",6),u.TgZ(5,"div",7)(6,"h1",8),u._uU(7),u.qZA()(),u.TgZ(8,"div",9)(9,"div",10),u._UZ(10,"img",11),u.TgZ(11,"p",12),u._uU(12),u.qZA(),u.TgZ(13,"p",12),u._uU(14),u.qZA(),u.TgZ(15,"div",13)(16,"p",14),u._uU(17,"90%"),u.qZA()()(),u.TgZ(18,"div",10),u._UZ(19,"img",11),u.TgZ(20,"p",12),u._uU(21),u.qZA(),u.TgZ(22,"p",12),u._uU(23),u.qZA(),u.TgZ(24,"div",13)(25,"p",14),u._uU(26,"90%"),u.qZA()()(),u.TgZ(27,"div",10),u._UZ(28,"img",11),u.TgZ(29,"p",12),u._uU(30),u.qZA(),u.TgZ(31,"p",12),u._uU(32),u.qZA(),u.TgZ(33,"div",13)(34,"p",14),u._uU(35,"90%"),u.qZA()()()(),u.TgZ(36,"div",15)(37,"div",16)(38,"p",17),u._uU(39," Recent Products "),u.qZA()(),u.TgZ(40,"div",18)(41,"table",19)(42,"tbody",20)(43,"tr",21)(44,"th",22),u._uU(45," Product Name "),u.qZA(),u.TgZ(46,"th",22),u._uU(47," Number "),u.qZA(),u.TgZ(48,"th",22),u._uU(49," Payment "),u.qZA(),u.TgZ(50,"th",22),u._uU(51," Status "),u.qZA(),u.TgZ(52,"th",22),u._uU(53," Action "),u.qZA()(),u.YNc(54,WN,12,4,"tr",23),u.qZA()()()()(),u.TgZ(55,"div",24)(56,"div",25)(57,"p",26),u._uU(58),u.qZA()(),u.TgZ(59,"div",27),u._UZ(60,"app-updates"),u.qZA(),u.TgZ(61,"div",28)(62,"div",29)(63,"p",30),u._uU(64),u.qZA()(),u._UZ(65,"app-analitycs"),u.TgZ(66,"div",31),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.modal.showDialog=!0)}),u._UZ(67,"img",32),u.TgZ(68,"p",33),u._uU(69," AddProduct"),u.qZA()()()()()}if(2&n){const t=e.$implicit,r=u.oxw();u.xp6(4),u.Q6J("ngIf",r.modal.showDialog),u.xp6(3),u.hij(" ",t.dashboardTitle," "),u.xp6(3),u.Q6J("src",r.sales,u.LSH),u.xp6(2),u.hij(" ",t.dashboardTotalSales," "),u.xp6(2),u.hij(" ",t.dashboardSalesCosts," "),u.xp6(5),u.Q6J("src",r.expanses,u.LSH),u.xp6(2),u.hij(" ",t.dashboardTotalExpanses," "),u.xp6(2),u.hij(" ",t.dashboardExpansesCosts," "),u.xp6(5),u.Q6J("src",r.income,u.LSH),u.xp6(2),u.hij(" ",t.dashboardTotalIncome," "),u.xp6(2),u.hij(" ",t.dashboardIncomeCosts," "),u.xp6(22),u.Q6J("ngForOf",r.productsList),u.xp6(4),u.hij(" ",t.dashboardLastUpdates," "),u.xp6(6),u.hij(" ",t.dashboardSalesAnalitycs," "),u.xp6(3),u.Q6J("src",r.plus,u.LSH)}}const qN=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:X_},{path:"register",component:(()=>{class n{constructor(t){this.auth=t,this.email="",this.password="",this.logo="assets/images/logo.png"}ngOnInit(){}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Please enter Password"):alert("Please enter email")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(O_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:3,consts:[[1,"login"],[1,"login_container"],[1,"login_container_big_circle"],[1,"login_container_small_circle"],[1,"login_container_logotype"],[1,"login_container_logotype_logo"],[1,"login_container_logotype_logo_logo",3,"src"],[1,"login_container_logotype_title_title"],[1,"login_container_logotype_title"],[1,"login_container_base"],[1,"login_container_base_form"],[1,"login_container_base_form_title"],[1,"login_container_base_form_title_text"],[1,"login_container_base_form_inputs"],["type","email","placeholder","Email",1,"login_container_base_form_inputs_input",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"login_container_base_form_inputs_input",3,"ngModel","ngModelChange"],[1,"login_container_base_form_button"],[1,"login_container_base_form_button_button",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7)(8,"h5",8),u._uU(9,"BRIGHTMOON"),u.qZA()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"p",12),u._uU(14,"REGISTER"),u.qZA()(),u.TgZ(15,"div",13)(16,"input",14),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(17,"input",15),u.NdJ("ngModelChange",function(c){return r.password=c}),u.qZA()(),u.TgZ(18,"div",16)(19,"button",17),u.NdJ("click",function(){return r.register()}),u._uU(20,"Register"),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("src",r.logo,u.LSH),u.xp6(10),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngModel",r.password))},dependencies:[Bl,Hs,Mi],styles:["@media screen and (min-width: 1601px){.login_container[_ngcontent-%COMP%]{z-index:3;display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:714px;height:714px;z-index:1;left:-385px;top:102px;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (min-width: 1024px) and (max-width: 1600px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:614px;height:614px;left:-385px;top:52px;z-index:1;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;z-index:2;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (max-width: 1023px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:397px;height:397px;left:-276px;top:157px;border-radius:100%;z-index:1;background:rgba(206,81,116,.39)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:35px;height:35px;left:59px;top:204px;border-radius:100%;z-index:2;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:27px;line-height:58px;color:#fff;margin-bottom:0}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:231px;max-width:431px;width:100%;margin-top:40px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:16px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:231px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:20px;line-height:29px}}"]}),n})()},{path:"verify-email",component:(()=>{class n{constructor(t){this.route=t,this.logo="assets/images/logo.png"}goToLogin(){this.route.navigate(["/login"])}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(mr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-verify-email"]],decls:23,vars:1,consts:[[1,"login"],[1,"login_container"],[1,"login_container_big_circle"],[1,"login_container_small_circle"],[1,"login_container_logotype"],[1,"login_container_logotype_logo"],[1,"login_container_logotype_logo_logo",3,"src"],[1,"login_container_logotype_title_title"],[1,"login_container_logotype_title"],[1,"login_container_base"],[1,"login_container_form"],[1,"mb-3"],[1,"text-danger","text-muted","h3"],[1,"text-muted","blockquote"],[1,"login_container_base_form_button"],[1,"login_container_base_form_button_button",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7)(8,"h5",8),u._uU(9,"BRIGHTMOON"),u.qZA()()(),u.TgZ(10,"div",9)(11,"form",10)(12,"div",11)(13,"h4",12),u._uU(14,"Welcome"),u.qZA()(),u.TgZ(15,"div",11)(16,"p",13),u._uU(17," Link has sent on your register email. Please verify it. "),u.qZA()(),u.TgZ(18,"div",14)(19,"p",13),u._uU(20,"You verify your email?"),u.qZA(),u.TgZ(21,"button",15),u.NdJ("click",function(){return r.goToLogin()}),u._uU(22," Login "),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("src",r.logo,u.LSH))},dependencies:[sw,kc,Dp],styles:["@media screen and (min-width: 1601px){.login_container[_ngcontent-%COMP%]{z-index:3;display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:714px;height:714px;z-index:1;left:-385px;top:102px;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #ffffff;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #ffffff;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (min-width: 1024px) and (max-width: 1600px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:614px;height:614px;left:-385px;top:52px;z-index:1;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;z-index:2;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #ffffff;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #ffffff;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (max-width: 1023px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:397px;height:397px;left:-276px;top:157px;border-radius:100%;z-index:1;background:rgba(206,81,116,.39)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:35px;height:35px;left:59px;top:204px;border-radius:100%;z-index:2;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:27px;line-height:58px;color:#fff;margin-bottom:0}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:231px;max-width:431px;width:100%;margin-top:40px;outline:none;border:none;border-bottom:2px solid #ffffff;font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #ffffff;-webkit-text-fill-color:#999999;font-size:16px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:231px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:20px;line-height:29px}}"]}),n})()},{path:"forgot-password",component:(()=>{class n{constructor(t){this.auth=t,this.logo="assets/images/logo.png"}ngOnInit(){}forgotPassword(){this.auth.forgotPassword(this.email),this.email=""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(O_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-forgot-password"]],decls:23,vars:2,consts:[[1,"login"],[1,"login_container"],[1,"login_container_big_circle"],[1,"login_container_small_circle"],[1,"login_container_logotype"],[1,"login_container_logotype_logo"],[1,"login_container_logotype_logo_logo",3,"src"],[1,"login_container_logotype_title_title"],[1,"login_container_logotype_title"],[1,"login_container_base"],[1,"login_container_base_form"],[1,"login_container_base_form_title"],[1,"login_container_base_form_title_text"],[1,"login_container_base_form_inputs"],["type","email","placeholder","Email",1,"login_container_base_form_inputs_input",3,"ngModel","ngModelChange"],[1,"login_container_base_form_button"],[1,"login_container_base_form_button_button",3,"click"],[1,"col-6","d-flex","justify-content-center","align-items-center","m-2"],["href","/login",2,"text-decoration","none","color","rgba(206, 81, 116, 0.59)"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7)(8,"h5",8),u._uU(9,"BRIGHTMOON"),u.qZA()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"p",12),u._uU(14,"FORGOT PASSWORD"),u.qZA()(),u.TgZ(15,"div",13)(16,"input",14),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA()(),u.TgZ(17,"div",15)(18,"button",16),u.NdJ("click",function(){return r.forgotPassword()}),u._uU(19,"Send Link"),u.qZA()(),u.TgZ(20,"div",17)(21,"a",18),u._uU(22,"Back to login"),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("src",r.logo,u.LSH),u.xp6(10),u.Q6J("ngModel",r.email))},dependencies:[Bl,Hs,Mi],styles:["@media screen and (min-width: 1601px){.login_container[_ngcontent-%COMP%]{z-index:3;display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:714px;height:714px;z-index:1;left:-385px;top:102px;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (min-width: 1024px) and (max-width: 1600px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:614px;height:614px;left:-385px;top:52px;z-index:1;border-radius:100%;background:rgba(206,81,116,.59)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:76px;height:76px;left:118px;top:113px;z-index:2;border-radius:100%;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:48px;line-height:58px;color:#fff}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:431px;max-width:431px;width:100%;margin-top:70px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:20px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:20px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:431px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:24px;line-height:29px}}@media screen and (max-width: 1023px){.login_container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#19191f;width:100%;height:100vh;flex-direction:column}.login_container_logotype[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;vertical-align:center;text-align:center}.login_container_logotype_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}.login_container_logotype_logo_logo[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;width:40px}.login_container_logotype_title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;margin-left:10px;color:#fff;justify-content:center;align-items:center;display:flex;margin-top:5px}.login_container_big_circle[_ngcontent-%COMP%]{position:absolute;width:397px;height:397px;left:-276px;top:157px;border-radius:100%;z-index:1;background:rgba(206,81,116,.39)}.login_container_small_circle[_ngcontent-%COMP%]{position:absolute;width:35px;height:35px;left:59px;top:204px;border-radius:100%;z-index:2;background:rgba(132,135,255,.45);transform:scaleY(-1)}.login_container_base[_ngcontent-%COMP%]{z-index:2;display:flex;align-items:center;justify-content:center;width:100%;height:80%}.login_container_base_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:27px;line-height:58px;color:#fff;margin-bottom:0}.login_container_base_form_inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_inputs_input[_ngcontent-%COMP%]{background:transparent;min-width:231px;max-width:431px;width:100%;margin-top:40px;outline:none;border:none;border-bottom:2px solid #FFFFFF;font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:hover, .login_container_base_form_inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-webkit-autofill:focus{border:none;border-bottom:2px solid #FFFFFF;-webkit-text-fill-color:#999999;font-size:16px;-webkit-box-shadow:0 0 0px 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.login_container_base_form_inputs_input[_ngcontent-%COMP%]::placeholder{font-style:normal;font-weight:400;font-size:16px;line-height:33px;color:#999}.login_container_base_form_button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login_container_base_form_button_button[_ngcontent-%COMP%]{background:#212429;width:100%;max-width:431px;min-width:231px;height:50px;margin-top:50px;border:none;outline:none;flex:none;order:0;flex-grow:0;color:#fff;font-style:normal;font-weight:400;font-size:20px;line-height:29px}}"]}),n})()},{path:"dashboard",component:(()=>{class n{constructor(t,r,o){this.auth=t,this.data=r,this.modal=o,this.sales="assets/images/sales-icon.png",this.expanses="assets/images/expanses-icon.png",this.income="assets/images/income-icon.png",this.plus="assets/images/plus-icon.png",this.user="assets/images/user-avatar.png",this.customer="assets/images/customer-picture.png",this.display=!1,this.productsList=[],this.productObj={id:"",ProductName:"",ProductNumber:"",ProductPayment:"",ProductStatus:""},this.id="",this.ProductName="",this.ProductNumber="",this.ProductPayment="",this.ProductStatus="",this.dashboardtexts=LD}displayModal(){this.display=!0}ngOnInit(){this.getAllProducts()}getAllProducts(){this.data.getAllProducts().subscribe(t=>{this.productsList=t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o})})}resetForm(){this.id="",this.ProductName="",this.ProductNumber="",this.ProductPayment="",this.ProductStatus=""}addProduct(){""!=this.ProductName&&""!=this.ProductNumber&&""!=this.ProductPayment&&""!=this.ProductStatus?(this.productObj.id="",this.productObj.ProductName=this.ProductName,this.productObj.ProductNumber=this.ProductNumber,this.productObj.ProductPayment=this.ProductPayment,this.productObj.ProductStatus=this.ProductStatus,this.data.addProduct(this.productObj),this.resetForm()):alert("Wype\u0142nij pola")}updateProduct(){}deleteProduct(t){window.confirm("Are you sure to delete?"+t.ProductName+t.ProductNumber)&&this.data.deleteProduct(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(O_),u.Y36(VN),u.Y36(_O))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:3,vars:1,consts:[[1,"desktop-ledbar"],[1,"dashboard"],["class","dashboard_container",4,"ngFor","ngForOf"],[1,"dashboard_container"],[1,"desktop_nav"],[1,"dashboard_container_base"],[4,"ngIf"],[1,"dashboard_container_base_title"],[1,"dashboard_container_base_title_text"],[1,"dashboard_container_base_salesinfo"],[1,"dashboard_container_base_salesinfo_block"],[1,"dashboard_container_base_salesinfo_block_icon",3,"src"],[1,"dashboard_container_base_salesinfo_block_text"],[1,"dashboard_container_base_salesinfo_block_chart"],[1,"dashboard_container_base_salesinfo_block_chart_text"],[1,"dashboard_container_base_recent"],[1,"dashboard_container_base_recent_title"],[1,"dashboard_container_base_recent_title_text"],[1,"dashboard_container_base_recent_block"],[1,"dashboard_container_base_recent_block_table"],[1,"dashboard_container_base_recent_block_table_body"],[1,"dashboard_container_base_recent_block_table_body_nav"],[1,"dashboard_container_base_recent_block_table_body_nav_item"],["class","dashboard_container_base_recent_block_table_body_row",4,"ngFor","ngForOf"],[1,"dashboard_container_base_updates"],[1,"dashboard_container_base_updates_title"],[1,"dashboard_container_base_updates_title_text"],[1,"dashboard_container_base_updates_block"],[1,"dashboard_container_base_analitycs"],[1,"dashboard_container_base_analitycs_title"],[1,"dashboard_container_base_analitycs_title_text"],[1,"dashboard_container_base_analitycs_add",3,"click"],[1,"dashboard_container_base_analitycs_add_icon",3,"src"],[1,"dashboard_container_base_analitycs_add_text"],[1,"dashboard_container_base_recent_block_table_body_row"],[1,"dashboard_container_base_recent_block_table_body_row_item"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(u._UZ(0,"app-ledbar",0),u.TgZ(1,"div",1),u.YNc(2,ZN,70,15,"div",2),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngForOf",r.dashboardtexts))},dependencies:[Ci,sr,yO,BN,jN,$N,zN,HN],styles:["@media screen and (min-width: 1601px){.dashboard[_ngcontent-%COMP%]{height:auto}.dashboard_container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;min-height:98.5vh;max-height:100vh;justify-content:space-between;background-color:#19191f;flex:auto;flex-grow:1}.dashboard_container_base[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dashboard_container_base_title[_ngcontent-%COMP%]{padding-bottom:10px;align-items:center;justify-content:flex-start;display:flex}.dashboard_container_base_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:48px;line-height:58px;color:#fff}.dashboard_container_base_salesinfo[_ngcontent-%COMP%]{margin-left:20px;display:flex;justify-content:space-between;align-items:center}.dashboard_container_base_salesinfo_block[_ngcontent-%COMP%]{background:#212429;border-radius:27px;min-width:250px;width:100%;max-width:250px;height:221px;display:flex;align-items:center;justify-content:center;flex-direction:column}.dashboard_container_base_salesinfo_block_icon[_ngcontent-%COMP%]{margin-bottom:20px}.dashboard_container_base_salesinfo_block_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:15px;line-height:18px;color:#fff}.dashboard_container_base_salesinfo_block_chart[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:15px;line-height:18px;border-radius:100%;width:70px;display:flex;justify-content:center;align-items:center;height:70px;background:linear-gradient(146.38deg,#fe3535 -17.66%,#6690fe 80.03%);color:#fff}.dashboard_container_base_salesinfo_block_chart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dashboard_container_base_recent[_ngcontent-%COMP%]{margin-top:50px;margin-left:20px}.dashboard_container_base_recent_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;height:10px;color:#fff}.dashboard_container_base_recent_block[_ngcontent-%COMP%]{background:#212429;border-radius:27px;min-width:887px;margin-top:60px;max-width:887px;width:100%;height:347px;padding:0}.dashboard_container_base_recent_block_table[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.dashboard_container_base_recent_block_table_body[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:column}.dashboard_container_base_recent_block_table_body_nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center}.dashboard_container_base_recent_block_table_body_nav_item[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;margin-left:25px;margin-right:25px;color:#fff}.dashboard_container_base_recent_block_table_body_row[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;align-items:center}.dashboard_container_base_recent_block_table_body_row_item[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:20px;margin-left:40px;margin-right:40px;color:#fff}.dashboard_container_base_updates[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column;align-items:flex-start;margin-right:20px}.dashboard_container_base_updates_title[_ngcontent-%COMP%]{margin-top:10px}.dashboard_container_base_updates_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;color:#fff}.dashboard_container_base_updates_block[_ngcontent-%COMP%]{background:#212429;border-radius:27px;max-width:391px;min-width:391px;height:306px;width:100%;display:flex;justify-content:center;align-items:center}.dashboard_container_base_analitycs_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;color:#fff}.dashboard_container_base_analitycs_add[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:27px;margin-bottom:20px;max-width:391px;min-width:381px;border:3px dashed #3a3a3a;height:85px;cursor:pointer}.dashboard_container_base_analitycs_add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dashboard_container_base_analitycs_add_icon[_ngcontent-%COMP%]{margin-right:10px}.dashboard_container_base_analitycs_add_text[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:20px;line-height:24px;color:#e64355;margin-left:20px}.dashboard_container_base_analitycs_add[_ngcontent-%COMP%]:hover{background:#3a3a3a}}@media screen and (min-width: 1024px) and (max-width: 1600px){.dashboard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.dashboard_container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;background-color:#19191f}.dashboard_container_base[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dashboard_container_base_title[_ngcontent-%COMP%]{height:100%;max-height:500px;min-height:220px;align-items:center;justify-content:center;display:flex}.dashboard_container_base_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:48px;line-height:58px;color:#fff}.dashboard_container_base_salesinfo[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.dashboard_container_base_salesinfo_block[_ngcontent-%COMP%]{background:#212429;margin-right:20px;border-radius:27px;min-width:300px;width:100%;max-width:200px;height:221px;display:flex;align-items:center;justify-content:center;flex-direction:column}.dashboard_container_base_salesinfo_block_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:15px;line-height:18px;color:#fff}.dashboard_container_base_salesinfo_block_chart[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:15px;line-height:18px;border-radius:100%;width:70px;display:flex;justify-content:center;align-items:center;height:70px;background:linear-gradient(146.38deg,#fe3535 -17.66%,#6690fe 80.03%);color:#fff}.dashboard_container_base_salesinfo_block_chart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dashboard_container_base_recent[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_recent_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;color:#fff}.dashboard_container_base_recent_block[_ngcontent-%COMP%]{background:#212429;border-radius:27px;min-width:787px;margin-top:60px;max-width:787px;width:100%;height:347px;padding:0}.dashboard_container_base_recent_block_table[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.dashboard_container_base_recent_block_table_body_nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center}.dashboard_container_base_recent_block_table_body_nav_item[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;margin-left:25px;margin-right:25px;color:#fff}.dashboard_container_base_recent_block_table_body_row[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;align-items:center}.dashboard_container_base_recent_block_table_body_row_item[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:20px;margin-left:40px;margin-right:40px;color:#fff}.dashboard_container_base_updates[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_updates_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;color:#fff}.dashboard_container_base_updates_block[_ngcontent-%COMP%]{background:#212429;border-radius:27px;max-width:391px;min-width:391px;height:306px;width:100%;display:flex;justify-content:center;align-items:center}.dashboard_container_base_analitycs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_analitycs_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;color:#fff}.dashboard_container_base_analitycs_add[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:27px;margin-bottom:20px;max-width:391px;min-width:381px;border:3px dashed #3a3a3a;height:85px;cursor:pointer}.dashboard_container_base_analitycs_add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dashboard_container_base_analitycs_add_icon[_ngcontent-%COMP%]{margin-right:10px}.dashboard_container_base_analitycs_add_text[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:20px;line-height:24px;color:#e64355;margin-left:20px}.dashboard_container_base_analitycs_add[_ngcontent-%COMP%]:hover{background:#3a3a3a}.desktop-ledbar[_ngcontent-%COMP%], .desktop_nav[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 1023px){.dashboard[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;margin:0;padding:0;flex-direction:column}.dashboard_container[_ngcontent-%COMP%]{color:#fff;background:#19191f;width:100%}.dashboard_container_base[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_title[_ngcontent-%COMP%]{padding:70px;height:30px}.dashboard_container_base_salesinfo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_salesinfo_block[_ngcontent-%COMP%]{background:#212429;border-radius:27px;width:100%;min-width:300px;height:200px;max-width:300px;display:flex;justify-content:center;align-items:center;flex-direction:column;margin-bottom:20px}.dashboard_container_base_salesinfo_block_icon[_ngcontent-%COMP%]{margin-bottom:7px}.dashboard_container_base_salesinfo_block_chart[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:15px;line-height:18px;border-radius:100%;width:60px;display:flex;justify-content:center;align-items:center;height:60px;background:linear-gradient(146.38deg,#fe3535 -17.66%,#6690fe 80.03%);color:#fff}.dashboard_container_base_salesinfo_block_chart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dashboard_container_base_recent[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_recent_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;color:#fff}.dashboard_container_base_recent_block[_ngcontent-%COMP%]{background:#212429;border-radius:27px;width:100%;min-width:296px;max-width:296px;height:480px;display:flex;justify-content:flex-start;align-items:flex-start;text-align:center;flex-direction:column}.dashboard_container_base_recent_block_table[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_recent_block_table_body[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.dashboard_container_base_recent_block_table_body_nav[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;font-style:normal;font-weight:700;font-size:14px;line-height:17px;color:#fff}.dashboard_container_base_recent_block_table_body_nav[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important}.dashboard_container_base_recent_block_table_body_nav_item[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:15px;line-height:24px;margin:25px 20px;color:#fff}.dashboard_container_base_recent_block_table_body_row[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;font-style:normal;font-weight:300;font-size:15px;line-height:18px;color:#fff}.dashboard_container_base_recent_block_table_body_row_item[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:15px;margin:25px 20px;color:#fff}.dashboard_container_base_updates[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_updates_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;color:#fff}.dashboard_container_base_updates_block[_ngcontent-%COMP%]{background:#212429;border-radius:27px;height:300px;width:100%;max-width:300px;min-width:300px}.dashboard_container_base_analitycs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard_container_base_analitycs_title_text[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:29px;color:#fff}.dashboard_container_base_analitycs_add[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:27px;margin-bottom:20px;max-width:300px;min-width:300px;border:3px dashed #3a3a3a;height:80px;cursor:pointer}.dashboard_container_base_analitycs_add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dashboard_container_base_analitycs_add_icon[_ngcontent-%COMP%]{margin-right:10px}.dashboard_container_base_analitycs_add_text[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:20px;line-height:24px;color:#e64355;margin-left:20px}.desktop-ledbar[_ngcontent-%COMP%]{display:none}}"]}),n})()},{path:"**",component:(()=>{class n{constructor(){this.Cover="assets/images/Cover.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-pagenotfound"]],decls:10,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],["href","/login"],[1,"d-flex","justify-content-center","align-items-center","w-100",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Nie mu strony kt\xf3rej szukasz :("),u.qZA(),u.TgZ(4,"h4"),u._uU(5,"Wr\xf3\u0107 do strony G\u0142w\xf3nej"),u.qZA(),u.TgZ(6,"a",2),u._uU(7,"Wr\xf3\u0107 do strony G\u0142\xf3wnej"),u.qZA(),u.TgZ(8,"div",0),u._UZ(9,"img",3),u.qZA()()()),2&t&&(u.xp6(9),u.Q6J("src",r.Cover,u.LSH))}}),n})()}];let KN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[K0.forRoot(qN),K0]}),n})(),YN=(()=>{class n{constructor(){this.title="Brightmoon"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[xc],styles:[".app[_ngcontent-%COMP%]{margin:0;padding:0;width:100%}"]}),n})();var vO=F(4408);const zv={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=zv;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const o=e(c=>{t=void 0,n(c)});return new Ju.w0(()=>t?.(o))},requestAnimationFrame(...n){const{delegate:e}=zv;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=zv;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var bO=F(7565);new class JN extends bO.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;e=e||r.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw o}}}(class QN extends vO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=zv.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(o=c[c.length-1])||void 0===o?void 0:o.id)!==t&&(zv.cancelAnimationFrame(t),e._scheduled=void 0)}});let SM,eF=1;const OE={};function wO(n){return n in OE&&(delete OE[n],!0)}const tF={setImmediate(n){const e=eF++;return OE[e]=!0,SM||(SM=Promise.resolve()),SM.then(()=>wO(e)&&n()),e},clearImmediate(n){wO(n)}},{setImmediate:nF,clearImmediate:rF}=tF,kE={setImmediate(...n){const{delegate:e}=kE;return(e?.setImmediate||nF)(...n)},clearImmediate(n){const{delegate:e}=kE;return(e?.clearImmediate||rF)(n)},delegate:void 0};new class oF extends bO.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;e=e||r.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw o}}}(class iF extends vO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=kE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(o=c[c.length-1])||void 0===o?void 0:o.id)!==t&&(kE.clearImmediate(t),e._scheduled=void 0)}});let AM,CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();try{AM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{AM=!1}let EO=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Hr(n){return n===Ni}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DO(n){return Array.isArray(n)?n:[n]}var yF=F(5032);function vF(n){return(0,pr.e)((e,t)=>{(0,Mo.Xf)(n).subscribe((0,fr.x)(t,()=>t.complete(),yF.Z)),!t.closed&&e.subscribe(t)})}const xO=new Set;let Qg,bF=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):CF}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function wF(n){if(!xO.has(n))try{Qg||(Qg=document.createElement("style"),Qg.setAttribute("type","text/css"),document.head.appendChild(Qg)),Qg.sheet&&(Qg.sheet.insertRule(`@media ${n} {body{ }}`,0),xO.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CF(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let EF=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Vi.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return TO(DO(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let c=Ku(TO(DO(t)).map(d=>this._registerQuery(d).observable));return c=ks(c.pipe(Vn(1)),c.pipe(function mF(n){return Jr((e,t)=>n<=t)}(1),function _F(n,e=ey.z){return(0,pr.e)((t,r)=>{let o=null,c=null,d=null;const g=()=>{if(o){o.unsubscribe(),o=null;const E=c;c=null,r.next(E)}};function y(){const E=d+n,x=e.now();if(x<E)return o=this.schedule(void 0,E-x),void r.add(o);g()}t.subscribe((0,fr.x)(r,E=>{c=E,d=e.now(),o||(o=e.schedule(y,n),r.add(o))},()=>{g(),r.complete()},void 0,()=>{c=o=null}))})}(0))),c.pipe((0,mt.U)(d=>{const g={matches:!1,breakpoints:{}};return d.forEach(({matches:y,query:E})=>{g.matches=g.matches||y,g.breakpoints[E]=y}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new xr.y(d=>{const g=y=>this._zone.run(()=>d.next(y));return r.addListener(g),()=>{r.removeListener(g)}}).pipe(Ao(r),(0,mt.U)(({matches:d})=>({query:t,matches:d})),vF(this._destroySubject)),mql:r};return this._queries.set(t,c),c}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bF),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const OO="cdk-high-contrast-black-on-white",kO="cdk-high-contrast-white-on-black",PM="cdk-high-contrast-active";let kF=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(EF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(PM,OO,kO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(PM,OO):2===r&&t.add(PM,kO)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EO),u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const FF=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function NF(){return!0}});let Jg=(()=>{class n{constructor(t,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function lF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(kF),u.LFG(FF,8),u.LFG(le))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[PO,PO]}),n})(),jF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Jg,Jg]}),n})(),HF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ca,Jg,CO,CO,Jg]}),n})(),GF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jF,Jg,Jg]}),n})();const NM_firebase={projectId:"brightmoon-946fa",appId:"1:417038608079:web:22e02f1e13be4ad72c79ba",storageBucket:"brightmoon-946fa.appspot.com",apiKey:"AIzaSyATNfNOWQi3-hrcWJKKDHERXzmu1zz5OAo",authDomain:"brightmoon-946fa.firebaseapp.com",messagingSenderId:"417038608079",measurementId:"G-FX9LY81PMX"};var ZF=F(655),FM=F(6148),HO=F(9934);function qF(n){return new xr.y(function(e){return{unsubscribe:(0,HO.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class RE{constructor(e){return e}}class WO{constructor(){return(0,Ft.vb)("auth")}}const LM=new u.OlP("angularfire2.auth-instances");function QF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new RE(r)}}const JF={provide:WO,deps:[[new u.FiY,LM]]},XF={provide:RE,useFactory:function YF(n,e){const t=(0,Ft.JM)("auth",n,e);return t&&new RE(t)},deps:[[new u.FiY,LM],Us]};let eL=(()=>{class n{constructor(){(0,$i.KN)("angularfire",Ft.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[XF,JF]}),n})();function tL(n,...e){return{ngModule:eL,providers:[{provide:LM,useFactory:QF(n),multi:!0,deps:[u.R0b,u.zs3,Ft.HU,Kf,[new u.FiY,Md],...e]}]}}const nL=(0,Ft.u3)(qF,!0),rL=(0,Ft.u3)(HO.n,!0);class Wv{constructor(e){return e}}const ZO="analytics",qO=Ft.nk.async,oL=(0,Ft.u3)(FM.IH,!0),sL=(0,Ft.u3)(FM.Kz,!0),aL=(0,Ft.u3)(FM.Iv,!0);let VM=(()=>{class n{constructor(t,r,o){let c;this.disposables=[],(0,$i.KN)("angularfire",Ft.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(d=>{c=d})),qO().then(()=>{const d=o.get(Wv);d?this.disposables=[nL(t).subscribe(g=>{aL(d,g?.uid),c()})]:c()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(RE),u.LFG(u.R0b),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const KO="firebase_screen_id",UM="outlet",Zv="screen_class",YO="screen_name";let vL=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const BM={},bL=n=>{const e=[n[Zv],n[UM]].join("#");if(BM.hasOwnProperty(e))return BM[e];{const t=vL++;return BM[e]=t,t}};let QO=(()=>{class n{constructor(t,r,o,c,d,g){(0,$i.KN)("angularfire",Ft.q4.full,"screen-tracking"),qO().then(()=>{const y=g.get(Wv);!t||!y||c.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Jr(o=>o instanceof Om)).pipe(gr(o=>{var c;const g=(null===(c=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,Y=>Y.replace("://",":///"))).root.children[o.snapshot.outlet])||void 0===c?void 0:c.toString())||"",y=n.routerState.root.children.map(Y=>Y).find(Y=>Y.outlet===o.snapshot.outlet);if(!y)return pt(null);let E=y;for(;E.firstChild;)E=E.firstChild;const x=E.pathFromRoot.map(Y=>{var se;return null===(se=Y.routeConfig)||void 0===se?void 0:se.path}).filter(Y=>Y).join("/")||"/",S={[YO]:x,page_path:`/${g}`,firebase_event_origin:"auto",firebase_screen:x,[UM]:o.snapshot.outlet};e&&(S.page_title=e.getTitle());let z=y.component;if(z){if(z===Ca){let Y=o.snapshot;for(;Y.firstChild;)Y=Y.firstChild;z=Y.component}}else z=o.snapshot.component;if("string"==typeof z)return pt(Object.assign(Object.assign({},S),{[Zv]:z}));if(z){const Y=t.resolveComponentFactory(z);return pt(Object.assign(Object.assign({},S),{[Zv]:Y.selector}))}return pt(null)}),Jr(o=>!!o),(0,mt.U)(o=>Object.assign({firebase_screen_class:o[Zv],[KO]:bL(o)},o)),function WF(n,e,t,r){return(0,pr.e)((o,c)=>{let d;e&&"function"!=typeof e?({duration:t,element:d,connector:r}=e):d=e;const g=new Map,y=se=>{g.forEach(se),se(c)},E=se=>y(Ne=>Ne.error(se));let x=0,S=!1;const z=new fr.Q(c,se=>{try{const Ne=n(se);let Ue=g.get(Ne);if(!Ue){g.set(Ne,Ue=r?r():new Vi.x);const Mt=function Y(se,Ne){const Ue=new xr.y(Mt=>{x++;const St=Ne.subscribe(Mt);return()=>{St.unsubscribe(),0==--x&&S&&z.unsubscribe()}});return Ue.key=se,Ue}(Ne,Ue);if(c.next(Mt),t){const St=(0,fr.x)(Ue,()=>{Ue.complete(),St?.unsubscribe()},void 0,void 0,()=>g.delete(Ne));z.add((0,Mo.Xf)(t(Mt)).subscribe(St))}}Ue.next(d?d(se):se)}catch(Ne){E(Ne)}},()=>y(se=>se.complete()),E,()=>g.clear(),()=>(S=!0,0===x));o.subscribe(z)})}(o=>o[UM]),(0,Tr.z)(o=>o.pipe(VD((c,d)=>JSON.stringify(c)===JSON.stringify(d)),Ao(void 0),Hd(),(0,mt.U)(([c,d])=>c?Object.assign({firebase_previous_class:c[Zv],firebase_previous_screen:c[YO],firebase_previous_id:c[KO]},d):d)))))(t,r,o).pipe(gr(E=>(0,ZF.mG)(this,void 0,void 0,function*(){return d&&(yield d.initialized),sL(y,"screen_view",E)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mr,8),u.LFG(xo,8),u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(VM,8),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const jM=new u.OlP("angularfire2.analytics-instances");function EL(n){return(e,t)=>{if(!Ft.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Wv(r)}}const IL={provide:class iL{constructor(){return(0,Ft.vb)(ZO)}},deps:[[new u.FiY,jM]]},DL={provide:Wv,useFactory:function CL(n,e){if(!Ft.nk.sync())return null;const t=(0,Ft.JM)(ZO,n,e);return t&&new Wv(t)},deps:[[new u.FiY,jM],Us]};let xL=(()=>{class n{constructor(t,r){(0,$i.KN)("angularfire",Ft.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QO,8),u.LFG(VM,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[DL,IL,{provide:u.ip1,useValue:Ft.nk.async,multi:!0}]}),n})();function TL(n,...e){return{ngModule:xL,providers:[{provide:jM,useFactory:EL(n),multi:!0,deps:[u.R0b,u.zs3,Ft.HU,Kf,...e]}]}}class $M{constructor(e){return e}}const JO="firestore",zM=new u.OlP("angularfire2.firestore-instances");function AL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $M(r)}}const OL={provide:class ML{constructor(){return(0,Ft.vb)(JO)}},deps:[[new u.FiY,zM]]},kL={provide:$M,useFactory:function SL(n,e){const t=(0,Ft.JM)(JO,n,e);return t&&new $M(t)},deps:[[new u.FiY,zM],Us]};let PL=(()=>{class n{constructor(){(0,$i.KN)("angularfire",Ft.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[kL,OL]}),n})();function RL(n,...e){return{ngModule:PL,providers:[{provide:zM,useFactory:AL(n),multi:!0,deps:[u.R0b,u.zs3,Ft.HU,Kf,[new u.FiY,WO],[new u.FiY,Md],...e]}]}}const NL=(0,Ft.u3)(TR,!0);let FL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[YN]}),n.\u0275inj=u.cJS({providers:[QO,VM],imports:[ha,Fo.hO.initializeApp(NM_firebase),KN,HF,GF,Nl(()=>kI(NM_firebase)),TL(()=>oL()),tL(()=>rL()),RL(()=>NL()),Sw]}),n})();(0,u.G48)(),lc().bootstrapModule(FL).catch(n=>console.error(n))},6148:(gt,Oe,F)=>{F.d(Oe,{IH:()=>or,Gb:()=>hr,Kz:()=>yt,Iv:()=>Dn});var u=F(5861),B=F(9681),N=F(1877),ne=F(2090),ge=F(4859);F(2833);const le="analytics",pe="firebase_id",H="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q="https://www.googletagmanager.com/gtag/js",Pe=new N.Yd("@firebase/analytics");function De(P){return Promise.all(P.map(O=>O.catch(D=>D)))}function xe(P,O){const D=document.createElement("script");D.src=`${Q}?l=${P}&id=${O}`,D.async=!0,document.head.appendChild(D)}function be(P,O,D,k,$,ce){return de.apply(this,arguments)}function de(){return(de=(0,u.Z)(function*(P,O,D,k,$,ce){const Le=k[$];try{if(Le)yield O[Le];else{const me=(yield De(D)).find(Ae=>Ae.measurementId===$);me&&(yield O[me.appId])}}catch(We){Pe.error(We)}P("config",$,ce)})).apply(this,arguments)}function ot(P,O,D,k,$){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)(function*(P,O,D,k,$){try{let ce=[];if($&&$.send_to){let Le=$.send_to;Array.isArray(Le)||(Le=[Le]);const We=yield De(D);for(const me of Le){const Ae=We.find(Wt=>Wt.measurementId===me),at=Ae&&O[Ae.appId];if(!at){ce=[];break}ce.push(at)}}0===ce.length&&(ce=Object.values(O)),yield Promise.all(ce),P("event",k,$||{})}catch(ce){Pe.error(ce)}})).apply(this,arguments)}function Ee(P){const O=window.document.getElementsByTagName("script");for(const D of Object.values(O))if(D.src&&D.src.includes(Q)&&D.src.includes(P))return D;return null}const te=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),X=new class J{constructor(O={},D=1e3){this.throttleMetadata=O,this.intervalMillis=D}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,D){this.throttleMetadata[O]=D}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function he(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function oe(P){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(P){var O;const{appId:D,apiKey:k}=P,$={method:"GET",headers:he(k)},ce=H.replace("{app-id}",D),Le=yield fetch(ce,$);if(200!==Le.status&&304!==Le.status){let We="";try{const me=yield Le.json();null!==(O=me.error)&&void 0!==O&&O.message&&(We=me.error.message)}catch{}throw te.create("config-fetch-failed",{httpStatus:Le.status,responseMessage:We})}return Le.json()})).apply(this,arguments)}function Be(P){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(P,O=X,D){const{appId:k,apiKey:$,measurementId:ce}=P.options;if(!k)throw te.create("no-app-id");if(!$){if(ce)return{measurementId:ce,appId:k};throw te.create("no-api-key")}const Le=O.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new kn;return setTimeout((0,u.Z)(function*(){We.abort()}),void 0!==D?D:6e4),Xt({appId:k,apiKey:$,measurementId:ce},Le,We,O)})).apply(this,arguments)}function Xt(P,O,D){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(P,{throttleEndTimeMillis:O,backoffCount:D},k,$=X){var ce,Le;const{appId:We,measurementId:me}=P;try{yield Ke(k,O)}catch(Ae){if(me)return Pe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${null===(ce=Ae)||void 0===ce?void 0:ce.message}]`),{appId:We,measurementId:me};throw Ae}try{const Ae=yield oe(P);return $.deleteThrottleMetadata(We),Ae}catch(Ae){const at=Ae;if(!un(at)){if($.deleteThrottleMetadata(We),me)return Pe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:We,measurementId:me};throw Ae}const Wt=503===Number(null===(Le=at?.customData)||void 0===Le?void 0:Le.httpStatus)?(0,ne.$s)(D,$.intervalMillis,30):(0,ne.$s)(D,$.intervalMillis),It={throttleEndTimeMillis:Date.now()+Wt,backoffCount:D+1};return $.setThrottleMetadata(We,It),Pe.debug(`Calling attemptFetch again in ${Wt} millis`),Xt(P,It,k,$)}})).apply(this,arguments)}function Ke(P,O){return new Promise((D,k)=>{const $=Math.max(O-Date.now(),0),ce=setTimeout(D,$);P.addEventListener(()=>{clearTimeout(ce),k(te.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function un(P){if(!(P instanceof ne.ZR&&P.customData))return!1;const O=Number(P.customData.httpStatus);return 429===O||500===O||503===O||504===O}class kn{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let an,Bn;function Bt(){return(Bt=(0,u.Z)(function*(P,O,D,k,$){if($&&$.global)P("event",D,k);else{const ce=yield O;P("event",D,Object.assign(Object.assign({},k),{send_to:ce}))}})).apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(P,O,D,k){if(k&&k.global)return P("set",{user_id:D}),Promise.resolve();P("config",yield O,{update:!0,user_id:D})})).apply(this,arguments)}function dr(P){Bn=P}function zr(P){an=P}function tt(){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(){var P;if(!(0,ne.hl)())return Pe.warn(te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(O){return Pe.warn(te.create("indexeddb-unavailable",{errorInfo:null===(P=O)||void 0===P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(P,O,D,k,$,ce,Le){var We;const me=Be(P);me.then($t=>{D[$t.measurementId]=$t.appId,P.options.measurementId&&$t.measurementId!==P.options.measurementId&&Pe.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${$t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($t=>Pe.error($t)),O.push(me);const Ae=tt().then($t=>{if($t)return k.getId()}),[at,Wt]=yield Promise.all([me,Ae]);Ee(ce)||xe(ce,at.measurementId),Bn&&($("consent","default",Bn),dr(void 0)),$("js",new Date);const It=null!==(We=Le?.config)&&void 0!==We?We:{};return It.origin="firebase",It.update=!0,null!=Wt&&(It[pe]=Wt),$("config",at.measurementId,It),an&&($("set",an),zr(void 0)),at.measurementId})).apply(this,arguments)}class Yn{constructor(O){this.app=O}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},yn=[];const bn={};let ct,dt,rn="dataLayer",wn=!1;function Dt(P,O,D){!function Jn(){const P=[];if((0,ne.ru)()&&P.push("This is a browser extension environment."),(0,ne.zI)()||P.push("Cookies are not available."),P.length>0){const O=P.map((k,$)=>`(${$+1}) ${k}`).join(" "),D=te.create("invalid-analytics-context",{errorInfo:O});Pe.warn(D.message)}}();const k=P.options.appId;if(!k)throw te.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw te.create("no-api-key");Pe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yr[k])throw te.create("already-exists",{id:k});if(!wn){!function Xe(P){let O=[];Array.isArray(window[P])?O=window[P]:window[P]=O}(rn);const{wrappedGtag:ce,gtagCore:Le}=function Re(P,O,D,k,$){let ce=function(...Le){window[k].push(arguments)};return window[$]&&"function"==typeof window[$]&&(ce=window[$]),window[$]=function Fe(P,O,D,k){function ce(){return(ce=(0,u.Z)(function*(Le,We,me){try{"event"===Le?yield ot(P,O,D,We,me):"config"===Le?yield be(P,O,D,k,We,me):"consent"===Le?P("consent","update",me):P("set",We)}catch(Ae){Pe.error(Ae)}})).apply(this,arguments)}return function $(Le,We,me){return ce.apply(this,arguments)}}(ce,P,O,D),{gtagCore:ce,wrappedGtag:window[$]}}(yr,yn,bn,rn,"gtag");dt=ce,ct=Le,wn=!0}return yr[k]=function Pn(P,O,D,k,$,ce,Le){return dn.apply(this,arguments)}(P,yn,bn,O,ct,rn,D),new Yn(P)}function or(P=(0,B.getApp)()){P=(0,ne.m9)(P);const O=(0,B._getProvider)(P,le);return O.isInitialized()?O.getImmediate():function Ot(P,O={}){const D=(0,B._getProvider)(P,le);if(D.isInitialized()){const $=D.getImmediate();if((0,ne.vZ)(O,D.getOptions()))return $;throw te.create("already-initialized")}return D.initialize({options:O})}(P)}function hr(){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}function Dn(P,O,D){P=(0,ne.m9)(P),function Sr(P,O,D,k){return $r.apply(this,arguments)}(dt,yr[P.app.options.appId],O,D).catch(k=>Pe.error(k))}function yt(P,O,D,k){P=(0,ne.m9)(P),function en(P,O,D,k,$){return Bt.apply(this,arguments)}(dt,yr[P.app.options.appId],O,D,k).catch($=>Pe.error($))}const Ht="@firebase/analytics",G="0.8.2";!function j(){(0,B._registerComponent)(new ge.wA(le,(O,{options:D})=>Dt(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),D),"PUBLIC")),(0,B._registerComponent)(new ge.wA("analytics-internal",function P(O){try{const D=O.getProvider(le).getImmediate();return{logEvent:(k,$,ce)=>yt(D,k,$,ce)}}catch(D){throw te.create("interop-component-reg-failed",{reason:D})}},"PRIVATE")),(0,B.registerVersion)(Ht,G),(0,B.registerVersion)(Ht,G,"esm2017")}()},5867:(gt,Oe,F)=>{F.d(Oe,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=F(9681);(0,u.registerVersion)("firebase","9.12.0","app")},127:(gt,Oe,F)=>{F.d(Oe,{Z:()=>u.Z});var u=F(3942);u.Z.registerVersion("firebase","9.12.0","app-compat")},5881:(gt,Oe,F)=>{F.r(Oe);var u=F(5861),B=F(3942),N=F(9934),ne=F(2090),le=(F(9681),F(1877),F(4859));function pe(){return window}function H(){return(H=(0,u.Z)(function*(O,D,k){var $;const{BuildInfo:ce}=pe();(0,N.aq)(D.sessionId,"AuthEvent did not contain a session ID");const Le=yield de(D.sessionId),We={};return(0,N.ar)()?We.ibi=ce.packageName:(0,N.as)()?We.apn=ce.packageName:(0,N.at)(O,"operation-not-supported-in-this-environment"),ce.displayName&&(We.appDisplayName=ce.displayName),We.sessionId=Le,(0,N.au)(O,k,D.type,void 0,null!==($=D.eventId)&&void 0!==$?$:void 0,We)})).apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(O){const{BuildInfo:D}=pe(),k={};(0,N.ar)()?k.iosBundleId=D.packageName:(0,N.as)()?k.androidPackageName=D.packageName:(0,N.at)(O,"operation-not-supported-in-this-environment"),yield(0,N.av)(O,k)})).apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(O,D,k){const{cordova:$}=pe();let ce=()=>{};try{yield new Promise((Le,We)=>{let me=null;function Ae(){var It;Le();const $t=null===(It=$.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof $t&&$t(),"function"==typeof k?.close&&k.close()}function at(){me||(me=window.setTimeout(()=>{We((0,N.aw)(O,"redirect-cancelled-by-user"))},2e3))}function Wt(){"visible"===document?.visibilityState&&at()}D.addPassiveListener(Ae),document.addEventListener("resume",at,!1),(0,N.as)()&&document.addEventListener("visibilitychange",Wt,!1),ce=()=>{D.removePassiveListener(Ae),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",Wt,!1),me&&window.clearTimeout(me)}})}finally{ce()}})).apply(this,arguments)}function de(O){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(O){const D=Qe(O),k=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(k)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(O){if((0,N.aq)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(O);const D=new ArrayBuffer(O.length),k=new Uint8Array(D);for(let $=0;$<O.length;$++)k[$]=O.charCodeAt($);return k}class Re extends N.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(D)),super.onEvent(D)}initialized(){var D=this;return(0,u.Z)(function*(){yield D.initPromise})()}}function te(O){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.Z)(function*(O){const D=yield X()._get(he(O));return D&&(yield X()._remove(he(O))),D})).apply(this,arguments)}function J(){const O=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const $=Math.floor(Math.random()*D.length);O.push(D.charAt($))}return O.join("")}function X(){return(0,N.ay)(N.b)}function he(O){return(0,N.az)("authEvent",O.config.apiKey,O.name)}function Be(O){if(!O?.includes("?"))return{};const[D,...k]=O.split("?");return(0,ne.zd)(k.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function Bt(){var O;return(null===(O=self?.location)||void 0===O?void 0:O.protocol)||null}function In(O=(0,ne.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ar(){try{const O=self.localStorage,D=N.aI();if(O)return O.setItem(D,"1"),O.removeItem(D),!function Kn(O=(0,ne.z$)()){return function $r(){return(0,ne.w1)()&&11===document?.documentMode}()||function An(O=(0,ne.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,ne.hl)()}catch{return Un()&&(0,ne.hl)()}return!1}function Un(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function Ct(){return"http:"===Bt()||"https:"===Bt()}()||(0,ne.ru)()||In())&&!function Sr(){return(0,ne.b$)()||(0,ne.UG)()}()&&Ar()&&!Un()}function dr(){return In()&&typeof document<"u"}function tt(){return(tt=(0,u.Z)(function*(){return!!dr()&&new Promise(O=>{const D=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(D),O(!0)})})})).apply(this,arguments)}const Pn={LOCAL:"local",NONE:"none",SESSION:"session"},dn=N.ax,Yn="persistence";function yn(O){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(O){yield O._initializationPromise;const D=ut(),k=N.az(Yn,O.config.apiKey,O.name);D&&D.setItem(k,O._getPersistence())})).apply(this,arguments)}function ut(){var O;try{return(null===(O=function hn(){return typeof window<"u"?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch{return null}}const ct=N.ax;class dt{constructor(){this.browserResolver=N.ay(N.k),this.cordovaResolver=N.ay(class Xt{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(D){var k=this;return(0,u.Z)(function*(){const $=D._key();let ce=k.eventManagers.get($);return ce||(ce=new Re(D),k.eventManagers.set($,ce),k.attachCallbackListeners(D,ce)),ce})()}_openPopup(D){(0,N.at)(D,"operation-not-supported-in-this-environment")}_openRedirect(D,k,$,ce){var Le=this;return(0,u.Z)(function*(){!function be(O){var D,k,$,ce,Le,We,me,Ae,at,Wt;const It=pe();(0,N.ax)("function"==typeof(null===(D=It?.universalLinks)||void 0===D?void 0:D.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(k=It?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(Le=null===(ce=null===($=It?.cordova)||void 0===$?void 0:$.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Le?void 0:Le.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Ae=null===(me=null===(We=It?.cordova)||void 0===We?void 0:We.plugins)||void 0===me?void 0:me.browsertab)||void 0===Ae?void 0:Ae.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Wt=null===(at=It?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===Wt?void 0:Wt.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const We=yield Le._initialize(D);yield We.initialized(),We.resetRedirect(),(0,N.aD)(),yield Le._originValidation(D);const me=function Ee(O,D,k=null){return{type:D,eventId:k,urlResponse:null,sessionId:J(),postBody:null,tenantId:O.tenantId,error:(0,N.aw)(O,"no-auth-event")}}(D,$,ce);yield function Ye(O,D){return X()._set(he(O),D)}(D,me);const Ae=yield function W(O,D,k){return H.apply(this,arguments)}(D,me,k),at=yield function De(O){const{cordova:D}=pe();return new Promise(k=>{D.plugins.browsertab.isAvailable($=>{let ce=null;$?D.plugins.browsertab.openUrl(O):ce=D.InAppBrowser.open(O,(0,N.ap)()?"_blank":"_system","location=yes"),k(ce)})})}(Ae);return function xe(O,D,k){return Xe.apply(this,arguments)}(D,We,at)})()}_isIframeWebStorageSupported(D,k){throw new Error("Method not implemented.")}_originValidation(D){const k=D._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Q(O){return Pe.apply(this,arguments)}(D)),this.originValidationPromises[k]}attachCallbackListeners(D,k){const{universalLinks:$,handleOpenURL:ce,BuildInfo:Le}=pe(),We=setTimeout((0,u.Z)(function*(){yield te(D),k.onEvent(Ke())}),500),me=function(){var Wt=(0,u.Z)(function*(It){clearTimeout(We);const $t=yield te(D);let Qr=null;$t&&It?.url&&(Qr=function we(O,D){var k,$;const ce=function ze(O){const D=Be(O),k=D.link?decodeURIComponent(D.link):void 0,$=Be(k).link,ce=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return Be(ce).link||ce||$||k||O}(D);if(ce.includes("/__/auth/callback")){const Le=Be(ce),We=Le.firebaseError?function oe(O){try{return JSON.parse(O)}catch{return null}}(decodeURIComponent(Le.firebaseError)):null,me=null===($=null===(k=We?.code)||void 0===k?void 0:k.split("auth/"))||void 0===$?void 0:$[1],Ae=me?(0,N.aw)(me):null;return Ae?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:ce,postBody:null}}return null}($t,It.url)),k.onEvent(Qr||Ke())});return function($t){return Wt.apply(this,arguments)}}();typeof $<"u"&&"function"==typeof $.subscribe&&$.subscribe(null,me);const Ae=ce,at=`${Le.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Wt=(0,u.Z)(function*(It){if(It.toLowerCase().startsWith(at)&&me({url:It}),"function"==typeof Ae)try{Ae(It)}catch($t){console.error($t)}});return function(It){return Wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(D){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,k,$,ce){var Le=this;return(0,u.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openPopup(D,k,$,ce)})()}_openRedirect(D,k,$,ce){var Le=this;return(0,u.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openRedirect(D,k,$,ce)})()}_isIframeWebStorageSupported(D,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,k)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ct(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,u.Z)(function*(){if(D.underlyingResolver)return;const k=yield function zr(){return tt.apply(this,arguments)}();D.underlyingResolver=k?D.cordovaResolver:D.browserResolver})()}}function wn(O){return O.unwrap()}function Jn(O){return or(O)}function or(O){const{_tokenResponse:D}=O instanceof ne.ZR?O.customData:O;if(!D)return null;if(!(O instanceof ne.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return N.P.credentialFromResult(O);const k=D.providerId;if(!k||k===N.o.PASSWORD)return null;let $;switch(k){case N.o.GOOGLE:$=N.Q;break;case N.o.FACEBOOK:$=N.N;break;case N.o.GITHUB:$=N.T;break;case N.o.TWITTER:$=N.W;break;default:const{oauthIdToken:ce,oauthAccessToken:Le,oauthTokenSecret:We,pendingToken:me,nonce:Ae}=D;return Le||We||ce||me?me?k.startsWith("saml.")?N.aL._create(k,me):N.J._fromParams({providerId:k,signInMethod:k,pendingToken:me,idToken:ce,accessToken:Le}):new N.U(k).credential({idToken:ce,accessToken:Le,rawNonce:Ae}):null}return O instanceof ne.ZR?$.credentialFromError(O):$.credentialFromResult(O)}function Ot(O,D){return D.catch(k=>{throw k instanceof ne.ZR&&function Dt(O,D){var k,$;const ce=null===(k=D.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null===($=D)||void 0===$?void 0:$.code))D.resolver=new Hn(O,N.an(O,D));else if(ce){const Le=or(D),We=D;Le&&(We.credential=Le,We.tenantId=ce.tenantId||void 0,We.email=ce.email||void 0,We.phoneNumber=ce.phoneNumber||void 0)}}(O,k),k}).then(k=>{const ce=k.user;return{operationType:k.operationType,credential:Jn(k),additionalUserInfo:N.al(k),user:Dn.getOrCreate(ce)}})}function hr(O,D){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(O,D){const k=yield D;return{verificationId:k.verificationId,confirm:$=>Ot(O,k.confirm($))}})).apply(this,arguments)}class Hn{constructor(D,k){this.resolver=k,this.auth=function Qn(O){return O.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return Ot(wn(this.auth),this.resolver.resolveSignIn(D))}}class Dn{constructor(D){this._delegate=D,this.multiFactor=N.ao(D)}static getOrCreate(D){return Dn.USER_MAP.has(D)||Dn.USER_MAP.set(D,new Dn(D)),Dn.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var k=this;return(0,u.Z)(function*(){return Ot(k.auth,N.Z(k._delegate,D))})()}linkWithPhoneNumber(D,k){var $=this;return(0,u.Z)(function*(){return hr($.auth,N.l($._delegate,D,k))})()}linkWithPopup(D){var k=this;return(0,u.Z)(function*(){return Ot(k.auth,N.d(k._delegate,D,dt))})()}linkWithRedirect(D){var k=this;return(0,u.Z)(function*(){return yield yn(N.aE(k.auth)),N.g(k._delegate,D,dt)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var k=this;return(0,u.Z)(function*(){return Ot(k.auth,N._(k._delegate,D))})()}reauthenticateWithPhoneNumber(D,k){return hr(this.auth,N.r(this._delegate,D,k))}reauthenticateWithPopup(D){return Ot(this.auth,N.e(this._delegate,D,dt))}reauthenticateWithRedirect(D){var k=this;return(0,u.Z)(function*(){return yield yn(N.aE(k.auth)),N.h(k._delegate,D,dt)})()}sendEmailVerification(D){return N.ab(this._delegate,D)}unlink(D){var k=this;return(0,u.Z)(function*(){return yield N.ak(k._delegate,D),k})()}updateEmail(D){return N.ag(this._delegate,D)}updatePassword(D){return N.ah(this._delegate,D)}updatePhoneNumber(D){return N.u(this._delegate,D)}updateProfile(D){return N.af(this._delegate,D)}verifyBeforeUpdateEmail(D,k){return N.ac(this._delegate,D,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dn.USER_MAP=new WeakMap;const et=N.ax;let Se=(()=>{class O{constructor(k,$){if(this.app=k,$.isInitialized())return this._delegate=$.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=k.options;et(ce,"invalid-api-key",{appName:k.name}),et(ce,"invalid-api-key",{appName:k.name});const Le=typeof window<"u"?dt:void 0;this._delegate=$.initialize({options:{persistence:yt(ce,k.name),popupRedirectResolver:Le}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,$){N.G(this._delegate,k,$)}applyActionCode(k){return N.a2(this._delegate,k)}checkActionCode(k){return N.a3(this._delegate,k)}confirmPasswordReset(k,$){return N.a1(this._delegate,k,$)}createUserWithEmailAndPassword(k,$){var ce=this;return(0,u.Z)(function*(){return Ot(ce._delegate,N.a5(ce._delegate,k,$))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return N.aa(this._delegate,k)}isSignInWithEmailLink(k){return N.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,u.Z)(function*(){et(Bn(),k._delegate,"operation-not-supported-in-this-environment");const $=yield N.j(k._delegate,dt);return $?Ot(k._delegate,Promise.resolve($)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function un(O,D){(0,N.aE)(O)._logFramework(D)}(this._delegate,k)}onAuthStateChanged(k,$,ce){const{next:Le,error:We,complete:me}=nt(k,$,ce);return this._delegate.onAuthStateChanged(Le,We,me)}onIdTokenChanged(k,$,ce){const{next:Le,error:We,complete:me}=nt(k,$,ce);return this._delegate.onIdTokenChanged(Le,We,me)}sendSignInLinkToEmail(k,$){return N.a7(this._delegate,k,$)}sendPasswordResetEmail(k,$){return N.a0(this._delegate,k,$||void 0)}setPersistence(k){var $=this;return(0,u.Z)(function*(){let ce;switch(function yr(O,D){dn(Object.values(Pn).includes(D),O,"invalid-persistence-type"),(0,ne.b$)()?dn(D!==Pn.SESSION,O,"unsupported-persistence-type"):(0,ne.UG)()?dn(D===Pn.NONE,O,"unsupported-persistence-type"):Un()?dn(D===Pn.NONE||D===Pn.LOCAL&&(0,ne.hl)(),O,"unsupported-persistence-type"):dn(D===Pn.NONE||Ar(),O,"unsupported-persistence-type")}($._delegate,k),k){case Pn.SESSION:ce=N.a;break;case Pn.LOCAL:ce=(yield N.ay(N.i)._isAvailable())?N.i:N.b;break;case Pn.NONE:ce=N.L;break;default:return N.at("argument-error",{appName:$._delegate.name})}return $._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Ot(this._delegate,N.X(this._delegate))}signInWithCredential(k){return Ot(this._delegate,N.Y(this._delegate,k))}signInWithCustomToken(k){return Ot(this._delegate,N.$(this._delegate,k))}signInWithEmailAndPassword(k,$){return Ot(this._delegate,N.a6(this._delegate,k,$))}signInWithEmailLink(k,$){return Ot(this._delegate,N.a9(this._delegate,k,$))}signInWithPhoneNumber(k,$){return hr(this._delegate,N.s(this._delegate,k,$))}signInWithPopup(k){var $=this;return(0,u.Z)(function*(){return et(Bn(),$._delegate,"operation-not-supported-in-this-environment"),Ot($._delegate,N.c($._delegate,k,dt))})()}signInWithRedirect(k){var $=this;return(0,u.Z)(function*(){return et(Bn(),$._delegate,"operation-not-supported-in-this-environment"),yield yn($._delegate),N.f($._delegate,k,dt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return N.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=Pn,O})();function nt(O,D,k){let $=O;"function"!=typeof O&&({next:$,error:D,complete:k}=O);const ce=$;return{next:We=>ce(We&&Dn.getOrCreate(We)),error:D,complete:k}}function yt(O,D){const k=function rn(O,D){const k=ut();if(!k)return[];const $=N.az(Yn,O,D);switch(k.getItem($)){case Pn.NONE:return[N.L];case Pn.LOCAL:return[N.i,N.a];case Pn.SESSION:return[N.a];default:return[]}}(O,D);if(typeof self<"u"&&!k.includes(N.i)&&k.push(N.i),typeof window<"u")for(const $ of[N.b,N.a])k.includes($)||k.push($);return k.includes(N.L)||k.push(N.L),k}class Et{constructor(){this.providerId="phone",this._delegate=new N.P(wn(B.Z.auth()))}static credential(D,k){return N.P.credential(D,k)}verifyPhoneNumber(D,k){return this._delegate.verifyPhoneNumber(D,k)}unwrap(){return this._delegate}}Et.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Et.PROVIDER_ID=N.P.PROVIDER_ID;const Ht=N.ax;class G{constructor(D,k,$=B.Z.app()){var ce;Ht(null===(ce=$.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:$.name}),this._delegate=new N.R(D,k,$.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function P(O){O.INTERNAL.registerComponent(new le.wA("auth-compat",D=>{const k=D.getProvider("app-compat").getImmediate(),$=D.getProvider("auth");return new Se(k,$)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:Et,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:G,TwitterAuthProvider:N.W,Auth:Se,AuthCredential:N.H,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.2.22")}(B.Z)},9751:(gt,Oe,F)=>{F.d(Oe,{y:()=>pe});var u=F(930),B=F(727),N=F(8822),ne=F(9635),ge=F(2416),ve=F(576),le=F(2806);let pe=(()=>{class Q{constructor(De){De&&(this._subscribe=De)}lift(De){const xe=new Q;return xe.source=this,xe.operator=De,xe}subscribe(De,xe,Xe){const be=function H(Q){return Q&&Q instanceof u.Lv||function W(Q){return Q&&(0,ve.m)(Q.next)&&(0,ve.m)(Q.error)&&(0,ve.m)(Q.complete)}(Q)&&(0,B.Nn)(Q)}(De)?De:new u.Hp(De,xe,Xe);return(0,le.x)(()=>{const{operator:de,source:ot}=this;be.add(de?de.call(be,ot):ot?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(De){try{return this._subscribe(De)}catch(xe){De.error(xe)}}forEach(De,xe){return new(xe=_e(xe))((Xe,be)=>{const de=new u.Hp({next:ot=>{try{De(ot)}catch(Qe){be(Qe),de.unsubscribe()}},error:be,complete:Xe});this.subscribe(de)})}_subscribe(De){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(De)}[N.L](){return this}pipe(...De){return(0,ne.U)(De)(this)}toPromise(De){return new(De=_e(De))((xe,Xe)=>{let be;this.subscribe(de=>be=de,de=>Xe(de),()=>xe(be))})}}return Q.create=Pe=>new Q(Pe),Q})();function _e(Q){var Pe;return null!==(Pe=Q??ge.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(gt,Oe,F)=>{F.d(Oe,{x:()=>le});var u=F(9751),B=F(727);const ne=(0,F(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=F(8737),ve=F(2806);let le=(()=>{class _e extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new pe(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new ne}next(H){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:Pe,observers:De}=this;return Q||Pe?B.Lc:(this.currentObservers=null,De.push(H),new B.w0(()=>{this.currentObservers=null,(0,ge.P)(De,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:Pe,isStopped:De}=this;Q?H.error(Pe):De&&H.complete()}asObservable(){const H=new u.y;return H.source=this,H}}return _e.create=(W,H)=>new pe(W,H),_e})();class pe extends le{constructor(W,H){super(),this.destination=W,this.source=H}next(W){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,W)}error(W){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,W)}complete(){var W,H;null===(H=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===H||H.call(W)}_subscribe(W){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(W))&&void 0!==Q?Q:B.Lc}}},930:(gt,Oe,F)=>{F.d(Oe,{Hp:()=>Xe,Lv:()=>Q});var u=F(576),B=F(727),N=F(2416),ne=F(7849),ge=F(5032);const ve=_e("C",void 0,void 0);function _e(Fe,Re,Ee){return{kind:Fe,value:Re,error:Ee}}var W=F(3410),H=F(2806);class Q extends B.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,B.Nn)(Re)&&Re.add(this)):this.destination=Qe}static create(Re,Ee,Ye){return new Xe(Re,Ee,Ye)}next(Re){this.isStopped?ot(function pe(Fe){return _e("N",Fe,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?ot(function le(Fe){return _e("E",void 0,Fe)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?ot(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function De(Fe,Re){return Pe.call(Fe,Re)}class xe{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Re)}catch(Ye){be(Ye)}}error(Re){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Re)}catch(Ye){be(Ye)}else be(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Ee){be(Ee)}}}class Xe extends Q{constructor(Re,Ee,Ye){let te;if(super(),(0,u.m)(Re)||!Re)te={next:Re??void 0,error:Ee??void 0,complete:Ye??void 0};else{let ae;this&&N.v.useDeprecatedNextContext?(ae=Object.create(Re),ae.unsubscribe=()=>this.unsubscribe(),te={next:Re.next&&De(Re.next,ae),error:Re.error&&De(Re.error,ae),complete:Re.complete&&De(Re.complete,ae)}):te=Re}this.destination=new xe(te)}}function be(Fe){N.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Fe):(0,ne.h)(Fe)}function ot(Fe,Re){const{onStoppedNotification:Ee}=N.v;Ee&&W.z.setTimeout(()=>Ee(Fe,Re))}const Qe={closed:!0,next:ge.Z,error:function de(Fe){throw Fe},complete:ge.Z}},727:(gt,Oe,F)=>{F.d(Oe,{Lc:()=>ve,w0:()=>ge,Nn:()=>le});var u=F(576);const N=(0,F(3888).d)(_e=>function(H){_e(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,Pe)=>`${Pe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ne=F(8737);class ge{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const De of H)De.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,u.m)(Q))try{Q()}catch(De){W=De instanceof N?De.errors:[De]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const De of Pe)try{pe(De)}catch(xe){W=W??[],xe instanceof N?W=[...W,...xe.errors]:W.push(xe)}}if(W)throw new N(W)}}add(W){var H;if(W&&W!==this)if(this.closed)pe(W);else{if(W instanceof ge){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(W)}}_hasParent(W){const{_parentage:H}=this;return H===W||Array.isArray(H)&&H.includes(W)}_addParent(W){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(W),H):H?[H,W]:W}_removeParent(W){const{_parentage:H}=this;H===W?this._parentage=null:Array.isArray(H)&&(0,ne.P)(H,W)}remove(W){const{_finalizers:H}=this;H&&(0,ne.P)(H,W),W instanceof ge&&W._removeParent(this)}}ge.EMPTY=(()=>{const _e=new ge;return _e.closed=!0,_e})();const ve=ge.EMPTY;function le(_e){return _e instanceof ge||_e&&"closed"in _e&&(0,u.m)(_e.remove)&&(0,u.m)(_e.add)&&(0,u.m)(_e.unsubscribe)}function pe(_e){(0,u.m)(_e)?_e():_e.unsubscribe()}},2416:(gt,Oe,F)=>{F.d(Oe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,Oe,F)=>{F.d(Oe,{E:()=>B});const B=new(F(9751).y)(ge=>ge.complete())},8996:(gt,Oe,F)=>{F.d(Oe,{D:()=>Re});var u=F(8421),B=F(5363),N=F(9468),ve=F(9751),pe=F(2202),_e=F(576),W=F(9672);function Q(Ee,Ye){if(!Ee)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,W.f)(te,Ye,()=>{const ae=Ee[Symbol.asyncIterator]();(0,W.f)(te,Ye,()=>{ae.next().then(we=>{we.done?te.complete():te.next(we.value)})},0,!0)})})}var Pe=F(3670),De=F(8239),xe=F(1144),Xe=F(6495),be=F(2206),de=F(4532),ot=F(3260);function Re(Ee,Ye){return Ye?function Fe(Ee,Ye){if(null!=Ee){if((0,Pe.c)(Ee))return function ne(Ee,Ye){return(0,u.Xf)(Ee).pipe((0,N.R)(Ye),(0,B.Q)(Ye))}(Ee,Ye);if((0,xe.z)(Ee))return function le(Ee,Ye){return new ve.y(te=>{let ae=0;return Ye.schedule(function(){ae===Ee.length?te.complete():(te.next(Ee[ae++]),te.closed||this.schedule())})})}(Ee,Ye);if((0,De.t)(Ee))return function ge(Ee,Ye){return(0,u.Xf)(Ee).pipe((0,N.R)(Ye),(0,B.Q)(Ye))}(Ee,Ye);if((0,be.D)(Ee))return Q(Ee,Ye);if((0,Xe.T)(Ee))return function H(Ee,Ye){return new ve.y(te=>{let ae;return(0,W.f)(te,Ye,()=>{ae=Ee[pe.h](),(0,W.f)(te,Ye,()=>{let we,J;try{({value:we,done:J}=ae.next())}catch(X){return void te.error(X)}J?te.complete():te.next(we)},0,!0)}),()=>(0,_e.m)(ae?.return)&&ae.return()})}(Ee,Ye);if((0,ot.L)(Ee))return function Qe(Ee,Ye){return Q((0,ot.Q)(Ee),Ye)}(Ee,Ye)}throw(0,de.z)(Ee)}(Ee,Ye):(0,u.Xf)(Ee)}},8421:(gt,Oe,F)=>{F.d(Oe,{Xf:()=>Pe});var u=F(655),B=F(1144),N=F(8239),ne=F(9751),ge=F(3670),ve=F(2206),le=F(4532),pe=F(6495),_e=F(3260),W=F(576),H=F(7849),Q=F(8822);function Pe(Fe){if(Fe instanceof ne.y)return Fe;if(null!=Fe){if((0,ge.c)(Fe))return function De(Fe){return new ne.y(Re=>{const Ee=Fe[Q.L]();if((0,W.m)(Ee.subscribe))return Ee.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,B.z)(Fe))return function xe(Fe){return new ne.y(Re=>{for(let Ee=0;Ee<Fe.length&&!Re.closed;Ee++)Re.next(Fe[Ee]);Re.complete()})}(Fe);if((0,N.t)(Fe))return function Xe(Fe){return new ne.y(Re=>{Fe.then(Ee=>{Re.closed||(Re.next(Ee),Re.complete())},Ee=>Re.error(Ee)).then(null,H.h)})}(Fe);if((0,ve.D)(Fe))return de(Fe);if((0,pe.T)(Fe))return function be(Fe){return new ne.y(Re=>{for(const Ee of Fe)if(Re.next(Ee),Re.closed)return;Re.complete()})}(Fe);if((0,_e.L)(Fe))return function ot(Fe){return de((0,_e.Q)(Fe))}(Fe)}throw(0,le.z)(Fe)}function de(Fe){return new ne.y(Re=>{(function Qe(Fe,Re){var Ee,Ye,te,ae;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,u.KL)(Fe);!(Ye=yield Ee.next()).done;)if(Re.next(Ye.value),Re.closed)return}catch(we){te={error:we}}finally{try{Ye&&!Ye.done&&(ae=Ee.return)&&(yield ae.call(Ee))}finally{if(te)throw te.error}}Re.complete()})})(Fe,Re).catch(Ee=>Re.error(Ee))})}},6451:(gt,Oe,F)=>{F.d(Oe,{T:()=>ve});var u=F(8189),B=F(8421),N=F(515),ne=F(7669),ge=F(8996);function ve(...le){const pe=(0,ne.yG)(le),_e=(0,ne._6)(le,1/0),W=le;return W.length?1===W.length?(0,B.Xf)(W[0]):(0,u.J)(_e)((0,ge.D)(W,pe)):N.E}},5403:(gt,Oe,F)=>{F.d(Oe,{Q:()=>N,x:()=>B});var u=F(930);function B(ne,ge,ve,le,pe){return new N(ne,ge,ve,le,pe)}class N extends u.Lv{constructor(ge,ve,le,pe,_e,W){super(ge),this.onFinalize=_e,this.shouldUnsubscribe=W,this._next=ve?function(H){try{ve(H)}catch(Q){ge.error(Q)}}:super._next,this._error=pe?function(H){try{pe(H)}catch(Q){ge.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(H){ge.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(gt,Oe,F)=>{F.d(Oe,{U:()=>N});var u=F(4482),B=F(5403);function N(ne,ge){return(0,u.e)((ve,le)=>{let pe=0;ve.subscribe((0,B.x)(le,_e=>{le.next(ne.call(ge,_e,pe++))}))})}},8189:(gt,Oe,F)=>{F.d(Oe,{J:()=>N});var u=F(5577),B=F(4671);function N(ne=1/0){return(0,u.z)(B.y,ne)}},5577:(gt,Oe,F)=>{F.d(Oe,{z:()=>pe});var u=F(4004),B=F(8421),N=F(4482),ne=F(9672),ge=F(5403),le=F(576);function pe(_e,W,H=1/0){return(0,le.m)(W)?pe((Q,Pe)=>(0,u.U)((De,xe)=>W(Q,De,Pe,xe))((0,B.Xf)(_e(Q,Pe))),H):("number"==typeof W&&(H=W),(0,N.e)((Q,Pe)=>function ve(_e,W,H,Q,Pe,De,xe,Xe){const be=[];let de=0,ot=0,Qe=!1;const Fe=()=>{Qe&&!be.length&&!de&&W.complete()},Re=Ye=>de<Q?Ee(Ye):be.push(Ye),Ee=Ye=>{De&&W.next(Ye),de++;let te=!1;(0,B.Xf)(H(Ye,ot++)).subscribe((0,ge.x)(W,ae=>{Pe?.(ae),De?Re(ae):W.next(ae)},()=>{te=!0},void 0,()=>{if(te)try{for(de--;be.length&&de<Q;){const ae=be.shift();xe?(0,ne.f)(W,xe,()=>Ee(ae)):Ee(ae)}Fe()}catch(ae){W.error(ae)}}))};return _e.subscribe((0,ge.x)(W,Re,()=>{Qe=!0,Fe()})),()=>{Xe?.()}}(Q,Pe,_e,H)))}},5363:(gt,Oe,F)=>{F.d(Oe,{Q:()=>ne});var u=F(9672),B=F(4482),N=F(5403);function ne(ge,ve=0){return(0,B.e)((le,pe)=>{le.subscribe((0,N.x)(pe,_e=>(0,u.f)(pe,ge,()=>pe.next(_e),ve),()=>(0,u.f)(pe,ge,()=>pe.complete(),ve),_e=>(0,u.f)(pe,ge,()=>pe.error(_e),ve)))})}},3099:(gt,Oe,F)=>{F.d(Oe,{B:()=>ge});var u=F(8421),B=F(7579),N=F(930),ne=F(4482);function ge(le={}){const{connector:pe=(()=>new B.x),resetOnError:_e=!0,resetOnComplete:W=!0,resetOnRefCountZero:H=!0}=le;return Q=>{let Pe,De,xe,Xe=0,be=!1,de=!1;const ot=()=>{De?.unsubscribe(),De=void 0},Qe=()=>{ot(),Pe=xe=void 0,be=de=!1},Fe=()=>{const Re=Pe;Qe(),Re?.unsubscribe()};return(0,ne.e)((Re,Ee)=>{Xe++,!de&&!be&&ot();const Ye=xe=xe??pe();Ee.add(()=>{Xe--,0===Xe&&!de&&!be&&(De=ve(Fe,H))}),Ye.subscribe(Ee),!Pe&&Xe>0&&(Pe=new N.Hp({next:te=>Ye.next(te),error:te=>{de=!0,ot(),De=ve(Qe,_e,te),Ye.error(te)},complete:()=>{be=!0,ot(),De=ve(Qe,W),Ye.complete()}}),(0,u.Xf)(Re).subscribe(Pe))})(Q)}}function ve(le,pe,..._e){if(!0===pe)return void le();if(!1===pe)return;const W=new N.Hp({next:()=>{W.unsubscribe(),le()}});return pe(..._e).subscribe(W)}},9468:(gt,Oe,F)=>{F.d(Oe,{R:()=>B});var u=F(4482);function B(N,ne=0){return(0,u.e)((ge,ve)=>{ve.add(N.schedule(()=>ge.subscribe(ve),ne))})}},8505:(gt,Oe,F)=>{F.d(Oe,{b:()=>ge});var u=F(576),B=F(4482),N=F(5403),ne=F(4671);function ge(ve,le,pe){const _e=(0,u.m)(ve)||le||pe?{next:ve,error:le,complete:pe}:ve;return _e?(0,B.e)((W,H)=>{var Q;null===(Q=_e.subscribe)||void 0===Q||Q.call(_e);let Pe=!0;W.subscribe((0,N.x)(H,De=>{var xe;null===(xe=_e.next)||void 0===xe||xe.call(_e,De),H.next(De)},()=>{var De;Pe=!1,null===(De=_e.complete)||void 0===De||De.call(_e),H.complete()},De=>{var xe;Pe=!1,null===(xe=_e.error)||void 0===xe||xe.call(_e,De),H.error(De)},()=>{var De,xe;Pe&&(null===(De=_e.unsubscribe)||void 0===De||De.call(_e)),null===(xe=_e.finalize)||void 0===xe||xe.call(_e)}))}):ne.y}},4408:(gt,Oe,F)=>{F.d(Oe,{o:()=>ge});var u=F(727);class B extends u.w0{constructor(le,pe){super()}schedule(le,pe=0){return this}}const N={setInterval(ve,le,...pe){const{delegate:_e}=N;return _e?.setInterval?_e.setInterval(ve,le,...pe):setInterval(ve,le,...pe)},clearInterval(ve){const{delegate:le}=N;return(le?.clearInterval||clearInterval)(ve)},delegate:void 0};var ne=F(8737);class ge extends B{constructor(le,pe){super(le,pe),this.scheduler=le,this.work=pe,this.pending=!1}schedule(le,pe=0){var _e;if(this.closed)return this;this.state=le;const W=this.id,H=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(H,W,pe)),this.pending=!0,this.delay=pe,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(H,this.id,pe),this}requestAsyncId(le,pe,_e=0){return N.setInterval(le.flush.bind(le,this),_e)}recycleAsyncId(le,pe,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return pe;null!=pe&&N.clearInterval(pe)}execute(le,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(le,pe);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,pe){let W,_e=!1;try{this.work(le)}catch(H){_e=!0,W=H||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:le,scheduler:pe}=this,{actions:_e}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(_e,this),null!=le&&(this.id=this.recycleAsyncId(pe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,Oe,F)=>{F.d(Oe,{v:()=>N});var u=F(6063);class B{constructor(ge,ve=B.now){this.schedulerActionCtor=ge,this.now=ve}schedule(ge,ve=0,le){return new this.schedulerActionCtor(this,ge).schedule(le,ve)}}B.now=u.l.now;class N extends B{constructor(ge,ve=B.now){super(ge,ve),this.actions=[],this._active=!1}flush(ge){const{actions:ve}=this;if(this._active)return void ve.push(ge);let le;this._active=!0;do{if(le=ge.execute(ge.state,ge.delay))break}while(ge=ve.shift());if(this._active=!1,le){for(;ge=ve.shift();)ge.unsubscribe();throw le}}}},4986:(gt,Oe,F)=>{F.d(Oe,{z:()=>N});var u=F(4408);const N=new(F(7565).v)(u.o)},6063:(gt,Oe,F)=>{F.d(Oe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(gt,Oe,F)=>{F.d(Oe,{z:()=>u});const u={setTimeout(B,N,...ne){const{delegate:ge}=u;return ge?.setTimeout?ge.setTimeout(B,N,...ne):setTimeout(B,N,...ne)},clearTimeout(B){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(gt,Oe,F)=>{F.d(Oe,{h:()=>B});const B=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Oe,F)=>{F.d(Oe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(gt,Oe,F)=>{F.d(Oe,{_6:()=>ve,jO:()=>ne,yG:()=>ge});var u=F(576);function N(le){return le[le.length-1]}function ne(le){return(0,u.m)(N(le))?le.pop():void 0}function ge(le){return function B(le){return le&&(0,u.m)(le.schedule)}(N(le))?le.pop():void 0}function ve(le,pe){return"number"==typeof N(le)?le.pop():pe}},8737:(gt,Oe,F)=>{function u(B,N){if(B){const ne=B.indexOf(N);0<=ne&&B.splice(ne,1)}}F.d(Oe,{P:()=>u})},3888:(gt,Oe,F)=>{function u(B){const ne=B(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}F.d(Oe,{d:()=>u})},2806:(gt,Oe,F)=>{F.d(Oe,{O:()=>ne,x:()=>N});var u=F(2416);let B=null;function N(ge){if(u.v.useDeprecatedSynchronousErrorHandling){const ve=!B;if(ve&&(B={errorThrown:!1,error:null}),ge(),ve){const{errorThrown:le,error:pe}=B;if(B=null,le)throw pe}}else ge()}function ne(ge){u.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ge)}},9672:(gt,Oe,F)=>{function u(B,N,ne,ge=0,ve=!1){const le=N.schedule(function(){ne(),ve?B.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(B.add(le),!ve)return le}F.d(Oe,{f:()=>u})},4671:(gt,Oe,F)=>{function u(B){return B}F.d(Oe,{y:()=>u})},1144:(gt,Oe,F)=>{F.d(Oe,{z:()=>u});const u=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(gt,Oe,F)=>{F.d(Oe,{D:()=>B});var u=F(576);function B(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},576:(gt,Oe,F)=>{function u(B){return"function"==typeof B}F.d(Oe,{m:()=>u})},3670:(gt,Oe,F)=>{F.d(Oe,{c:()=>N});var u=F(8822),B=F(576);function N(ne){return(0,B.m)(ne[u.L])}},6495:(gt,Oe,F)=>{F.d(Oe,{T:()=>N});var u=F(2202),B=F(576);function N(ne){return(0,B.m)(ne?.[u.h])}},8239:(gt,Oe,F)=>{F.d(Oe,{t:()=>B});var u=F(576);function B(N){return(0,u.m)(N?.then)}},3260:(gt,Oe,F)=>{F.d(Oe,{L:()=>ne,Q:()=>N});var u=F(655),B=F(576);function N(ge){return(0,u.FC)(this,arguments,function*(){const le=ge.getReader();try{for(;;){const{value:pe,done:_e}=yield(0,u.qq)(le.read());if(_e)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(pe)}}finally{le.releaseLock()}})}function ne(ge){return(0,B.m)(ge?.getReader)}},4482:(gt,Oe,F)=>{F.d(Oe,{A:()=>B,e:()=>N});var u=F(576);function B(ne){return(0,u.m)(ne?.lift)}function N(ne){return ge=>{if(B(ge))return ge.lift(function(ve){try{return ne(ve,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,Oe,F)=>{function u(){}F.d(Oe,{Z:()=>u})},9635:(gt,Oe,F)=>{F.d(Oe,{U:()=>N,z:()=>B});var u=F(4671);function B(...ne){return N(ne)}function N(ne){return 0===ne.length?u.y:1===ne.length?ne[0]:function(ve){return ne.reduce((le,pe)=>pe(le),ve)}}},7849:(gt,Oe,F)=>{F.d(Oe,{h:()=>N});var u=F(2416),B=F(3410);function N(ne){B.z.setTimeout(()=>{const{onUnhandledError:ge}=u.v;if(!ge)throw ne;ge(ne)})}},4532:(gt,Oe,F)=>{function u(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Oe,{z:()=>u})},655:(gt,Oe,F)=>{function ne(J,X){var he={};for(var oe in J)Object.prototype.hasOwnProperty.call(J,oe)&&X.indexOf(oe)<0&&(he[oe]=J[oe]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(oe=Object.getOwnPropertySymbols(J);ze<oe.length;ze++)X.indexOf(oe[ze])<0&&Object.prototype.propertyIsEnumerable.call(J,oe[ze])&&(he[oe[ze]]=J[oe[ze]])}return he}function pe(J,X,he,oe){return new(he||(he=Promise))(function(Be,ft){function Xt(un){try{Ke(oe.next(un))}catch(kn){ft(kn)}}function At(un){try{Ke(oe.throw(un))}catch(kn){ft(kn)}}function Ke(un){un.done?Be(un.value):function ze(Be){return Be instanceof he?Be:new he(function(ft){ft(Be)})}(un.value).then(Xt,At)}Ke((oe=oe.apply(J,X||[])).next())})}function be(J){return this instanceof be?(this.v=J,this):new be(J)}function de(J,X,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,oe=he.apply(J,X||[]),Be=[];return ze={},ft("next"),ft("throw"),ft("return"),ze[Symbol.asyncIterator]=function(){return this},ze;function ft(an){oe[an]&&(ze[an]=function(en){return new Promise(function(Bt,Ct){Be.push([an,en,Bt,Ct])>1||Xt(an,en)})})}function Xt(an,en){try{!function At(an){an.value instanceof be?Promise.resolve(an.value.v).then(Ke,un):kn(Be[0][2],an)}(oe[an](en))}catch(Bt){kn(Be[0][3],Bt)}}function Ke(an){Xt("next",an)}function un(an){Xt("throw",an)}function kn(an,en){an(en),Be.shift(),Be.length&&Xt(Be[0][0],Be[0][1])}}function Qe(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=J[Symbol.asyncIterator];return X?X.call(J):(J=function Q(J){var X="function"==typeof Symbol&&Symbol.iterator,he=X&&J[X],oe=0;if(he)return he.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&oe>=J.length&&(J=void 0),{value:J&&J[oe++],done:!J}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),he={},oe("next"),oe("throw"),oe("return"),he[Symbol.asyncIterator]=function(){return this},he);function oe(Be){he[Be]=J[Be]&&function(ft){return new Promise(function(Xt,At){!function ze(Be,ft,Xt,At){Promise.resolve(At).then(function(Ke){Be({value:Ke,done:Xt})},ft)}(Xt,At,(ft=J[Be](ft)).done,ft.value)})}}}F.d(Oe,{FC:()=>de,KL:()=>Qe,_T:()=>ne,mG:()=>pe,qq:()=>be})},4650:(gt,Oe,F)=>{F.d(Oe,{$8M:()=>_l,$Z:()=>ib,AFp:()=>RC,AaK:()=>pe,CHM:()=>$n,CRH:()=>cr,CZH:()=>_g,CqO:()=>uD,D6c:()=>hv,EJc:()=>ph,EpF:()=>B_,F4k:()=>lD,FYo:()=>WE,FiY:()=>er,G48:()=>fs,GfV:()=>v0,Gpc:()=>H,JOm:()=>os,KtG:()=>Nt,LFG:()=>Vn,LSH:()=>yf,Lbi:()=>yx,Lck:()=>ex,MMx:()=>Zp,NdJ:()=>j_,OlP:()=>Rn,PXZ:()=>si,Q6J:()=>Gl,QGY:()=>Ud,QP$:()=>ce,Qsj:()=>ZM,R0b:()=>Gi,RDi:()=>pf,Rgc:()=>ih,SBq:()=>Ca,Sil:()=>yg,Suo:()=>_C,TTD:()=>mo,TgZ:()=>Wl,X6Q:()=>Zc,XFs:()=>tt,Xpm:()=>Se,Xts:()=>Am,Y36:()=>Fl,YKP:()=>Vc,YNc:()=>Wb,Yjl:()=>O,Yz7:()=>en,Z0I:()=>Sr,ZZ4:()=>ja,_Bn:()=>tC,_UZ:()=>Vd,_Vd:()=>xc,_c5:()=>uv,_uU:()=>K_,aQg:()=>Sg,c2e:()=>FC,cJS:()=>Ct,cg1:()=>X_,dDg:()=>Hc,dqk:()=>dt,eFA:()=>HC,ekj:()=>xp,eoX:()=>Qy,f3M:()=>Jr,g9A:()=>_x,h0i:()=>nu,hGG:()=>dv,hij:()=>$d,iGM:()=>ou,ifc:()=>ct,ip1:()=>PC,jDz:()=>Cy,kL8:()=>ey,lG2:()=>P,lqb:()=>is,lri:()=>Js,n5z:()=>Yo,oAB:()=>Ht,oxw:()=>qb,q4F:()=>b0,qLn:()=>_d,qOj:()=>_p,qZA:()=>Ld,rWj:()=>jC,sBO:()=>gu,sIi:()=>Oc,s_b:()=>ah,soG:()=>Pt,tb:()=>Zy,tp0:()=>Rs,uIk:()=>vp,vHH:()=>xe,vpe:()=>ds,wAp:()=>Rt,xp6:()=>Y0,z2F:()=>jo,zSh:()=>Cf,zs3:()=>Ft});var u=F(7579),B=F(727),N=F(9751),ne=F(6451),ge=F(3099);function ve(i){for(let s in i)if(i[s]===ve)return s;throw Error("Could not find renamed property on target object.")}function le(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function pe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(pe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function _e(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const W=ve({__forward_ref__:ve});function H(i){return i.__forward_ref__=H,i.toString=function(){return pe(this())},i}function Q(i){return Pe(i)?i():i}function Pe(i){return"function"==typeof i&&i.hasOwnProperty(W)&&i.__forward_ref__===H}class xe extends Error{constructor(s,a){super(function Xe(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function be(i){return"string"==typeof i?i:null==i?"":String(i)}function Re(i,s){throw new xe(-201,!1)}function At(i,s){null==i&&function Ke(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function en(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ct(i){return{providers:i.providers||[],imports:i.imports||[]}}function In(i){return $r(i,Un)||$r(i,dr)}function Sr(i){return null!==In(i)}function $r(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ar(i){return i&&(i.hasOwnProperty(Bn)||i.hasOwnProperty(zr))?i[Bn]:null}const Un=ve({\u0275prov:ve}),Bn=ve({\u0275inj:ve}),dr=ve({ngInjectableDef:ve}),zr=ve({ngInjectorDef:ve});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let hn;function dn(i){const s=hn;return hn=i,s}function Yn(i,s,a){const l=In(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&tt.Optional?null:void 0!==s?s:void Re(pe(i))}function yn(i){return{toString:i}.toString()}var bn=(()=>((bn=bn||{})[bn.OnPush=0]="OnPush",bn[bn.Default=1]="Default",bn))(),ct=(()=>{return(i=ct||(ct={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ct;var i})();const dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jn={},Dt=[],or=ve({\u0275cmp:ve}),Ot=ve({\u0275dir:ve}),hr=ve({\u0275pipe:ve}),zt=ve({\u0275mod:ve}),Hn=ve({\u0275fac:ve}),Dn=ve({__NG_ELEMENT_ID__:ve});let et=0;function Se(i){return yn(()=>{const a=!0===i.standalone,l={},h={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Dt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ct.Emulated,id:"c"+et++,styles:i.styles||Dt,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.dependencies,_=i.features;return h.inputs=j(i.inputs,l),h.outputs=j(i.outputs),_&&_.forEach(b=>b(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(yt).filter(Et):null,h.pipeDefs=f?()=>("function"==typeof f?f():f).map($).filter(Et):null,h})}function yt(i){return D(i)||k(i)}function Et(i){return null!==i}function Ht(i){return yn(()=>({type:i.type,bootstrap:i.bootstrap||Dt,declarations:i.declarations||Dt,imports:i.imports||Dt,exports:i.exports||Dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function j(i,s){if(null==i)return Jn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=l,s&&(s[h]=f)}return a}const P=Se;function O(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function D(i){return i[or]||null}function k(i){return i[Ot]||null}function $(i){return i[hr]||null}function ce(i){const s=D(i)||k(i)||$(i);return null!==s&&s.standalone}function Le(i,s){const a=i[zt]||null;if(!a&&!0===s)throw new Error(`Type ${pe(i)} does not have '\u0275mod' property.`);return a}function vr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Pr(i){return Array.isArray(i)&&!0===i[1]}function Qi(i){return 0!=(8&i.flags)}function zo(i){return 2==(2&i.flags)}function Ho(i){return 1==(1&i.flags)}function li(i){return null!==i.template}function ra(i){return 0!=(256&i[2])}function Er(i,s){return i.hasOwnProperty(Hn)?i[Hn]:null}class vs{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function mo(){return Ja}function Ja(i){return i.type.prototype.ngOnChanges&&(i.setInput=aa),Xa}function Xa(){const i=Wo(this),s=i?.current;if(s){const a=i.previous;if(a===Jn)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function aa(i,s,a,l){const h=Wo(i)||function ca(i,s){return i[ec]=s}(i,{previous:Jn,current:null}),f=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[a],C=_[b];f[b]=new vs(C&&C.currentValue,s,_===Jn),i[l]=s}mo.ngInherit=!0;const ec="__ngSimpleChanges__";function Wo(i){return i[ec]||null}function jn(i){for(;Array.isArray(i);)i=i[0];return i}function Ei(i,s){return jn(s[i])}function Nr(i,s){return jn(s[i.index])}function bs(i,s){return i.data[s]}function gn(i,s){const a=s[i];return vr(a)?a:a[0]}function bo(i){return 64==(64&i[2])}function _i(i,s){return null==s?null:i[s]}function ws(i){i[18]=0}function Cs(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Vt={lFrame:Ru(null),bindingsEnabled:!0};function Je(){return Vt.bindingsEnabled}function Ie(){return Vt.lFrame.lView}function kt(){return Vt.lFrame.tView}function $n(i){return Vt.lFrame.contextLView=i,i[8]}function Nt(i){return Vt.lFrame.contextLView=null,i}function On(){let i=wo();for(;null!==i&&64===i.type;)i=i.parent;return i}function wo(){return Vt.lFrame.currentTNode}function Ir(i,s){const a=Vt.lFrame;a.currentTNode=i,a.isParent=s}function Xi(){return Vt.lFrame.isParent}function ic(){return Vt.lFrame.bindingIndex++}function Wh(i,s){const a=Vt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ol(s)}function ol(i){Vt.lFrame.currentDirectiveIndex=i}function Ou(){return Vt.lFrame.currentQueryIndex}function ku(i){Vt.lFrame.currentQueryIndex=i}function Pu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function rm(i,s,a){if(a&tt.SkipSelf){let h=s,f=i;for(;!(h=h.parent,null!==h||a&tt.Host||(h=Pu(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;s=h,i=f}const l=Vt.lFrame=im();return l.currentTNode=s,l.lView=i,!0}function sl(i){const s=im(),a=i[1];Vt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function im(){const i=Vt.lFrame,s=null===i?null:i.child;return null===s?Ru(i):s}function Ru(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function om(){const i=Vt.lFrame;return Vt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Zh=om;function ua(){const i=om();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Gn(){return Vt.lFrame.selectedIndex}function Io(i){Vt.lFrame.selectedIndex=i}function Wn(){const i=Vt.lFrame;return bs(i.tView,i.selectedIndex)}function oc(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:M}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function sc(i,s,a){Lu(i,s,3,a)}function Is(i,s,a,l){(3&i[2])===a&&Lu(i,s,a,l)}function Fu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Lu(i,s,a,l){const f=l??-1,_=s.length-1;let b=0;for(let C=void 0!==l?65535&i[18]:0;C<_;C++)if("number"==typeof s[C+1]){if(b=s[C],null!=l&&b>=l)break}else s[C]<0&&(i[18]+=65536),(b<f||-1==f)&&(qh(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function qh(i,s,a,l){const h=a[l]<0,f=a[l+1],b=i[h?-a[l]:a[l]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(b)}finally{}}}else try{f.call(b)}finally{}}class Ii{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Do(i,s,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const f=a[l++],_=a[l++],b=a[l++];i.setAttribute(s,_,b,f)}else{const f=h,_=a[++l];ju(f)?i.setProperty(s,f,_):i.setAttribute(s,f,_),l++}}return l}function Bu(i){return 3===i||4===i||6===i}function ju(i){return 64===i.charCodeAt(0)}function cc(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||Yh(i,a,h,null,-1===a||2===a?s[++l]:null)}}return i}function Yh(i,s,a,l,h){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const b=i[f++];if("number"==typeof b){if(b===s){_=-1;break}if(b>s){_=f-1;break}}}for(;f<i.length;){const b=i[f];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==h&&(i[f+1]=h));if(l===i[f+1])return void(i[f+2]=h)}f++,null!==l&&f++,null!==h&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==h&&i.splice(f++,0,h)}function fm(i){return-1!==i}function Ds(i){return 32767&i}function Ko(i,s){let a=function pm(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let $u=!0;function ul(i){const s=$u;return $u=i,s}let Qh=0;const Li={};function xs(i,s){const a=dl(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,zu(l.data,i),zu(s,null),zu(l.blueprint,null));const h=lc(i,s),f=i.injectorIndex;if(fm(h)){const _=Ds(h),b=Ko(h,s),C=b[1].data;for(let I=0;I<8;I++)s[f+I]=b[_+I]|C[_+I]}return s[f+8]=h,f}function zu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function dl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function lc(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){if(l=ml(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function uc(i,s,a){!function mm(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Dn)&&(l=a[Dn]),null==l&&(l=a[Dn]=Qh++);const h=255&l;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function hl(i,s,a){if(a&tt.Optional||void 0!==i)return i;Re()}function ha(i,s,a,l){if(a&tt.Optional&&void 0===l&&(l=null),0==(a&(tt.Self|tt.Host))){const h=i[9],f=dn(void 0);try{return h?h.get(s,l,a&tt.Optional):Yn(s,l,a&tt.Optional)}finally{dn(f)}}return hl(l,0,a)}function fl(i,s,a,l=tt.Default,h){if(null!==i){if(1024&s[2]){const _=function ym(i,s,a,l,h){let f=i,_=s;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=Jh(f,_,a,l|tt.Self,Li);if(b!==Li)return b;let C=f.parent;if(!C){const I=_[21];if(I){const M=I.get(a,Li,l);if(M!==Li)return M}C=ml(_),_=_[15]}f=C}return h}(i,s,a,l,Li);if(_!==Li)return _}const f=Jh(i,s,a,l,Li);if(f!==Li)return f}return ha(s,a,l,h)}function Jh(i,s,a,l,h){const f=function _m(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Dn)?i[Dn]:void 0;return"number"==typeof s?s>=0?255&s:tf:s}(a);if("function"==typeof f){if(!rm(s,i,l))return l&tt.Host?hl(h,0,l):ha(s,a,l,h);try{const _=f(l);if(null!=_||l&tt.Optional)return _;Re()}finally{Zh()}}else if("number"==typeof f){let _=null,b=dl(i,s),C=-1,I=l&tt.Host?s[16][6]:null;for((-1===b||l&tt.SkipSelf)&&(C=-1===b?lc(i,s):s[b+8],-1!==C&&ef(l,!1)?(_=s[1],b=Ds(C),s=Ko(C,s)):b=-1);-1!==b;){const M=s[1];if(pl(f,b,M.data)){const U=Xh(b,s,a,_,l,I);if(U!==Li)return U}C=s[b+8],-1!==C&&ef(l,s[1].data[b+8]===I)&&pl(f,b,s)?(_=M,b=Ds(C),s=Ko(C,s)):b=-1}}return h}function Xh(i,s,a,l,h,f){const _=s[1],b=_.data[i+8],M=hc(b,_,a,null==l?zo(b)&&$u:l!=_&&0!=(3&b.type),h&tt.Host&&f===b);return null!==M?xo(s,_,M,b):Li}function hc(i,s,a,l,h){const f=i.providerIndexes,_=s.data,b=1048575&f,C=i.directiveStart,M=f>>20,q=h?b+M:i.directiveEnd;for(let ie=l?b:b+M;ie<q;ie++){const Me=_[ie];if(ie<C&&a===Me||ie>=C&&Me.type===a)return ie}if(h){const ie=_[C];if(ie&&li(ie)&&ie.type===a)return C}return null}function xo(i,s,a,l){let h=i[a];const f=s.data;if(function Vu(i){return i instanceof Ii}(h)){const _=h;_.resolving&&function ot(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new xe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function de(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():be(i)}(f[a]));const b=ul(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?dn(_.injectImpl):null;rm(i,l,tt.Default);try{h=i[a]=_.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function al(i,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(l){const _=Ja(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==C&&dn(C),ul(b),_.resolving=!1,Zh()}}return h}function pl(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function ef(i,s){return!(i&tt.Self||i&tt.Host&&s)}class fc{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return fl(this._tNode,this._lView,s,l,a)}}function tf(){return new fc(On(),Ie())}function Yo(i){return yn(()=>{const s=i.prototype.constructor,a=s[Hn]||gl(s),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const f=h[Hn]||gl(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function gl(i){return Pe(i)?()=>{const s=gl(Q(i));return s&&s()}:Er(i)}function ml(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function _l(i){return function dc(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const f=a[h];if(Bu(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(On(),i)}const pc="__parameters__";function gc(i,s,a){return yn(()=>{const l=function nf(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...f){if(this instanceof h)return l.apply(this,f),this;const _=new h(...f);return b.annotation=_,b;function b(C,I,M){const U=C.hasOwnProperty(pc)?C[pc]:Object.defineProperty(C,pc,{value:[]})[pc];for(;U.length<=M;)U.push(null);return(U[M]=U[M]||[]).push(_),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class Rn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ln(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Ln(l,s)):s!==i&&s.push(l)}return s}function To(i,s){i.forEach(a=>Array.isArray(a)?To(a,s):s(a))}function Ms(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function xr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function mt(i,s,a){let l=Qo(i,s);return l>=0?i[1|l]=a:(l=~l,function bm(i,s,a,l){let h=i.length;if(h==s)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Wu(i,s){const a=Qo(i,s);if(a>=0)return i[1|a]}function Qo(i,s){return function Zu(i,s,a){let l=0,h=i.length>>a;for(;h!==l;){const f=l+(h-l>>1),_=i[f<<a];if(s===_)return f<<a;_>s?h=f:l=f+1}return~(h<<a)}(i,s,1)}const ga={},Qu="__NG_DI_FLAG__",Jo="ngTempTokenPath",So=/\n/gm,pr="__source";let Xo;function es(i){const s=Xo;return Xo=i,s}function gr(i,s=tt.Default){if(void 0===Xo)throw new xe(-203,!1);return null===Xo?Yn(i,void 0,s):Xo.get(i,s&tt.Optional?null:void 0,s)}function Vn(i,s=tt.Default){return(function Pn(){return hn}()||gr)(Q(i),s)}function Jr(i,s=tt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Vn(i,s)}function Tr(i){const s=[];for(let a=0;a<i.length;a++){const l=Q(i[a]);if(Array.isArray(l)){if(0===l.length)throw new xe(900,!1);let h,f=tt.Default;for(let _=0;_<l.length;_++){const b=l[_],C=uf(b);"number"==typeof C?-1===C?h=b.token:f|=C:h=b}s.push(Vn(h,f))}else s.push(Vn(l))}return s}function no(i,s){return i[Qu]=s,i.prototype[Qu]=s,i}function uf(i){return i[Qu]}const er=no(gc("Optional"),8),Rs=no(gc("SkipSelf"),4);let rd;function pf(i){rd=i}class mf{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ro(i){return i instanceof mf?i.changingThisBreaksApplicationSecurity:i}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function yf(i){const s=function dd(){const i=Ie();return i&&i[12]}();return s?s.sanitize(zn.URL,i)||"":function No(i,s){const a=function ad(i){return i instanceof mf&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?ro(i):function m(i){return(i=String(i)).match(p)?i:"unsafe:"+i}(be(i))}const Am=new Rn("ENVIRONMENT_INITIALIZER"),c0=new Rn("INJECTOR",-1),l0=new Rn("INJECTOR_DEF_TYPES");class u0{get(s,a=ga){if(a===ga){const l=new Error(`NullInjectorError: No provider for ${pe(s)}!`);throw l.name="NullInjectorError",l}return a}}function $E(...i){return{\u0275providers:d0(0,i)}}function d0(i,...s){const a=[],l=new Set;let h;return To(s,f=>{const _=f;bf(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&Om(h,a),a}function Om(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];To(h,f=>{s.push(f)})}}function bf(i,s,a,l){if(!(i=Q(i)))return!1;let h=null,f=Ar(i);const _=!f&&D(i);if(f||_){if(_&&!_.standalone)return!1;h=i}else{const C=i.ngModule;if(f=Ar(C),!f)return!1;h=C}const b=l.has(h);if(_){if(b)return!1;if(l.add(h),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const I of C)bf(I,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!b){let I;l.add(h);try{To(f.imports,M=>{bf(M,s,a,l)&&(I||(I=[]),I.push(M))})}finally{}void 0!==I&&Om(I,s)}if(!b){const I=Er(h)||(()=>new h);s.push({provide:h,useFactory:I,deps:Dt},{provide:l0,useValue:h,multi:!0},{provide:Am,useValue:()=>Vn(h),multi:!0})}const C=f.providers;null==C||b||To(C,M=>{s.push(M)})}}return h!==i&&void 0!==i.providers}const h0=ve({provide:String,useValue:ve});function hd(i){return null!==i&&"object"==typeof i&&h0 in i}function io(i){return"function"==typeof i}const Cf=new Rn("Set Injector scope."),Ef={},Dc={};let If;function Df(){return void 0===If&&(If=new u0),If}class is{}class km extends is{constructor(s,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tf(s,_=>this.processProvider(_)),this.records.set(c0,Tl(void 0,this)),h.has("environment")&&this.records.set(is,Tl(void 0,this));const f=this.records.get(Cf);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(l0.multi,Dt,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=es(this),l=dn(void 0);try{return s()}finally{es(a),dn(l)}}get(s,a=ga,l=tt.Default){this.assertNotDestroyed();const h=es(this),f=dn(void 0);try{if(!(l&tt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const C=function HE(i){return"function"==typeof i||"object"==typeof i&&i instanceof Rn}(s)&&In(s);b=C&&this.injectableDefInScope(C)?Tl(fd(s),Ef):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(l&tt.Self?Df():this.parent).get(s,a=l&tt.Optional&&a===ga?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Jo]=_[Jo]||[]).unshift(pe(s)),h)throw _;return function wm(i,s,a,l){const h=i[Jo];throw s[pr]&&h.unshift(s[pr]),i.message=function Ui(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=pe(s);if(Array.isArray(s))h=s.map(pe).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let b=s[_];f.push(_+":"+("string"==typeof b?JSON.stringify(b):pe(b)))}h=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(So,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[Jo]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{dn(f),es(h)}}resolveInjectorInitializers(){const s=es(this),a=dn(void 0);try{const l=this.get(Am.multi,Dt,tt.Self);for(const h of l)h()}finally{es(s),dn(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(pe(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(s){let a=io(s=Q(s))?s:Q(s&&s.provide);const l=function Pm(i){return hd(i)?Tl(void 0,i.useValue):Tl(xf(i),Ef)}(s);if(io(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Tl(void 0,Ef,!0),h.factory=()=>Tr(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Ef&&(a.value=Dc,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zE(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function fd(i){const s=In(i),a=null!==s?s.factory:Er(i);if(null!==a)return a;if(i instanceof Rn)throw new xe(204,!1);if(i instanceof Function)return function p0(i){const s=i.length;if(s>0)throw function Ss(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new xe(204,!1);const a=function An(i){const s=i&&(i[Un]||i[dr]);if(s){const a=function Kn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new xe(204,!1)}function xf(i,s,a){let l;if(io(i)){const h=Q(i);return Er(h)||fd(h)}if(hd(i))l=()=>Q(i.useValue);else if(function rs(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Tr(i.deps||[]));else if(function wf(i){return!(!i||!i.useExisting)}(i))l=()=>Vn(Q(i.useExisting));else{const h=Q(i&&(i.useClass||i.provide));if(!function pd(i){return!!i.deps}(i))return Er(h)||fd(h);l=()=>new h(...Tr(i.deps))}return l}function Tl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Rm(i){return!!i.\u0275providers}function Tf(i,s){for(const a of i)Array.isArray(a)?Tf(a,s):Rm(a)?Tf(a.\u0275providers,s):s(a)}class Nm{}class Sf{resolveComponentFactory(s){throw function m0(i){const s=Error(`No component factory found for ${pe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let xc=(()=>{class i{}return i.NULL=new Sf,i})();function GE(){return Ml(On(),Ie())}function Ml(i,s){return new Ca(Nr(i,s))}let Ca=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=GE,i})();function y0(i){return i instanceof Ca?i.nativeElement:i}class WE{}let ZM=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function qM(){const i=Ie(),a=gn(On().index,i);return(vr(a)?a:i)[11]}(),i})(),Fm=(()=>{class i{}return i.\u0275prov=en({token:i,providedIn:"root",factory:()=>null}),i})();class v0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const b0=new v0("14.2.5"),Lm={};function zm(i){return i.ngOriginalError}class _d{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&zm(s);for(;a&&zm(a);)a=zm(a);return a||null}}const Hm=new Map;let XE=0;const Nf="__ngContext__";function Zr(i,s){vr(s)?(i[Nf]=s[20],function tI(i){Hm.set(i[20],i)}(s)):i[Nf]=s}function Vs(i){return i instanceof Function?i():i}var os=(()=>((os=os||{})[os.Important=1]="Important",os[os.DashCase=2]="DashCase",os))();function Km(i,s){return undefined(i,s)}function Pl(i){const s=i[3];return Pr(s)?s[3]:s}function Vf(i){return k0(i[13])}function Uf(i){return k0(i[4])}function k0(i){for(;null!==i&&!Pr(i);)i=i[4];return i}function Rl(i,s,a,l,h){if(null!=l){let f,_=!1;Pr(l)?f=l:vr(l)&&(_=!0,l=l[0]);const b=jn(l);0===i&&null!==a?null==h?U0(s,a,b):ss(s,a,b,h||null,!0):1===i&&null!==a?ss(s,a,b,h||null,!0):2===i?function gI(i,s,a){const l=$f(i,s);l&&function pI(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,b,_):3===i&&s.destroyNode(b),null!=f&&function iS(i,s,a,l,h){const f=a[7];f!==jn(a)&&Rl(s,i,l,f,h);for(let b=10;b<a.length;b++){const C=a[b];Tc(C[1],C,i,s,l,f)}}(s,i,f,a,h)}}function Bf(i,s,a){return i.createElement(s,a)}function F0(i,s){const a=i[9],l=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,Cs(h,-1)),a.splice(l,1)}function Xm(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const h=l[17];null!==h&&h!==i&&F0(h,l),s>0&&(i[a-1][4]=l[4]);const f=xr(i,10+s);!function Jm(i,s){Tc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=f[19];null!==_&&_.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function bd(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&Tc(i,s,a,3,null,null),function nS(i){let s=i[13];if(!s)return jf(i[1],i);for(;s;){let a=null;if(vr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)vr(s)&&jf(s[1],s),s=s[3];null===s&&(s=i),vr(s)&&jf(s[1],s),a=s&&s[4]}s=a}}(s)}}function jf(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function t_(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof Ii)){const f=a[l+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const b=h[f[_]],C=f[_+1];try{C.call(b)}finally{}}else try{f.call(h)}finally{}}}}(i,s),function e_(i,s){const a=i.cleanup,l=s[7];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],b="function"==typeof _?_(s):jn(s[_]),C=l[h=a[f+2]],I=a[f+3];"boolean"==typeof I?b.removeEventListener(a[f],C,I):I>=0?l[h=I]():l[h=-I].unsubscribe(),f+=2}else{const _=l[h=a[f+1]];a[f].call(_)}if(null!==l){for(let f=h+1;f<l.length;f++)(0,l[f])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Pr(s[3])){a!==s[3]&&F0(a,s);const l=s[19];null!==l&&l.detachView(i)}!function nI(i){Hm.delete(i[20])}(s)}}function L0(i,s,a){return function V0(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const h=i.data[l.directiveStart].encapsulation;if(h===ct.None||h===ct.Emulated)return null}return Nr(l,a)}(i,s.parent,a)}function ss(i,s,a,l,h){i.insertBefore(s,a,l,h)}function U0(i,s,a){i.appendChild(s,a)}function B0(i,s,a,l,h){null!==l?ss(i,s,a,l,h):U0(i,s,a)}function $f(i,s){return i.parentNode(s)}let n_=function $0(i,s,a){return 40&i.type?Nr(i,a):null};function Hf(i,s,a,l){const h=L0(i,l,s),f=s[11],b=function mr(i,s,a){return n_(i,s,a)}(l.parent||s[6],l,s);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)B0(f,h,a[C],b,!1);else B0(f,h,a,b,!1)}function Gf(i,s){if(null!==s){const a=s.type;if(3&a)return Nr(s,i);if(4&a)return z0(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Gf(i,l);{const h=i[s.index];return Pr(h)?z0(-1,h):jn(h)}}if(32&a)return Km(s,i)()||jn(i[s.index]);{const l=r_(i,s);return null!==l?Array.isArray(l)?l[0]:Gf(Pl(i[16]),l):Gf(i,s.next)}}return null}function r_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function z0(i,s){const a=10+i+1;if(a<s.length){const l=s[a],h=l[1].firstChild;if(null!==h)return Gf(l,h)}return s[7]}function i_(i,s,a,l,h,f,_){for(;null!=a;){const b=l[a.index],C=a.type;if(_&&0===s&&(b&&Zr(jn(b),l),a.flags|=4),64!=(64&a.flags))if(8&C)i_(i,s,a.child,l,h,f,!1),Rl(s,i,h,b,f);else if(32&C){const I=Km(a,l);let M;for(;M=I();)Rl(s,i,h,M,f);Rl(s,i,h,b,f)}else 16&C?Cd(i,s,l,a,h,f):Rl(s,i,h,b,f);a=_?a.projectionNext:a.next}}function Tc(i,s,a,l,h,f){i_(a,l,i.firstChild,s,h,f,!1)}function Cd(i,s,a,l,h,f){const _=a[16],C=_[6].projection[l.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)Rl(s,i,h,C[I],f);else i_(i,s,C,_[3],h,f,!0)}function Mc(i,s,a){i.setAttribute(s,"style",a)}function Ed(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function mI(i,s,a){let l=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=s.length;if(h+f===l||i.charCodeAt(h+f)<=32)return h}a=h+1}}const o_="ng-template";function s_(i,s,a){let l=0;for(;l<i.length;){let h=i[l++];if(a&&"class"===h){if(h=i[l],-1!==mI(h.toLowerCase(),s,0))return!0}else if(1===h){for(;l<i.length&&"string"==typeof(h=i[l++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function W0(i){return 4===i.type&&i.value!==o_}function yI(i,s,a){return s===(4!==i.type||a?i.value:o_)}function vI(i,s,a){let l=4;const h=i.attrs||[],f=function oS(i){for(let s=0;s<i.length;s++)if(Bu(i[s]))return s;return i.length}(h);let _=!1;for(let b=0;b<s.length;b++){const C=s[b];if("number"!=typeof C){if(!_)if(4&l){if(l=2|1&l,""!==C&&!yI(i,C,a)||""===C&&1===s.length){if(so(l))return!1;_=!0}}else{const I=8&l?C:s[++b];if(8&l&&null!==i.attrs){if(!s_(i.attrs,I,a)){if(so(l))return!1;_=!0}continue}const U=bI(8&l?"class":C,h,W0(i),a);if(-1===U){if(so(l))return!1;_=!0;continue}if(""!==I){let q;q=U>f?"":h[U+1].toLowerCase();const ie=8&l?q:null;if(ie&&-1!==mI(ie,I,0)||2&l&&I!==q){if(so(l))return!1;_=!0}}}}else{if(!_&&!so(l)&&!so(C))return!1;if(_&&so(C))continue;_=!1,l=C|1&l}}return so(l)||_}function so(i){return 0==(1&i)}function bI(i,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let f=!1;for(;h<s.length;){const _=s[h];if(_===i)return h;if(3===_||6===_)f=!0;else{if(1===_||2===_){let b=s[++h];for(;"string"==typeof b;)b=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=f?1:2}return-1}return function Z0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function wI(i,s,a=!1){for(let l=0;l<s.length;l++)if(vI(i,s[l],a))return!0;return!1}function q0(i,s){return i?":not("+s.trim()+")":s}function K0(i){let s=i[0],a=1,l=2,h="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const b=i[++a];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!so(_)&&(s+=q0(f,h),h=""),l=_,f=f||!so(l);a++}return""!==h&&(s+=q0(f,h)),s}const Zt={};function Y0(i){Q0(kt(),Ie(),Gn()+i,!1)}function Q0(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&sc(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Is(s,f,0,a)}Io(a)}function c_(i,s=null,a=null,l){const h=qf(i,s,a,l);return h.resolveInjectorInitializers(),h}function qf(i,s=null,a=null,l,h=new Set){const f=[a||Dt,$E(i)];return l=l||("object"==typeof i?void 0:pe(i)),new km(f,s||Df(),l||null,h)}let Ft=(()=>{class i{static create(a,l){if(Array.isArray(a))return c_({name:""},l,a,"");{const h=a.name??"";return c_({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=ga,i.NULL=new u0,i.\u0275prov=en({token:i,providedIn:"any",factory:()=>Vn(c0)}),i.__NG_ELEMENT_ID__=-1,i})();function Fl(i,s=tt.Default){const a=Ie();return null===a?Vn(i,s):fl(On(),a,Q(i),s)}function ib(){throw new Error("invalid")}function Id(i,s){return i<<17|s<<2}function Lo(i){return i>>17&32767}function h_(i){return 2|i}function ar(i){return(131068&i)>>2}function Ll(i,s){return-131069&i|s<<2}function Dd(i){return 1|i}function mb(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],f=a[l+1];if(-1!==f){const _=i.data[f];ku(h),_.contentQueries(2,s[f],f)}}}function up(i,s,a,l,h,f,_,b,C,I,M){const U=s.blueprint.slice();return U[0]=h,U[2]=76|l,(null!==M||i&&1024&i[2])&&(U[2]|=1024),ws(U),U[3]=U[15]=i,U[8]=a,U[10]=_||i&&i[10],U[11]=b||i&&i[11],U[12]=C||i&&i[12]||null,U[9]=I||i&&i[9]||null,U[6]=f,U[20]=function eI(){return XE++}(),U[21]=M,U[16]=2==s.type?i[16]:U,U}function Vl(i,s,a,l,h){let f=i.data[s];if(null===f)f=function w_(i,s,a,l,h){const f=wo(),_=Xi(),C=i.data[s]=function bb(i,s,a,l,h,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,l,h);return null===i.firstChild&&(i.firstChild=C),null!==f&&(_?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}(i,s,a,l,h),function Gh(){return Vt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=h;const _=function Co(){const i=Vt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Ir(f,!0),f}function Ul(i,s,a,l){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return h}function C_(i,s,a){sl(s);try{const l=i.viewQuery;null!==l&&Ab(1,l,a);const h=i.template;null!==h&&E_(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&mb(i,s),i.staticViewQueries&&Ab(2,i.viewQuery,a);const f=i.components;null!==f&&function zI(i,s){for(let a=0;a<s.length;a++)Tb(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ua()}}function Ac(i,s,a,l){const h=s[2];if(128!=(128&h)){sl(s);try{ws(s),function rc(i){return Vt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&E_(i,s,a,2,l);const _=3==(3&h);if(_){const I=i.preOrderCheckHooks;null!==I&&sc(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Is(s,I,0,null),Fu(s,0)}if(function KI(i){for(let s=Vf(i);null!==s;s=Uf(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const h=a[l],f=h[3];0==(512&h[2])&&Cs(f,1),h[2]|=512}}}(s),function DS(i){for(let s=Vf(i);null!==s;s=Uf(s))for(let a=10;a<s.length;a++){const l=s[a],h=l[1];bo(l)&&Ac(h,l,h.template,l[8])}}(s),null!==i.contentQueries&&mb(i,s),_){const I=i.contentCheckHooks;null!==I&&sc(s,I)}else{const I=i.contentHooks;null!==I&&Is(s,I,1),Fu(s,1)}!function jI(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Io(~h);else{const f=h,_=a[++l],b=a[++l];Wh(_,f),b(2,s[f])}}}finally{Io(-1)}}(i,s);const b=i.components;null!==b&&function $I(i,s){for(let a=0;a<s.length;a++)xb(i,s[a])}(s,b);const C=i.viewQuery;if(null!==C&&Ab(2,C,l),_){const I=i.viewCheckHooks;null!==I&&sc(s,I)}else{const I=i.viewHooks;null!==I&&Is(s,I,2),Fu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Cs(s[3],-1))}finally{ua()}}}function E_(i,s,a,l,h){const f=Gn(),_=2&l;try{Io(-1),_&&s.length>22&&Q0(i,s,22,!1),a(l,h)}finally{Io(f)}}function Td(i,s,a){!Je()||(function Md(i,s,a,l){const h=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||xs(a,s),Zr(l,s);const _=a.initialInputs;for(let b=h;b<f;b++){const C=i.data[b],I=li(C);I&&CS(s,a,C);const M=xo(s,i,b,a);Zr(M,s),null!==_&&ES(0,b-h,M,C,0,_),I&&(gn(a.index,s)[8]=M)}}(i,s,a,Nr(a,s)),128==(128&a.flags)&&function vS(i,s,a){const l=a.directiveStart,h=a.directiveEnd,f=a.index,_=function Kv(){return Vt.lFrame.currentDirectiveIndex}();try{Io(f);for(let b=l;b<h;b++){const C=i.data[b],I=s[b];ol(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&hp(C,I)}}finally{Io(-1),ol(_)}}(i,s,a))}function D_(i,s,a=Nr){const l=s.localNames;if(null!==l){let h=s.index+1;for(let f=0;f<l.length;f+=2){const _=l[f+1],b=-1===_?a(s,i):i[_];i[h++]=b}}}function _b(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=x_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function x_(i,s,a,l,h,f,_,b,C,I){const M=22+l,U=M+h,q=function yb(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Zt);return a}(M,U),ie="function"==typeof I?I():I;return q[1]={type:i,blueprint:q,template:a,queries:null,viewQuery:b,declTNode:s,data:q.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:ie,incompleteFirstPass:!1}}function T_(i,s,a,l){const h=Ob(s);null===a?h.push(l):(h.push(a),i.firstCreatePass&&k_(i).push(l,h.length-1))}function GI(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const h=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,h):a[l]=[s,h]}return a}function wb(i,s){const l=s.directiveEnd,h=i.data,f=s.attrs,_=[];let b=null,C=null;for(let I=s.directiveStart;I<l;I++){const M=h[I],U=M.inputs,q=null===f||W0(s)?null:IS(U,f);_.push(q),b=GI(U,I,b),C=GI(M.outputs,I,C)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=b,s.outputs=C}function dp(i,s){const a=gn(s,i);16&a[2]||(a[2]|=32)}function M_(i,s,a,l){let h=!1;if(Je()){const f=function bS(i,s,a){const l=i.directiveRegistry;let h=null;if(l)for(let f=0;f<l.length;f++){const _=l[f];wI(a,_.selectors,!1)&&(h||(h=[]),uc(xs(a,s),i,_.type),li(_)?(Eb(i,a),h.unshift(_)):h.push(_))}return h}(i,s,a),_=null===l?null:{"":-1};if(null!==f){h=!0,Ib(a,i.data.length,f.length);for(let M=0;M<f.length;M++){const U=f[M];U.providersResolver&&U.providersResolver(U)}let b=!1,C=!1,I=Ul(i,s,f.length,null);for(let M=0;M<f.length;M++){const U=f[M];a.mergedAttrs=cc(a.mergedAttrs,U.hostAttrs),ZI(i,a,s,I,U),WI(I,U,_),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const q=U.type.prototype;!b&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!C&&(q.ngOnChanges||q.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),I++}wb(i,a)}_&&function wS(i,s,a){if(s){const l=i.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new xe(-301,!1);l.push(s[h],f)}}}(a,l,_)}return a.mergedAttrs=cc(a.mergedAttrs,a.attrs),h}function S_(i,s,a,l,h,f){const _=f.hostBindings;if(_){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const C=~s.index;(function A_(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=C&&b.push(C),b.push(l,h,_)}}function hp(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Eb(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function WI(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;li(s)&&(a[""]=i)}}function Ib(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ZI(i,s,a,l,h){i.data[l]=h;const f=h.factory||(h.factory=Er(h.type)),_=new Ii(f,li(h),Fl);i.blueprint[l]=_,a[l]=_,S_(i,s,0,l,Ul(i,a,h.hostVars,Zt),h)}function CS(i,s,a){const l=Nr(s,i),h=_b(a),f=i[10],_=Sd(i,up(i,h,null,a.onPush?32:16,l,s,f,f.createRenderer(l,a),null,null,null));i[s.index]=_}function as(i,s,a,l,h,f){const _=Nr(i,s);!function Db(i,s,a,l,h,f,_){if(null==f)i.removeAttribute(s,h,a);else{const b=null==_?be(f):_(f,l||"",h);i.setAttribute(s,h,b,a)}}(s[11],_,f,i.value,a,l,h)}function ES(i,s,a,l,h,f){const _=f[s];if(null!==_){const b=l.setInput;for(let C=0;C<_.length;){const I=_[C++],M=_[C++],U=_[C++];null!==b?l.setInput(a,U,I,M):a[M]=U}}}function IS(i,s){let a=null,l=0;for(;l<s.length;){const h=s[l];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[l+1])),l+=2}else l+=2;else l+=4}return a}function qI(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function xb(i,s){const a=gn(s,i);if(bo(a)){const l=a[1];48&a[2]?Ac(l,a,l.template,a[8]):a[5]>0&&fp(a)}}function fp(i){for(let l=Vf(i);null!==l;l=Uf(l))for(let h=10;h<l.length;h++){const f=l[h];if(bo(f))if(512&f[2]){const _=f[1];Ac(_,f,_.template,f[8])}else f[5]>0&&fp(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=gn(a[l],i);bo(h)&&h[5]>0&&fp(h)}}function Tb(i,s){const a=gn(s,i),l=a[1];(function Mb(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),C_(l,a,a[8])}function Sd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function pp(i){for(;i;){i[2]|=32;const s=Pl(i);if(ra(i)&&!s)return i;i=s}return null}function Ad(i,s,a,l=!0){const h=s[10];h.begin&&h.begin();try{Ac(i,s,i.template,a)}catch(_){throw l&&Vo(s,_),_}finally{h.end&&h.end()}}function Ab(i,s,a){ku(0),s(i,a)}function Ob(i){return i[7]||(i[7]=[])}function k_(i){return i.cleanup||(i.cleanup=[])}function Vo(i,s){const a=i[9],l=a?a.get(_d,null):null;l&&l.handleError(s)}function P_(i,s,a,l,h){for(let f=0;f<a.length;){const _=a[f++],b=a[f++],C=s[_],I=i.data[_];null!==I.setInput?I.setInput(C,h,l,b):C[b]=h}}function gp(i,s,a){let l=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const b=s[_];"number"==typeof b?f=b:1==f?h=_e(h,b):2==f&&(l=_e(l,b+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function mp(i,s,a,l,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(jn(f)),Pr(f))for(let b=10;b<f.length;b++){const C=f[b],I=C[1].firstChild;null!==I&&mp(C[1],C,I,l)}const _=a.type;if(8&_)mp(i,s,a.child,l);else if(32&_){const b=Km(a,s);let C;for(;C=b();)l.push(C)}else if(16&_){const b=r_(s,a);if(Array.isArray(b))l.push(...b);else{const C=Pl(s[16]);mp(C[1],C,b,l,!0)}}a=h?a.projectionNext:a.next}return l}class Od{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return mp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Pr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Xm(s,l),xr(a,l))}this._attachedToViewContainer=!1}bd(this._lView[1],this._lView)}onDestroy(s){T_(this._lView[1],this._lView,null,s)}markForCheck(){pp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ad(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N0(i,s){Tc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=s}}class Bl extends Od{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Ad(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class R_ extends xc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=D(s);return new co(a,this.ngModule)}}function $s(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class hi{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const h=this.injector.get(s,Lm,l);return h!==Lm||a===Lm?h:this.parentInjector.get(s,a,l)}}class co extends Nm{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function EI(i){return i.map(K0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return $s(this.componentDef.inputs)}get outputs(){return $s(this.componentDef.outputs)}create(s,a,l,h){let f=(h=h||this.ngModule)instanceof is?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new hi(s,f):s,b=_.get(WE,null);if(null===b)throw new xe(407,!1);const C=_.get(Fm,null),I=b.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",U=l?function vb(i,s,a){return i.selectRootElement(s,a===ct.ShadowDom)}(I,l,this.componentDef.encapsulation):Bf(b.createRenderer(null,this.componentDef),M,function kb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),q=this.componentDef.onPush?288:272,ie=x_(0,null,null,1,0,null,null,null,null,null),Me=up(null,ie,null,q,null,null,b,I,C,_,null);let qe,He;sl(Me);try{const lt=function Rb(i,s,a,l,h,f){const _=a[1];a[22]=i;const C=Vl(_,22,2,"#host",null),I=C.mergedAttrs=s.hostAttrs;null!==I&&(gp(C,I,!0),null!==i&&(Do(h,i,I),null!==C.classes&&Ed(h,i,C.classes),null!==C.styles&&Mc(h,i,C.styles)));const M=l.createRenderer(i,s),U=up(a,_b(s),null,s.onPush?32:16,a[22],C,l,M,f||null,null,null);return _.firstCreatePass&&(uc(xs(C,a),_,s.type),Eb(_,C),Ib(C,a.length,1)),Sd(a,U),a[22]=U}(U,this.componentDef,Me,b,I);if(U)if(l)Do(I,U,["ng-version",b0.full]);else{const{attrs:Tt,classes:Ve}=function II(i){const s=[],a=[];let l=1,h=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===h?""!==f&&s.push(f,i[++l]):8===h&&a.push(f);else{if(!so(h))break;h=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Tt&&Do(I,U,Tt),Ve&&Ve.length>0&&Ed(I,U,Ve.join(" "))}if(He=bs(ie,22),void 0!==a){const Tt=He.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const Lt=a[Ve];Tt.push(null!=Lt?Array.from(Lt):null)}}qe=function Nb(i,s,a,l){const h=a[1],f=function Cb(i,s,a){const l=On();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ZI(i,l,s,Ul(i,s,1,null),a),wb(i,l));const h=xo(s,i,l.directiveStart,l);Zr(h,s);const f=Nr(l,s);return f&&Zr(f,s),h}(h,a,s);if(i[8]=a[8]=f,null!==l)for(const b of l)b(f,s);if(s.contentQueries){const b=On();s.contentQueries(1,f,b.directiveStart)}const _=On();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Io(_.index),S_(a[1],_,0,_.directiveStart,_.directiveEnd,s),hp(s,f)),f}(lt,this.componentDef,Me,[Fb]),C_(ie,Me,null)}finally{ua()}return new Pb(this.componentType,qe,Ml(He,Me),Me,He)}}class Pb extends class g0{}{constructor(s,a,l,h,f){super(),this.location=l,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Bl(h),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){const f=this._rootLView;P_(f[1],f,h,s,a),dp(f,this._tNode.index)}}get injector(){return new fc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Fb(){const i=On();oc(Ie()[1],i)}function _p(i){let s=function N_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let h;if(li(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,!1);h=s.\u0275dir}if(h){if(a){l.push(h);const _=i;_.inputs=jl(i.inputs),_.declaredInputs=jl(i.declaredInputs),_.outputs=jl(i.outputs);const b=h.hostBindings;b&&Bb(i,b);const C=h.viewQuery,I=h.contentQueries;if(C&&Vb(i,C),I&&Ub(i,I),le(i.inputs,h.inputs),le(i.declaredInputs,h.declaredInputs),le(i.outputs,h.outputs),li(h)&&h.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let _=0;_<f.length;_++){const b=f[_];b&&b.ngInherit&&b(i),b===_p&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Lb(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=s+=h.hostVars,h.hostAttrs=cc(h.hostAttrs,a=cc(a,h.hostAttrs))}}(l)}function jl(i){return i===Jn?{}:i===Dt?[]:i}function Vb(i,s){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function Ub(i,s){const a=i.contentQueries;i.contentQueries=a?(l,h,f)=>{s(l,h,f),a(l,h,f)}:s}function Bb(i,s){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}let kd=null;function zs(){if(!kd){const i=dt.Symbol;if(i&&i.iterator)kd=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(kd=l)}}}return kd}function Oc(i){return!!yp(i)&&(Array.isArray(i)||!(i instanceof Map)&&zs()in i)}function yp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ei(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function vp(i,s,a,l){const h=Ie();return ei(h,ic(),s)&&(kt(),as(Wn(),h,i,s,a,l)),vp}function Wb(i,s,a,l,h,f,_,b){const C=Ie(),I=kt(),M=i+22,U=I.firstCreatePass?function cD(i,s,a,l,h,f,_,b,C){const I=s.consts,M=Vl(s,i,4,_||null,_i(I,b));M_(s,a,M,_i(I,C)),oc(s,M);const U=M.tViews=x_(2,M,l,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,M),U.queries=s.queries.embeddedTView(M)),M}(M,I,C,s,a,l,h,f,_):I.data[M];Ir(U,!1);const q=C[11].createComment("");Hf(I,C,q,U),Zr(q,C),Sd(C,C[M]=qI(q,C,q,U)),Ho(U)&&Td(I,C,U),null!=_&&D_(C,U,b)}function Gl(i,s,a){const l=Ie();return ei(l,ic(),s)&&function ao(i,s,a,l,h,f,_,b){const C=Nr(s,a);let M,I=s.inputs;!b&&null!=I&&(M=I[l])?(P_(i,a,M,l,h),zo(s)&&dp(a,s.index)):3&s.type&&(l=function mS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=_?_(h,s.value||"",l):h,f.setProperty(C,l,h))}(kt(),Wn(),l,i,s,l[11],a,!1),Gl}function Aa(i,s,a,l,h){const _=h?"class":"style";P_(i,a,s.inputs[_],_,l)}function Wl(i,s,a,l){const h=Ie(),f=kt(),_=22+i,b=h[11],C=h[_]=Bf(b,s,function Nu(){return Vt.lFrame.currentNamespace}()),I=f.firstCreatePass?function Fd(i,s,a,l,h,f,_){const b=s.consts,I=Vl(s,i,2,h,_i(b,f));return M_(s,a,I,_i(b,_)),null!==I.attrs&&gp(I,I.attrs,!1),null!==I.mergedAttrs&&gp(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,f,h,0,s,a,l):f.data[_];Ir(I,!0);const M=I.mergedAttrs;null!==M&&Do(b,C,M);const U=I.classes;null!==U&&Ed(b,C,U);const q=I.styles;return null!==q&&Mc(b,C,q),64!=(64&I.flags)&&Hf(f,h,C,I),0===function K(){return Vt.lFrame.elementDepthCount}()&&Zr(C,h),function fe(){Vt.lFrame.elementDepthCount++}(),Ho(I)&&(Td(f,h,I),function I_(i,s,a){if(Qi(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}(f,I,h)),null!==l&&D_(h,I),Wl}function Ld(){let i=On();Xi()?function la(){Vt.lFrame.isParent=!1}():(i=i.parent,Ir(i,!1));const s=i;!function je(){Vt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(oc(a,i),Qi(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function cl(i){return 0!=(16&i.flags)}(s)&&Aa(a,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ll(i){return 0!=(32&i.flags)}(s)&&Aa(a,s,Ie(),s.stylesWithoutHost,!1),Ld}function Vd(i,s,a,l){return Wl(i,s,a,l),Ld(),Vd}function B_(){return Ie()}function Ud(i){return!!i&&"function"==typeof i.then}function lD(i){return!!i&&"function"==typeof i.subscribe}const uD=lD;function j_(i,s,a,l){const h=Ie(),f=kt(),_=On();return function ql(i,s,a,l,h,f,_,b){const C=Ho(l),M=i.firstCreatePass&&k_(i),U=s[8],q=Ob(s);let ie=!0;if(3&l.type||b){const He=Nr(l,s),lt=b?b(He):He,Tt=q.length,Ve=b?fn=>b(jn(fn[l.index])):l.index;let Lt=null;if(!b&&C&&(Lt=function wp(i,s,a,l){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const _=h[f];if(_===a&&h[f+1]===l){const b=s[7],C=h[f+2];return b.length>C?b[C]:null}"string"==typeof _&&(f+=2)}return null}(i,s,h,l.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=f,Lt.__ngLastListenerFn__=f,ie=!1;else{f=jd(l,s,U,f,!1);const fn=a.listen(lt,h,f);q.push(f,fn),M&&M.push(h,Ve,Tt,Tt+1)}}else f=jd(l,s,U,f,!1);const Me=l.outputs;let qe;if(ie&&null!==Me&&(qe=Me[h])){const He=qe.length;if(He)for(let lt=0;lt<He;lt+=2){const ir=s[qe[lt]][qe[lt+1]].subscribe(f),$a=q.length;q.push(f,ir),M&&M.push(h,l.index,$a,-($a+1))}}}(f,h,h[11],_,i,s,0,l),j_}function Bd(i,s,a,l){try{return!1!==a(l)}catch(h){return Vo(i,h),!1}}function jd(i,s,a,l,h){return function f(_){if(_===Function)return l;pp(2&i.flags?gn(i.index,s):s);let C=Bd(s,0,l,_),I=f.__ngNextListenerFn__;for(;I;)C=Bd(s,0,I,_)&&C,I=I.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function qb(i=1){return function Es(i){return(Vt.lFrame.contextLView=function sm(i,s){for(;i>0;)s=s[15],i--;return s}(i,Vt.lFrame.contextLView))[8]}(i)}function ew(i,s,a,l,h){const f=i[a+1],_=null===s;let b=l?Lo(f):ar(f),C=!1;for(;0!==b&&(!1===C||_);){const M=i[b+1];TS(i[b],s)&&(C=!0,i[b+1]=l?Dd(M):h_(M)),b=l?Lo(M):ar(M)}C&&(i[a+1]=l?h_(f):Dd(f))}function TS(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Qo(i,s)>=0}function xp(i,s){return function Bo(i,s,a,l){const h=Ie(),f=kt(),_=function qo(i){const s=Vt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function aw(i,s,a,l){const h=i.data;if(null===h[a+1]){const f=h[Gn()],_=function Z_(i,s){return s>=i.expandoStartIndex}(i,a);(function fw(i,s){return 0!=(i.flags&(s?16:32))})(f,l)&&null===s&&!_&&(s=!1),s=function cw(i,s,a,l){const h=function Au(i){const s=Vt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=Yl(a=q_(null,i,s,a,l),s.attrs,l),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==h)if(a=q_(h,i,s,a,l),null===f){let C=function vD(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==ar(l))return i[Lo(l)]}(i,s,l);void 0!==C&&Array.isArray(C)&&(C=q_(null,i,s,C[1],l),C=Yl(C,s.attrs,l),function lw(i,s,a,l){i[Lo(a?s.classBindings:s.styleBindings)]=l}(i,s,l,C))}else f=function uw(i,s,a){let l;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)l=Yl(l,i[f].hostAttrs,a);return Yl(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,l),function Xb(i,s,a,l,h,f){let _=f?s.classBindings:s.styleBindings,b=Lo(_),C=ar(_);i[l]=a;let M,I=!1;if(Array.isArray(a)){const U=a;M=U[1],(null===M||Qo(U,M)>0)&&(I=!0)}else M=a;if(h)if(0!==C){const q=Lo(i[b+1]);i[l+1]=Id(q,b),0!==q&&(i[q+1]=Ll(i[q+1],l)),i[b+1]=function RI(i,s){return 131071&i|s<<17}(i[b+1],l)}else i[l+1]=Id(b,0),0!==b&&(i[b+1]=Ll(i[b+1],l)),b=l;else i[l+1]=Id(C,0),0===b?b=l:i[C+1]=Ll(i[C+1],l),C=l;I&&(i[l+1]=h_(i[l+1])),ew(i,M,l,!0),ew(i,M,l,!1),function G_(i,s,a,l,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Qo(f,s)>=0&&(a[l+1]=Dd(a[l+1]))}(s,M,i,l,f),_=Id(b,C),f?s.classBindings=_:s.styleBindings=_}(h,f,s,a,_,l)}}(f,i,_,l),s!==Zt&&ei(h,_,s)&&function Mp(i,s,a,l,h,f,_,b){if(!(3&s.type))return;const C=i.data,I=C[b+1];Ql(function f_(i){return 1==(1&i)}(I)?dw(C,s,a,h,ar(I),_):void 0)||(Ql(f)||function sb(i){return 2==(2&i)}(I)&&(f=dw(C,null,a,h,b,_)),function G0(i,s,a,l,h){if(s)h?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:os.DashCase;null==h?i.removeStyle(a,l,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=os.Important),i.setStyle(a,l,h,f))}}(l,_,Ei(Gn(),a),h,f))}(f,f.data[Gn()],h,h[11],i,h[_+1]=function hw(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=pe(ro(i)))),i}(s,a),l,_)}(i,s,null,!0),xp}function q_(i,s,a,l,h){let f=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(f=s[b],l=Yl(l,f.hostAttrs,h),f!==i);)b++;return null!==i&&(a.directiveStylingLast=b),l}function Yl(i,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?h=_:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),mt(i,_,!!a||s[++f]))}return void 0===i?null:i}function dw(i,s,a,l,h,f){const _=null===s;let b;for(;h>0;){const C=i[h],I=Array.isArray(C),M=I?C[1]:C,U=null===M;let q=a[h+1];q===Zt&&(q=U?Dt:void 0);let ie=U?Wu(q,l):M===l?q:void 0;if(I&&!Ql(ie)&&(ie=Wu(C,l)),Ql(ie)&&(b=ie,_))return b;const Me=i[h+1];h=_?Lo(Me):ar(Me)}if(null!==s){let C=f?s.residualClasses:s.residualStyles;null!=C&&(b=Wu(C,l))}return b}function Ql(i){return void 0!==i}function K_(i,s=""){const a=Ie(),l=kt(),h=i+22,f=l.firstCreatePass?Vl(l,h,1,s,null):l.data[h],_=a[h]=function Qm(i,s){return i.createText(s)}(a[11],s);Hf(l,a,_,f),Ir(f,!1)}function $d(i,s,a){const l=Ie(),h=function Rd(i,s,a,l){return ei(i,ic(),a)?s+be(a)+l:Zt}(l,i,s,a);return h!==Zt&&function cs(i,s,a){const l=Ei(s,i);!function P0(i,s,a){i.setValue(s,a)}(i[11],l,a)}(l,Gn(),h),$d}const Jl=void 0;var kS=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OS(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let zd={};function X_(i){const s=function PS(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Hd(s);if(a)return a;const l=s.split("-")[0];if(a=Hd(l),a)return a;if("en"===l)return kS;throw new xe(701,!1)}function ey(i){return X_(i)[Rt.PluralCase]}function Hd(i){return i in zd||(zd[i]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[i]),zd[i]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Si="en-US";let eu=Si;function Yd(i,s,a,l,h){if(i=Q(i),Array.isArray(i))for(let f=0;f<i.length;f++)Yd(i[f],s,a,l,h);else{const f=kt(),_=Ie();let b=io(i)?i:Q(i.provide),C=xf(i);const I=On(),M=1048575&I.providerIndexes,U=I.directiveStart,q=I.providerIndexes>>20;if(io(i)||!i.multi){const ie=new Ii(C,h,Fl),Me=Lc(b,s,h?M:M+q,U);-1===Me?(uc(xs(I,_),f,b),$p(f,i,s.length),s.push(b),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(ie),_.push(ie)):(a[Me]=ie,_[Me]=ie)}else{const ie=Lc(b,s,M+q,U),Me=Lc(b,s,M,M+q),qe=ie>=0&&a[ie],He=Me>=0&&a[Me];if(h&&!He||!h&&!qe){uc(xs(I,_),f,b);const lt=function Hp(i,s,a,l,h){const f=new Ii(i,a,Fl);return f.multi=[],f.index=s,f.componentProviders=0,Jw(f,h,l&&!a),f}(h?eC:Xw,a.length,h,l,C);!h&&He&&(a[Me].providerFactory=lt),$p(f,i,s.length,0),s.push(b),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(lt),_.push(lt)}else $p(f,i,ie>-1?ie:Me,Jw(a[h?Me:ie],C,!h&&l));!h&&l&&He&&a[Me].componentProviders++}}}function $p(i,s,a,l){const h=io(s),f=function f0(i){return!!i.useClass}(s);if(h||f){const C=(f?Q(s.useClass):s).prototype.ngOnDestroy;if(C){const I=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const M=I.indexOf(a);-1===M?I.push(a,[l,C]):I[M+1].push(l,C)}else I.push(a,C)}}}function Jw(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Lc(i,s,a,l){for(let h=a;h<l;h++)if(s[h]===i)return h;return-1}function Xw(i,s,a,l){return zp(this.multi,[])}function eC(i,s,a,l){const h=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=xo(a,a[1],this.providerFactory.index,l);f=b.slice(0,_),zp(h,f);for(let C=_;C<b.length;C++)f.push(b[C])}else f=[],zp(h,f);return f}function zp(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function tC(i,s=[]){return a=>{a.providersResolver=(l,h)=>function wy(i,s,a){const l=kt();if(l.firstCreatePass){const h=li(i);Yd(a,l.data,l.blueprint,h,!0),Yd(s,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,s)}}class nu{}class Vc{}function ex(i,s){return new Pa(i,s??null)}class Pa extends nu{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new R_(this);const l=Le(s);this._bootstrapComponents=Vs(l.bootstrap),this._r3Injector=qf(s,a,[{provide:nu,useValue:this},{provide:xc,useValue:this.componentFactoryResolver}],pe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Gp extends Vc{constructor(s){super(),this.moduleType=s}create(s){return new Pa(this.moduleType,s)}}class Wp extends nu{constructor(s,a,l){super(),this.componentFactoryResolver=new R_(this),this.instance=null;const h=new km([...s,{provide:nu,useValue:this},{provide:xc,useValue:this.componentFactoryResolver}],a||Df(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Zp(i,s,a=null){return new Wp(i,s,a).injector}let Qd=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=d0(0,a.type),h=l.length>0?Zp([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=en({token:i,providedIn:"environment",factory:()=>new i(Vn(is))}),i})();function Cy(i){i.getStandaloneInjector=s=>s.get(Qd).getOrCreateStandaloneInjector(i)}function tg(i){return s=>{setTimeout(i,void 0,s)}}const ds=class rx extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let h=s,f=a||(()=>null),_=l;if(s&&"object"==typeof s){const C=s;h=C.next?.bind(C),f=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(f=tg(f),h&&(h=tg(h)),_&&(_=tg(_)));const b=super.subscribe({next:h,error:f,complete:_});return s instanceof B.w0&&s.add(b),b}};function ix(){return this._results[zs()]()}class Oy{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=zs(),l=Oy.prototype;l[a]||(l[a]=ix)}get changes(){return this._changes||(this._changes=new ds)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=Ln(s);(this._changesDetected=!function Vi(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],f=s[l];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ih=(()=>{class i{}return i.__NG_ELEMENT_ID__=fC,i})();const oh=ih,Ra=class extends oh{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,h=up(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(l)),C_(l,h,s),new Od(h)}};function fC(){return sh(On(),Ie())}function sh(i,s){return 4&i.type?new Ra(s,i,Ml(i,s)):null}let ah=(()=>{class i{}return i.__NG_ELEMENT_ID__=iu,i})();function iu(){return Ry(On(),Ie())}const ox=ah,pC=class extends ox{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Ml(this._hostTNode,this._hostLView)}get injector(){return new fc(this._hostTNode,this._hostLView)}get parentInjector(){const s=lc(this._hostTNode,this._hostLView);if(fm(s)){const a=Ko(s,this._hostLView),l=Ds(s);return new fc(a[1].data[l+8],a)}return new fc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ky(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let h,f;"number"==typeof l?h=l:null!=l&&(h=l.index,f=l.injector);const _=s.createEmbeddedView(a||{},f);return this.insert(_,h),_}createComponent(s,a,l,h,f){const _=s&&!function to(i){return"function"==typeof i}(s);let b;if(_)b=a;else{const U=a||{};b=U.index,l=U.injector,h=U.projectableNodes,f=U.environmentInjector||U.ngModuleRef}const C=_?s:new co(D(s)),I=l||this.parentInjector;if(!f&&null==C.ngModule){const q=(_?I:this.parentInjector).get(is,null);q&&(f=q)}const M=C.create(I,h,void 0,f);return this.insert(M.hostView,b),M}insert(s,a){const l=s._lView,h=l[1];if(function Hh(i){return Pr(i[3])}(l)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const U=l[3],q=new pC(U,U[6],U[3]);q.detach(q.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function hI(i,s,a,l){const h=10+l,f=a.length;l>0&&(a[h-1][4]=s),l<f-10?(s[4]=a[h],Ms(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function fI(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const b=s[19];null!==b&&b.insertView(i),s[2]|=64}(h,l,_,f);const b=z0(f,_),C=l[11],I=$f(C,_[7]);return null!==I&&function R0(i,s,a,l,h,f){l[0]=h,l[6]=s,Tc(i,l,a,1,h,f)}(h,_[6],C,l,I,b),s.attachToViewContainerRef(),Ms(Py(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ky(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Xm(this._lContainer,a);l&&(xr(Py(this._lContainer),a),bd(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Xm(this._lContainer,a);return l&&null!=xr(Py(this._lContainer),a)?new Od(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function ky(i){return i[8]}function Py(i){return i[8]||(i[8]=[])}function Ry(i,s){let a;const l=s[i.index];if(Pr(l))a=l;else{let h;if(8&i.type)h=jn(l);else{const f=s[11];h=f.createComment("");const _=Nr(i,s);ss(f,$f(f,_),h,function j0(i,s){return i.nextSibling(s)}(f,_),!1)}s[i.index]=a=qI(l,s,h,i),Sd(s,a)}return new pC(a,i,s)}class ng{constructor(s){this.queryList=s,this.matches=null}clone(){return new ng(this.queryList)}setDirty(){this.queryList.setDirty()}}class rg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<l;f++){const _=a.getByIndex(f);h.push(this.queries[_.indexInDeclarationView].clone())}return new rg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Vy(s,a).matches&&this.queries[a].setDirty()}}class ig{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Fy{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,h);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new Fy(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ly{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Ly(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const f=l[h];this.matchTNodeWithReadOption(s,a,sx(a,f)),this.matchTNodeWithReadOption(s,a,hc(a,s,f,!1,!1))}else l===ih?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,hc(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Ca||h===ah||h===ih&&4&a.type)this.addMatch(a.index,-2);else{const f=hc(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function sx(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function ch(i,s,a,l){return-1===a?function og(i,s){return 11&i.type?Ml(i,s):4&i.type?sh(i,s):null}(s,i):-2===a?function sg(i,s,a){return a===Ca?Ml(s,i):a===ih?sh(s,i):a===ah?Ry(s,i):void 0}(i,s,l):xo(i,i[1],a,s)}function ag(i,s,a,l){const h=s[19].queries[l];if(null===h.matches){const f=i.data,_=a.matches,b=[];for(let C=0;C<_.length;C+=2){const I=_[C];b.push(I<0?null:ch(s,f[I],_[C+1],a.metadata.read))}h.matches=b}return h.matches}function cg(i,s,a,l){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const _=ag(i,s,h,a);for(let b=0;b<f.length;b+=2){const C=f[b];if(C>0)l.push(_[b/2]);else{const I=f[b+1],M=s[-C];for(let U=10;U<M.length;U++){const q=M[U];q[17]===q[3]&&cg(q[1],q,I,l)}if(null!==M[9]){const U=M[9];for(let q=0;q<U.length;q++){const ie=U[q];cg(ie[1],ie,I,l)}}}}}return l}function ou(i){const s=Ie(),a=kt(),l=Ou();ku(l+1);const h=Vy(a,l);if(i.dirty&&function vo(i){return 4==(4&i[2])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?cg(a,s,l,[]):ag(a,s,h,l);i.reset(f,y0),i.notifyOnChanges()}return!0}return!1}function _C(i,s,a,l){const h=kt();if(h.firstCreatePass){const f=On();(function bC(i,s,a){null===i.queries&&(i.queries=new Fy),i.queries.track(new Ly(s,a))})(h,new ig(s,a,l),f.index),function ax(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function vC(i,s,a){const l=new Oy(4==(4&a));T_(i,s,l,l.destroy),null===s[19]&&(s[19]=new rg),s[19].queries.push(new ng(l))}(h,Ie(),a)}function cr(){return function yC(i,s){return i[19].queries[s].queryList}(Ie(),Ou())}function Vy(i,s){return i.queries.getByIndex(s)}function hh(...i){}const PC=new Rn("Application Initializer");let _g=(()=>{class i{constructor(a){this.appInits=a,this.resolve=hh,this.reject=hh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(Ud(f))a.push(f);else if(uD(f)){const _=new Promise((b,C)=>{f.subscribe({complete:b,error:C})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Vn(PC,8))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const RC=new Rn("AppId",{providedIn:"root",factory:function NC(){return`${Wy()}${Wy()}${Wy()}`}});function Wy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _x=new Rn("Platform Initializer"),yx=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zy=new Rn("appBootstrapListener");let FC=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Pt=new Rn("LocaleId",{providedIn:"root",factory:()=>Jr(Pt,tt.Optional|tt.SkipSelf)||function nr(){return typeof $localize<"u"&&$localize.locale||Si}()}),ph=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rt{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let yg=(()=>{class i{compileModuleSync(a){return new Gp(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=Vs(Le(a).declarations).reduce((_,b)=>{const C=D(b);return C&&_.push(new co(C)),_},[]);return new rt(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const VC=(()=>Promise.resolve(0))();function vi(i){typeof Zone>"u"?VC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Gi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ds(!1),this.onMicrotaskEmpty=new ds(!1),this.onStable=new ds(!1),this.onError=new ds(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Ky(){let i=dt.requestAnimationFrame,s=dt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ue(i){const s=()=>{!function Yy(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(dt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,hu(i),i.isCheckStableRunning=!0,hs(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),hu(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,f,_,b)=>{try{return uo(i),a.invokeTask(h,f,_,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),BC(i)}},onInvoke:(a,l,h,f,_,b,C)=>{try{return uo(i),a.invoke(h,f,_,b,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),BC(i)}},onHasTask:(a,l,h,f)=>{a.hasTask(h,f),l===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,hu(i),hs(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new xe(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+h,s,UC,hh,hh);try{return f.runTask(_,a,l)}finally{f.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const UC={};function hs(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function hu(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function uo(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function BC(i){i._nesting--,hs(i)}class mh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ds,this.onMicrotaskEmpty=new ds,this.onStable=new ds,this.onError=new ds}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}const Js=new Rn(""),jC=new Rn("");let Xy,Hc=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xy||(function Jy(i){Xy=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),vi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vi(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Vn(Gi),Vn(Qy),Vn(jC))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})(),Qy=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Xy?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),La=null;const bi=new Rn("AllowMultipleToken"),bg=new Rn("PlatformDestroyListeners");class si{constructor(s,a){this.name=s,this.token=a}}function HC(i,s,a=[]){const l=`Platform: ${s}`,h=new Rn(l);return(f=[])=>{let _=rr();if(!_||_.injector.get(bi,!1)){const b=[...a,...f,{provide:h,useValue:!0}];i?i(b):function Nn(i){if(La&&!La.get(bi,!1))throw new xe(400,!1);La=i;const s=i.get(Va);(function Gc(i){const s=i.get(_x,null);s&&s.forEach(a=>a())})(i)}(function GC(i=[],s){return Ft.create({name:s,providers:[{provide:Cf,useValue:"platform"},{provide:bg,useValue:new Set([()=>La=null])},...i]})}(b,l))}return function Br(i){const s=rr();if(!s)throw new xe(401,!1);return s}()}}function rr(){return La?.get(Va)??null}let Va=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function ev(i,s){let a;return a="noop"===i?new mh:("zone.js"===i?void 0:i)||new Gi(s),a}(l?.ngZone,function Cg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:Gi,useValue:h}];return h.run(()=>{const _=Ft.create({providers:f,parent:this.injector,name:a.moduleType.name}),b=a.create(_),C=b.injector.get(_d,null);if(!C)throw new xe(402,!1);return h.runOutsideAngular(()=>{const I=h.onError.subscribe({next:M=>{C.handleError(M)}});b.onDestroy(()=>{Ua(this._modules,b),I.unsubscribe()})}),function fu(i,s,a){try{const l=a();return Ud(l)?l.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(C,h,()=>{const I=b.injector.get(_g);return I.runInitializers(),I.donePromise.then(()=>(function Ow(i){At(i,"Expected localeId to be defined"),"string"==typeof i&&(eu=i.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Pt,Si)||Si),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const h=WC({},l);return function $C(i,s,a){const l=new Gp(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const l=a.injector.get(jo);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new xe(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(bg,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Vn(Ft))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function WC(i,s){return Array.isArray(s)?s.reduce(WC,i):{...i,...s}}let jo=(()=>{class i{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new N.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new N.y(b=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),vi(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ne.T)(f,_.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof Nm;if(!this._injector.get(_g).done)throw!h&&ce(a),new xe(405,false);let _;_=h?a:this._injector.get(xc).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const b=function wg(i){return i.isBoundToModule}(_)?void 0:this._injector.get(nu),I=_.create(Ft.NULL,[],l||_.selector,b),M=I.location.nativeElement,U=I.injector.get(Js,null);return U?.registerApplication(M),I.onDestroy(()=>{this.detachView(I.hostView),Ua(this.components,I),U?.unregisterApplication(M)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Ua(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Zy,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ua(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new xe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Vn(Gi),Vn(is),Vn(_d))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ua(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Xs=!0,_h=!1;function Zc(){return _h=!0,Xs}function fs(){if(_h)throw new Error("Cannot enable prod mode after platform setup.");Xs=!1}let gu=(()=>{class i{}return i.__NG_ELEMENT_ID__=nv,i})();function nv(i){return function Kc(i,s,a){if(zo(i)&&!a){const l=gn(i.index,s);return new Od(l,l)}return 47&i.type?new Od(s[16],s):null}(On(),Ie(),16==(16&i))}class av{constructor(){}supports(s){return Oc(s)}create(s){return new xx(s)}}const ai=(i,s)=>s;class xx{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ai}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,f=null;for(;a||l;){const _=!l||a&&a.currentIndex<KC(l,h,f)?a:l,b=KC(_,h,f),C=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{f||(f=[]);const I=b-h,M=C-h;if(I!=M){for(let q=0;q<I;q++){const ie=q<f.length?f[q]:f[q]=0,Me=ie+q;M<=Me&&Me<I&&(f[q]=ie+1)}f[_.previousIndex]=M-I}}b!==C&&s(_,b,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Oc(s))throw new xe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)f=s[b],_=this._trackByFn(b,f),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,f,_,b)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,b),l=!0),a=a._next}else h=0,function Hb(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[zs()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,b=>{_=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,b,_,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new Tx(a,l),f,h),s}_verifyReinsertion(s,a,l,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new cv),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Tx{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mx{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class cv{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new Mx,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KC(i,s,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class YC{constructor(){}supports(s){return s instanceof Map||yp(s)}create(){return new Sx}}class Sx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||yp(s)))throw new xe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,_=h._next;return f&&(f._next=_),_&&(_._prev=f),h._next=null,h._prev=null,h}const l=new Ax(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class Ax{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ta(){return new ja([new av])}let ja=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||ta()),deps:[[i,new Rs,new er]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new xe(901,!1)}}return i.\u0275prov=en({token:i,providedIn:"root",factory:ta}),i})();function lv(){return new Sg([new YC])}let Sg=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||lv()),deps:[[i,new Rs,new er]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new xe(901,!1)}}return i.\u0275prov=en({token:i,providedIn:"root",factory:lv}),i})();const uv=HC(null,"core",[]);let dv=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Vn(jo))},i.\u0275mod=Ht({type:i}),i.\u0275inj=Ct({}),i})();function hv(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(gt,Oe,F)=>{F.d(Oe,{Z:()=>xe});var u=F(2090),B=F(4859),N=F(9681),ne=F(1877);class ge{constructor(be,de){this._delegate=be,this.firebase=de,(0,N._addComponent)(be,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(be,de=N._DEFAULT_ENTRY_NAME){var ot;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(be);return!Qe.isInitialized()&&"EXPLICIT"===(null===(ot=Qe.getComponent())||void 0===ot?void 0:ot.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:de})}_removeServiceInstance(be,de=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(de)}_addComponent(be){(0,N._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,N._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function _e(){const Xe=function pe(Xe){const be={},de={__esModule:!0,initializeApp:function Fe(te,ae={}){const we=N.initializeApp(te,ae);if((0,u.r3)(be,we.name))return be[we.name];const J=new Xe(we,de);return be[we.name]=J,J},app:Qe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ee(te){const ae=te.name,we=ae.replace("-compat","");if(N._registerComponent(te)&&"PUBLIC"===te.type){const J=(X=Qe())=>{if("function"!=typeof X[we])throw le.create("invalid-app-argument",{appName:ae});return X[we]()};void 0!==te.serviceProps&&(0,u.ZB)(J,te.serviceProps),de[we]=J,Xe.prototype[we]=function(...X){return this._getService.bind(this,ae).apply(this,te.multipleInstances?X:[])}}return"PUBLIC"===te.type?de[we]:null},removeApp:function ot(te){delete be[te]},useAsService:function Ye(te,ae){return"serverAuth"===ae?null:ae},modularAPIs:N}};function Qe(te){if(!(0,u.r3)(be,te=te||N._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:te});return be[te]}return de.default=de,Object.defineProperty(de,"apps",{get:function Re(){return Object.keys(be).map(te=>be[te])}}),Qe.App=Xe,de}(ge);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function be(de){(0,u.ZB)(Xe,de)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Xe}(),H=new ne.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=W;!function De(Xe){(0,N.registerVersion)("@firebase/app-compat","0.1.36",Xe)}()},9681:(gt,Oe,F)=>{F.r(Oe),F.d(Oe,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Ar,_DEFAULT_ENTRY_NAME:()=>At,_addComponent:()=>an,_addOrOverwriteComponent:()=>en,_apps:()=>un,_clearComponents:()=>Sr,_components:()=>kn,_getProvider:()=>Ct,_registerComponent:()=>Bt,_removeServiceInstance:()=>In,deleteApp:()=>zr,getApp:()=>Bn,getApps:()=>dr,initializeApp:()=>Un,onLog:()=>Pn,registerVersion:()=>hn,setLogLevel:()=>dn});var u=F(5861),B=F(4859),N=F(1877),ne=F(2090),ge=F(8766);class ve{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function le(et){return"VERSION"===et.getComponent()?.type}(nt)){const yt=nt.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(nt=>nt).join(" ")}}const pe="@firebase/app",W=new N.Yd("@firebase/app"),At="[DEFAULT]",Ke={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,kn=new Map;function an(et,Se){try{et.container.addComponent(Se)}catch(nt){W.debug(`Component ${Se.name} failed to register with FirebaseApp ${et.name}`,nt)}}function en(et,Se){et.container.addOrOverwriteComponent(Se)}function Bt(et){const Se=et.name;if(kn.has(Se))return W.debug(`There were multiple attempts to register component ${Se}.`),!1;kn.set(Se,et);for(const nt of un.values())an(nt,et);return!0}function Ct(et,Se){const nt=et.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),et.container.getProvider(Se)}function In(et,Se,nt=At){Ct(et,Se).clearInstance(nt)}function Sr(){kn.clear()}const An=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kn{constructor(Se,nt,yt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const Ar="9.12.0";function Un(et,Se={}){let nt=et;"object"!=typeof Se&&(Se={name:Se});const yt=Object.assign({name:At,automaticDataCollectionEnabled:!1},Se),Et=yt.name;if("string"!=typeof Et||!Et)throw An.create("bad-app-name",{appName:String(Et)});if(nt||(nt=(0,ne.aH)()),!nt)throw An.create("no-options");const Ht=un.get(Et);if(Ht){if((0,ne.vZ)(nt,Ht.options)&&(0,ne.vZ)(yt,Ht.config))return Ht;throw An.create("duplicate-app",{appName:Et})}const G=new B.H0(Et);for(const P of kn.values())G.addComponent(P);const j=new Kn(nt,yt,G);return un.set(Et,j),j}function Bn(et=At){const Se=un.get(et);if(!Se&&et===At)return Un();if(!Se)throw An.create("no-app",{appName:et});return Se}function dr(){return Array.from(un.values())}function zr(et){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(et){const Se=et.name;un.has(Se)&&(un.delete(Se),yield Promise.all(et.container.getProviders().map(nt=>nt.delete())),et.isDeleted=!0)})).apply(this,arguments)}function hn(et,Se,nt){var yt;let Et=null!==(yt=Ke[et])&&void 0!==yt?yt:et;nt&&(Et+=`-${nt}`);const Ht=Et.match(/\s|\//),G=Se.match(/\s|\//);if(Ht||G){const j=[`Unable to register library "${Et}" with version "${Se}":`];return Ht&&j.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),Ht&&G&&j.push("and"),G&&j.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void W.warn(j.join(" "))}Bt(new B.wA(`${Et}-version`,()=>({library:Et,version:Se}),"VERSION"))}function Pn(et,Se){if(null!==et&&"function"!=typeof et)throw An.create("invalid-log-argument");(0,N.Am)(et,Se)}function dn(et){(0,N.Ub)(et)}const yn="firebase-heartbeat-store";let bn=null;function rn(){return bn||(bn=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(et,Se)=>{0===Se&&et.createObjectStore(yn)}}).catch(et=>{throw An.create("idb-open",{originalErrorMessage:et.message})})),bn}function ct(){return(ct=(0,u.Z)(function*(et){var Se;try{return(yield rn()).transaction(yn).objectStore(yn).get(Qn(et))}catch(nt){if(nt instanceof ne.ZR)W.warn(nt.message);else{const yt=An.create("idb-get",{originalErrorMessage:null===(Se=nt)||void 0===Se?void 0:Se.message});W.warn(yt.message)}}})).apply(this,arguments)}function dt(et,Se){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(et,Se){var nt;try{const Et=(yield rn()).transaction(yn,"readwrite");return yield Et.objectStore(yn).put(Se,Qn(et)),Et.done}catch(yt){if(yt instanceof ne.ZR)W.warn(yt.message);else{const Et=An.create("idb-set",{originalErrorMessage:null===(nt=yt)||void 0===nt?void 0:nt.message});W.warn(Et.message)}}})).apply(this,arguments)}function Qn(et){return`${et.name}!${et.options.appId}`}class or{constructor(Se){this.container=Se,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new zt(nt),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Se=this;return(0,u.Z)(function*(){const yt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=Ot();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Et&&!Se._heartbeatsCache.heartbeats.some(Ht=>Ht.date===Et))return Se._heartbeatsCache.heartbeats.push({date:Et,agent:yt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Ht=>{const G=new Date(Ht.date).valueOf();return Date.now()-G<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,u.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const nt=Ot(),{heartbeatsToSend:yt,unsentEntries:Et}=function hr(et,Se=1024){const nt=[];let yt=et.slice();for(const Et of et){const Ht=nt.find(G=>G.agent===Et.agent);if(Ht){if(Ht.dates.push(Et.date),Hn(nt)>Se){Ht.dates.pop();break}}else if(nt.push({agent:Et.agent,dates:[Et.date]}),Hn(nt)>Se){nt.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:yt}}(Se._heartbeatsCache.heartbeats),Ht=(0,ne.L)(JSON.stringify({version:2,heartbeats:yt}));return Se._heartbeatsCache.lastSentHeartbeatDate=nt,Et.length>0?(Se._heartbeatsCache.heartbeats=Et,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Ht})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class zt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,u.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function ut(et){return ct.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var nt=this;return(0,u.Z)(function*(){var yt;if(yield nt._canUseIndexedDBPromise){const Ht=yield nt.read();return dt(nt.app,{lastSentHeartbeatDate:null!==(yt=Se.lastSentHeartbeatDate)&&void 0!==yt?yt:Ht.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var nt=this;return(0,u.Z)(function*(){var yt;if(yield nt._canUseIndexedDBPromise){const Ht=yield nt.read();return dt(nt.app,{lastSentHeartbeatDate:null!==(yt=Se.lastSentHeartbeatDate)&&void 0!==yt?yt:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...Se.heartbeats]})}})()}}function Hn(et){return(0,ne.L)(JSON.stringify({version:2,heartbeats:et})).length}!function Dn(et){Bt(new B.wA("platform-logger",Se=>new ve(Se),"PRIVATE")),Bt(new B.wA("heartbeat",Se=>new or(Se),"PRIVATE")),hn(pe,"0.8.1",et),hn(pe,"0.8.1","esm2017"),hn("fire-js","")}("")},4859:(gt,Oe,F)=>{F.d(Oe,{H0:()=>pe,wA:()=>N});var u=F(5861),B=F(2090);class N{constructor(W,H,Q){this.name=W,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ne="[DEFAULT]";class ge{constructor(W,H){this.name=W,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const H=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(H)){const Q=new B.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:H});Pe&&Q.resolve(Pe)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(W){var H;const Q=this.normalizeInstanceIdentifier(W?.identifier),Pe=null!==(H=W?.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(De){if(Pe)return null;throw De}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function le(_e){return"EAGER"===_e.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[H,Q]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(H);try{const De=this.getOrInitializeService({instanceIdentifier:Pe});Q.resolve(De)}catch{}}}}clearInstance(W=ne){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,u.Z)(function*(){const H=Array.from(W.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ne){return this.instances.has(W)}getOptions(W=ne){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:H={}}=W,Q=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[De,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(De)&&xe.resolve(Pe);return Pe}onInit(W,H){var Q;const Pe=this.normalizeInstanceIdentifier(H),De=null!==(Q=this.onInitCallbacks.get(Pe))&&void 0!==Q?Q:new Set;De.add(W),this.onInitCallbacks.set(Pe,De);const xe=this.instances.get(Pe);return xe&&W(xe,Pe),()=>{De.delete(W)}}invokeOnInitCallbacks(W,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const Pe of Q)try{Pe(W,H)}catch{}}getOrInitializeService({instanceIdentifier:W,options:H={}}){let Q=this.instances.get(W);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=W,_e===ne?void 0:_e),options:H}),this.instances.set(W,Q),this.instancesOptions.set(W,H),this.invokeOnInitCallbacks(Q,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Q)}catch{}var _e;return Q||null}normalizeInstanceIdentifier(W=ne){return this.component?this.component.multipleInstances?W:ne:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const H=this.getProvider(W.name);if(H.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);H.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const H=new ge(W,this);return this.providers.set(W,H),H}getProviders(){return Array.from(this.providers.values())}}},2833:(gt,Oe,F)=>{var u=F(5861),B=F(9681),N=F(4859),ne=F(2090),ge=F(8766);const ve="@firebase/installations",le="0.5.14",_e=`w:${le}`,W="FIS_v2",Xe=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(ee){return ee instanceof ne.ZR&&ee.code.includes("request-failed")}function de({projectId:ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ee}/installations`}function ot(ee){return{token:ee.token,requestStatus:2,expiresIn:ae(ee.expiresIn),creationTime:Date.now()}}function Qe(ee,Ce){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(ee,Ce){const ht=(yield Ce.json()).error;return Xe.create("request-failed",{requestName:ee,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function Re({apiKey:ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ee})}function Ee(ee,{refreshToken:Ce}){const Ge=Re(ee);return Ge.append("Authorization",function we(ee){return`${W} ${ee}`}(Ce)),Ge}function Ye(ee){return te.apply(this,arguments)}function te(){return(te=(0,u.Z)(function*(ee){const Ce=yield ee();return Ce.status>=500&&Ce.status<600?ee():Ce})).apply(this,arguments)}function ae(ee){return Number(ee.replace("s","000"))}function J(ee,Ce){return X.apply(this,arguments)}function X(){return(X=(0,u.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ce},{fid:Ge}){const ht=de(ee),Gt=Re(ee),cn=Ce.getImmediate({optional:!0});if(cn){const kr=yield cn.getHeartbeatsHeader();kr&&Gt.append("x-firebase-client",kr)}const Tn={method:"POST",headers:Gt,body:JSON.stringify({fid:Ge,authVersion:W,appId:ee.appId,sdkVersion:_e})},Or=yield Ye(()=>fetch(ht,Tn));if(Or.ok){const kr=yield Or.json();return{fid:kr.fid||Ge,registrationStatus:2,refreshToken:kr.refreshToken,authToken:ot(kr.authToken)}}throw yield Qe("Create Installation",Or)})).apply(this,arguments)}function he(ee){return new Promise(Ce=>{setTimeout(Ce,ee)})}const ze=/^[cdef][\w-]{21}$/;function ft(){try{const ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ee),ee[0]=112+ee[0]%16;const Ge=function Xt(ee){return function oe(ee){return btoa(String.fromCharCode(...ee)).replace(/\+/g,"-").replace(/\//g,"_")}(ee).substr(0,22)}(ee);return ze.test(Ge)?Ge:""}catch{return""}}function At(ee){return`${ee.appName}!${ee.appId}`}const Ke=new Map;function un(ee,Ce){const Ge=At(ee);en(Ge,Ce),function Bt(ee,Ce){const Ge=function In(){return!Ct&&"BroadcastChannel"in self&&(Ct=new BroadcastChannel("[Firebase] FID Change"),Ct.onmessage=ee=>{en(ee.data.key,ee.data.fid)}),Ct}();Ge&&Ge.postMessage({key:ee,fid:Ce}),function Sr(){0===Ke.size&&Ct&&(Ct.close(),Ct=null)}()}(Ge,Ce)}function en(ee,Ce){const Ge=Ke.get(ee);if(Ge)for(const ht of Ge)ht(Ce)}let Ct=null;const Kn="firebase-installations-store";let Ar=null;function Un(){return Ar||(Ar=(0,ge.X3)("firebase-installations-database",1,{upgrade:(ee,Ce)=>{0===Ce&&ee.createObjectStore(Kn)}})),Ar}function Bn(ee,Ce){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(ee,Ce){const Ge=At(ee),Gt=(yield Un()).transaction(Kn,"readwrite"),cn=Gt.objectStore(Kn),Sn=yield cn.get(Ge);return yield cn.put(Ce,Ge),yield Gt.done,(!Sn||Sn.fid!==Ce.fid)&&un(ee,Ce.fid),Ce})).apply(this,arguments)}function zr(ee){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(ee){const Ce=At(ee),ht=(yield Un()).transaction(Kn,"readwrite");yield ht.objectStore(Kn).delete(Ce),yield ht.done})).apply(this,arguments)}function hn(ee,Ce){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(ee,Ce){const Ge=At(ee),Gt=(yield Un()).transaction(Kn,"readwrite"),cn=Gt.objectStore(Kn),Sn=yield cn.get(Ge),Tn=Ce(Sn);return void 0===Tn?yield cn.delete(Ge):yield cn.put(Tn,Ge),yield Gt.done,Tn&&(!Sn||Sn.fid!==Tn.fid)&&un(ee,Tn.fid),Tn})).apply(this,arguments)}function dn(ee){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(ee){let Ce;const Ge=yield hn(ee.appConfig,ht=>{const Gt=yr(ht),cn=yn(ee,Gt);return Ce=cn.registrationPromise,cn.installationEntry});return""===Ge.fid?{installationEntry:yield Ce}:{installationEntry:Ge,registrationPromise:Ce}})).apply(this,arguments)}function yr(ee){return wn(ee||{fid:ft(),registrationStatus:0})}function yn(ee,Ce){if(0===Ce.registrationStatus){if(!navigator.onLine)return{installationEntry:Ce,registrationPromise:Promise.reject(Xe.create("app-offline"))};const Ge={fid:Ce.fid,registrationStatus:1,registrationTime:Date.now()},ht=function bn(ee,Ce){return rn.apply(this,arguments)}(ee,Ge);return{installationEntry:Ge,registrationPromise:ht}}return 1===Ce.registrationStatus?{installationEntry:Ce,registrationPromise:ut(ee)}:{installationEntry:Ce}}function rn(){return(rn=(0,u.Z)(function*(ee,Ce){try{const Ge=yield J(ee,Ce);return Bn(ee.appConfig,Ge)}catch(Ge){throw be(Ge)&&409===Ge.customData.serverCode?yield zr(ee.appConfig):yield Bn(ee.appConfig,{fid:Ce.fid,registrationStatus:0}),Ge}})).apply(this,arguments)}function ut(ee){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(ee){let Ce=yield dt(ee.appConfig);for(;1===Ce.registrationStatus;)yield he(100),Ce=yield dt(ee.appConfig);if(0===Ce.registrationStatus){const{installationEntry:Ge,registrationPromise:ht}=yield dn(ee);return ht||Ge}return Ce})).apply(this,arguments)}function dt(ee){return hn(ee,Ce=>{if(!Ce)throw Xe.create("installation-not-found");return wn(Ce)})}function wn(ee){return function Qn(ee){return 1===ee.registrationStatus&&ee.registrationTime+1e4<Date.now()}(ee)?{fid:ee.fid,registrationStatus:0}:ee}function Jn(ee,Ce){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ce},Ge){const ht=or(ee,Ge),Gt=Ee(ee,Ge),cn=Ce.getImmediate({optional:!0});if(cn){const kr=yield cn.getHeartbeatsHeader();kr&&Gt.append("x-firebase-client",kr)}const Tn={method:"POST",headers:Gt,body:JSON.stringify({installation:{sdkVersion:_e,appId:ee.appId}})},Or=yield Ye(()=>fetch(ht,Tn));if(Or.ok)return ot(yield Or.json());throw yield Qe("Generate Auth Token",Or)})).apply(this,arguments)}function or(ee,{fid:Ce}){return`${de(ee)}/${Ce}/authTokens:generate`}function Ot(ee){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(ee,Ce=!1){let Ge;const ht=yield hn(ee.appConfig,cn=>{if(!nt(cn))throw Xe.create("not-registered");const Sn=cn.authToken;if(!Ce&&yt(Sn))return cn;if(1===Sn.requestStatus)return Ge=zt(ee,Ce),cn;{if(!navigator.onLine)throw Xe.create("app-offline");const Tn=Ht(cn);return Ge=et(ee,Tn),Tn}});return Ge?yield Ge:ht.authToken})).apply(this,arguments)}function zt(ee,Ce){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(ee,Ce){let Ge=yield Dn(ee.appConfig);for(;1===Ge.authToken.requestStatus;)yield he(100),Ge=yield Dn(ee.appConfig);const ht=Ge.authToken;return 0===ht.requestStatus?Ot(ee,Ce):ht})).apply(this,arguments)}function Dn(ee){return hn(ee,Ce=>{if(!nt(Ce))throw Xe.create("not-registered");return function G(ee){return 1===ee.requestStatus&&ee.requestTime+1e4<Date.now()}(Ce.authToken)?Object.assign(Object.assign({},Ce),{authToken:{requestStatus:0}}):Ce})}function et(ee,Ce){return Se.apply(this,arguments)}function Se(){return(Se=(0,u.Z)(function*(ee,Ce){try{const Ge=yield Jn(ee,Ce),ht=Object.assign(Object.assign({},Ce),{authToken:Ge});return yield Bn(ee.appConfig,ht),Ge}catch(Ge){if(!be(Ge)||401!==Ge.customData.serverCode&&404!==Ge.customData.serverCode){const ht=Object.assign(Object.assign({},Ce),{authToken:{requestStatus:0}});yield Bn(ee.appConfig,ht)}else yield zr(ee.appConfig);throw Ge}})).apply(this,arguments)}function nt(ee){return void 0!==ee&&2===ee.registrationStatus}function yt(ee){return 2===ee.requestStatus&&!function Et(ee){const Ce=Date.now();return Ce<ee.creationTime||ee.creationTime+ee.expiresIn<Ce+36e5}(ee)}function Ht(ee){const Ce={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ee),{authToken:Ce})}function P(){return(P=(0,u.Z)(function*(ee){const Ce=ee,{installationEntry:Ge,registrationPromise:ht}=yield dn(Ce);return ht?ht.catch(console.error):Ot(Ce).catch(console.error),Ge.fid})).apply(this,arguments)}function D(){return(D=(0,u.Z)(function*(ee,Ce=!1){const Ge=ee;return yield k(Ge),(yield Ot(Ge,Ce)).token})).apply(this,arguments)}function k(ee){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(function*(ee){const{registrationPromise:Ce}=yield dn(ee);Ce&&(yield Ce)})).apply(this,arguments)}function $t(ee){return Xe.create("missing-app-config-values",{valueName:ee})}const Qr="installations",ki=ee=>{const Ce=ee.getProvider("app").getImmediate(),Ge=function It(ee){if(!ee||!ee.options)throw $t("App Configuration");if(!ee.name)throw $t("App Name");const Ce=["projectId","apiKey","appId"];for(const Ge of Ce)if(!ee.options[Ge])throw $t(Ge);return{appName:ee.name,projectId:ee.options.projectId,apiKey:ee.options.apiKey,appId:ee.options.appId}}(Ce);return{app:Ce,appConfig:Ge,heartbeatServiceProvider:(0,B._getProvider)(Ce,"heartbeat"),_delete:()=>Promise.resolve()}},Ki=ee=>{const Ce=ee.getProvider("app").getImmediate(),Ge=(0,B._getProvider)(Ce,Qr).getImmediate();return{getId:()=>function j(ee){return P.apply(this,arguments)}(Ge),getToken:Gt=>function O(ee){return D.apply(this,arguments)}(Ge,Gt)}};(function vt(){(0,B._registerComponent)(new N.wA(Qr,ki,"PUBLIC")),(0,B._registerComponent)(new N.wA("installations-internal",Ki,"PRIVATE"))})(),(0,B.registerVersion)(ve,le),(0,B.registerVersion)(ve,le,"esm2017")},1877:(gt,Oe,F)=>{F.d(Oe,{Am:()=>_e,Ub:()=>pe,Yd:()=>le,in:()=>B});const u=[];var B=(()=>{return(W=B||(B={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",B;var W})();const N={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ne=B.INFO,ge={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ve=(W,H,...Q)=>{if(H<W.logLevel)return;const Pe=(new Date).toISOString(),De=ge[H];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[De](`[${Pe}]  ${W.name}:`,...Q)};class le{constructor(H){this.name=H,this._logLevel=ne,this._logHandler=ve,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in B))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?N[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...H),this._logHandler(this,B.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...H),this._logHandler(this,B.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,B.INFO,...H),this._logHandler(this,B.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,B.WARN,...H),this._logHandler(this,B.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...H),this._logHandler(this,B.ERROR,...H)}}function pe(W){u.forEach(H=>{H.setLogLevel(W)})}function _e(W,H){for(const Q of u){let Pe=null;H&&H.level&&(Pe=N[H.level]),Q.userLogHandler=null===W?null:(De,xe,...Xe)=>{const be=Xe.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");xe>=(Pe??De.logLevel)&&W({level:B[xe].toLowerCase(),message:be,args:Xe,type:De.name})}}}},8766:(gt,Oe,F)=>{F.d(Oe,{Lj:()=>Fe,X3:()=>Qe});var u=F(5861);let N,ne;const le=new WeakMap,pe=new WeakMap,_e=new WeakMap,W=new WeakMap,H=new WeakMap;let De={get(ae,we,J){if(ae instanceof IDBTransaction){if("done"===we)return pe.get(ae);if("objectStoreNames"===we)return ae.objectStoreNames||_e.get(ae);if("store"===we)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return de(ae[we])},set:(ae,we,J)=>(ae[we]=J,!0),has:(ae,we)=>ae instanceof IDBTransaction&&("done"===we||"store"===we)||we in ae};function be(ae){return"function"==typeof ae?function Xe(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...we){return ae.apply(ot(this),we),de(le.get(this))}:function(...we){return de(ae.apply(ot(this),we))}:function(we,...J){const X=ae.call(ot(this),we,...J);return _e.set(X,we.sort?we.sort():[we]),de(X)}}(ae):(ae instanceof IDBTransaction&&function Pe(ae){if(pe.has(ae))return;const we=new Promise((J,X)=>{const he=()=>{ae.removeEventListener("complete",oe),ae.removeEventListener("error",ze),ae.removeEventListener("abort",ze)},oe=()=>{J(),he()},ze=()=>{X(ae.error||new DOMException("AbortError","AbortError")),he()};ae.addEventListener("complete",oe),ae.addEventListener("error",ze),ae.addEventListener("abort",ze)});pe.set(ae,we)}(ae),((ae,we)=>we.some(J=>ae instanceof J))(ae,function ge(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,De):ae)}function de(ae){if(ae instanceof IDBRequest)return function Q(ae){const we=new Promise((J,X)=>{const he=()=>{ae.removeEventListener("success",oe),ae.removeEventListener("error",ze)},oe=()=>{J(de(ae.result)),he()},ze=()=>{X(ae.error),he()};ae.addEventListener("success",oe),ae.addEventListener("error",ze)});return we.then(J=>{J instanceof IDBCursor&&le.set(J,ae)}).catch(()=>{}),H.set(we,ae),we}(ae);if(W.has(ae))return W.get(ae);const we=be(ae);return we!==ae&&(W.set(ae,we),H.set(we,ae)),we}const ot=ae=>H.get(ae);function Qe(ae,we,{blocked:J,upgrade:X,blocking:he,terminated:oe}={}){const ze=indexedDB.open(ae,we),Be=de(ze);return X&&ze.addEventListener("upgradeneeded",ft=>{X(de(ze.result),ft.oldVersion,ft.newVersion,de(ze.transaction))}),J&&ze.addEventListener("blocked",()=>J()),Be.then(ft=>{oe&&ft.addEventListener("close",()=>oe()),he&&ft.addEventListener("versionchange",()=>he())}).catch(()=>{}),Be}function Fe(ae,{blocked:we}={}){const J=indexedDB.deleteDatabase(ae);return we&&J.addEventListener("blocked",()=>we()),de(J).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ye=new Map;function te(ae,we){if(!(ae instanceof IDBDatabase)||we in ae||"string"!=typeof we)return;if(Ye.get(we))return Ye.get(we);const J=we.replace(/FromIndex$/,""),X=we!==J,he=Ee.includes(J);if(!(J in(X?IDBIndex:IDBObjectStore).prototype)||!he&&!Re.includes(J))return;const oe=function(){var ze=(0,u.Z)(function*(Be,...ft){const Xt=this.transaction(Be,he?"readwrite":"readonly");let At=Xt.store;return X&&(At=At.index(ft.shift())),(yield Promise.all([At[J](...ft),he&&Xt.done]))[0]});return function(ft){return ze.apply(this,arguments)}}();return Ye.set(we,oe),oe}!function xe(ae){De=ae(De)}(ae=>({...ae,get:(we,J,X)=>te(we,J)||ae.get(we,J,X),has:(we,J)=>!!te(we,J)||ae.has(we,J)}))},5861:(gt,Oe,F)=>{function u(N,ne,ge,ve,le,pe,_e){try{var W=N[pe](_e),H=W.value}catch(Q){return void ge(Q)}W.done?ne(H):Promise.resolve(H).then(ve,le)}function B(N){return function(){var ne=this,ge=arguments;return new Promise(function(ve,le){var pe=N.apply(ne,ge);function _e(H){u(pe,ve,le,_e,W,"next",H)}function W(H){u(pe,ve,le,_e,W,"throw",H)}_e(void 0)})}}F.d(Oe,{Z:()=>B})}},gt=>{gt(gt.s=2235)}]);